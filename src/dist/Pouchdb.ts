export const workerPouchdb = "LyoqKioqKioqKioqKioqKioqKip3b3JrZXJQb3VjaGRiKioqKioqKioqKioqKiovCgovLyBQb3VjaERCIDcuMi4yCi8vIAovLyAoYykgMjAxMi0yMDIwIERhbGUgSGFydmV5IGFuZCB0aGUgUG91Y2hEQiB0ZWFtCi8vIFBvdWNoREIgbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgQXBhY2hlIGxpY2Vuc2UsIHZlcnNpb24gMi4wLgovLyBGb3IgYWxsIGRldGFpbHMgYW5kIGRvY3VtZW50YXRpb246Ci8vIGh0dHA6Ly9wb3VjaGRiLmNvbQohZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNleygidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMpLlBvdWNoREI9ZSgpfX0oKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIG8ocyxhKXtpZighbltzXSl7aWYoIXRbc10pe3ZhciB1PSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFhJiZ1KXJldHVybiB1KHMsITApO2lmKGkpcmV0dXJuIGkocywhMCk7dmFyIGM9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrcysiJyIpO3Rocm93IGMuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsY312YXIgZj1uW3NdPXtleHBvcnRzOnt9fTt0W3NdWzBdLmNhbGwoZi5leHBvcnRzLChmdW5jdGlvbihlKXtyZXR1cm4gbyh0W3NdWzFdW2VdfHxlKX0pLGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW3NdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPHIubGVuZ3RoO3MrKylvKHJbc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aDtpZih0KXtmb3IodmFyIG49W10scj0tMTsrK3I8dDspbltyXT1hcmd1bWVudHNbcl07cmV0dXJuIGUuY2FsbCh0aGlzLG4pfXJldHVybiBlLmNhbGwodGhpcyxbXSl9fX0se31dLDI6W2Z1bmN0aW9uKGUsdCxuKXt9LHt9XSwzOltmdW5jdGlvbihlLHQsbil7dmFyIHI9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oKXt9O3JldHVybiB0LnByb3RvdHlwZT1lLG5ldyB0fSxvPU9iamVjdC5rZXlzfHxmdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmdC5wdXNoKG4pO3JldHVybiBufSxpPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHxmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19O2Z1bmN0aW9uIHMoKXt0aGlzLl9ldmVudHMmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLCJfZXZlbnRzIil8fCh0aGlzLl9ldmVudHM9cihudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wKSx0aGlzLl9tYXhMaXN0ZW5lcnM9dGhpcy5fbWF4TGlzdGVuZXJzfHx2b2lkIDB9dC5leHBvcnRzPXMscy5FdmVudEVtaXR0ZXI9cyxzLnByb3RvdHlwZS5fZXZlbnRzPXZvaWQgMCxzLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzPXZvaWQgMDt2YXIgYSx1PTEwO3RyeXt2YXIgYz17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShjLCJ4Iix7dmFsdWU6MH0pLGE9MD09PWMueH1jYXRjaChlKXthPSExfWZ1bmN0aW9uIGYoZSl7cmV0dXJuIHZvaWQgMD09PWUuX21heExpc3RlbmVycz9zLmRlZmF1bHRNYXhMaXN0ZW5lcnM6ZS5fbWF4TGlzdGVuZXJzfWZ1bmN0aW9uIGwoZSx0LG4pe2lmKHQpZS5jYWxsKG4pO2Vsc2UgZm9yKHZhciByPWUubGVuZ3RoLG89dyhlLHIpLGk9MDtpPHI7KytpKW9baV0uY2FsbChuKX1mdW5jdGlvbiBkKGUsdCxuLHIpe2lmKHQpZS5jYWxsKG4scik7ZWxzZSBmb3IodmFyIG89ZS5sZW5ndGgsaT13KGUsbykscz0wO3M8bzsrK3MpaVtzXS5jYWxsKG4scil9ZnVuY3Rpb24gaChlLHQsbixyLG8pe2lmKHQpZS5jYWxsKG4scixvKTtlbHNlIGZvcih2YXIgaT1lLmxlbmd0aCxzPXcoZSxpKSxhPTA7YTxpOysrYSlzW2FdLmNhbGwobixyLG8pfWZ1bmN0aW9uIHAoZSx0LG4scixvLGkpe2lmKHQpZS5jYWxsKG4scixvLGkpO2Vsc2UgZm9yKHZhciBzPWUubGVuZ3RoLGE9dyhlLHMpLHU9MDt1PHM7Kyt1KWFbdV0uY2FsbChuLHIsbyxpKX1mdW5jdGlvbiB2KGUsdCxuLHIpe2lmKHQpZS5hcHBseShuLHIpO2Vsc2UgZm9yKHZhciBvPWUubGVuZ3RoLGk9dyhlLG8pLHM9MDtzPG87KytzKWlbc10uYXBwbHkobixyKX1mdW5jdGlvbiB5KGUsdCxuLG8pe3ZhciBpLHMsYTtpZigiZnVuY3Rpb24iIT10eXBlb2Ygbil0aHJvdyBuZXcgVHlwZUVycm9yKCcibGlzdGVuZXIiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO2lmKChzPWUuX2V2ZW50cyk/KHMubmV3TGlzdGVuZXImJihlLmVtaXQoIm5ld0xpc3RlbmVyIix0LG4ubGlzdGVuZXI/bi5saXN0ZW5lcjpuKSxzPWUuX2V2ZW50cyksYT1zW3RdKToocz1lLl9ldmVudHM9cihudWxsKSxlLl9ldmVudHNDb3VudD0wKSxhKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgYT9hPXNbdF09bz9bbixhXTpbYSxuXTpvP2EudW5zaGlmdChuKTphLnB1c2gobiksIWEud2FybmVkJiYoaT1mKGUpKSYmaT4wJiZhLmxlbmd0aD5pKXthLndhcm5lZD0hMDt2YXIgdT1uZXcgRXJyb3IoIlBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gIithLmxlbmd0aCsnICInK1N0cmluZyh0KSsnIiBsaXN0ZW5lcnMgYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LicpO3UubmFtZT0iTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nIix1LmVtaXR0ZXI9ZSx1LnR5cGU9dCx1LmNvdW50PWEubGVuZ3RoLCJvYmplY3QiPT10eXBlb2YgY29uc29sZSYmY29uc29sZS53YXJuJiZjb25zb2xlLndhcm4oIiVzOiAlcyIsdS5uYW1lLHUubWVzc2FnZSl9fWVsc2UgYT1zW3RdPW4sKytlLl9ldmVudHNDb3VudDtyZXR1cm4gZX1mdW5jdGlvbiBnKCl7aWYoIXRoaXMuZmlyZWQpc3dpdGNoKHRoaXMudGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHRoaXMudHlwZSx0aGlzLndyYXBGbiksdGhpcy5maXJlZD0hMCxhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIHRoaXMubGlzdGVuZXIuY2FsbCh0aGlzLnRhcmdldCk7Y2FzZSAxOnJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQsYXJndW1lbnRzWzBdKTtjYXNlIDI6cmV0dXJuIHRoaXMubGlzdGVuZXIuY2FsbCh0aGlzLnRhcmdldCxhcmd1bWVudHNbMF0sYXJndW1lbnRzWzFdKTtjYXNlIDM6cmV0dXJuIHRoaXMubGlzdGVuZXIuY2FsbCh0aGlzLnRhcmdldCxhcmd1bWVudHNbMF0sYXJndW1lbnRzWzFdLGFyZ3VtZW50c1syXSk7ZGVmYXVsdDpmb3IodmFyIGU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLHQ9MDt0PGUubGVuZ3RoOysrdCllW3RdPWFyZ3VtZW50c1t0XTt0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LGUpfX1mdW5jdGlvbiBfKGUsdCxuKXt2YXIgcj17ZmlyZWQ6ITEsd3JhcEZuOnZvaWQgMCx0YXJnZXQ6ZSx0eXBlOnQsbGlzdGVuZXI6bn0sbz1pLmNhbGwoZyxyKTtyZXR1cm4gby5saXN0ZW5lcj1uLHIud3JhcEZuPW8sb31mdW5jdGlvbiBtKGUsdCxuKXt2YXIgcj1lLl9ldmVudHM7aWYoIXIpcmV0dXJuW107dmFyIG89clt0XTtyZXR1cm4gbz8iZnVuY3Rpb24iPT10eXBlb2Ygbz9uP1tvLmxpc3RlbmVyfHxvXTpbb106bj9mdW5jdGlvbihlKXtmb3IodmFyIHQ9bmV3IEFycmF5KGUubGVuZ3RoKSxuPTA7bjx0Lmxlbmd0aDsrK24pdFtuXT1lW25dLmxpc3RlbmVyfHxlW25dO3JldHVybiB0fShvKTp3KG8sby5sZW5ndGgpOltdfWZ1bmN0aW9uIGIoZSl7dmFyIHQ9dGhpcy5fZXZlbnRzO2lmKHQpe3ZhciBuPXRbZV07aWYoImZ1bmN0aW9uIj09dHlwZW9mIG4pcmV0dXJuIDE7aWYobilyZXR1cm4gbi5sZW5ndGh9cmV0dXJuIDB9ZnVuY3Rpb24gdyhlLHQpe2Zvcih2YXIgbj1uZXcgQXJyYXkodCkscj0wO3I8dDsrK3IpbltyXT1lW3JdO3JldHVybiBufWE/T2JqZWN0LmRlZmluZVByb3BlcnR5KHMsImRlZmF1bHRNYXhMaXN0ZW5lcnMiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB1fSxzZXQ6ZnVuY3Rpb24oZSl7aWYoIm51bWJlciIhPXR5cGVvZiBlfHxlPDB8fGUhPWUpdGhyb3cgbmV3IFR5cGVFcnJvcignImRlZmF1bHRNYXhMaXN0ZW5lcnMiIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKTt1PWV9fSk6cy5kZWZhdWx0TWF4TGlzdGVuZXJzPXUscy5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKGUpe2lmKCJudW1iZXIiIT10eXBlb2YgZXx8ZTwwfHxpc05hTihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCcibiIgYXJndW1lbnQgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO3JldHVybiB0aGlzLl9tYXhMaXN0ZW5lcnM9ZSx0aGlzfSxzLnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzKX0scy5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLHMsYT0iZXJyb3IiPT09ZTtpZihzPXRoaXMuX2V2ZW50cylhPWEmJm51bGw9PXMuZXJyb3I7ZWxzZSBpZighYSlyZXR1cm4hMTtpZihhKXtpZihhcmd1bWVudHMubGVuZ3RoPjEmJih0PWFyZ3VtZW50c1sxXSksdCBpbnN0YW5jZW9mIEVycm9yKXRocm93IHQ7dmFyIHU9bmV3IEVycm9yKCdVbmhhbmRsZWQgImVycm9yIiBldmVudC4gKCcrdCsiKSIpO3Rocm93IHUuY29udGV4dD10LHV9aWYoIShuPXNbZV0pKXJldHVybiExO3ZhciBjPSJmdW5jdGlvbiI9PXR5cGVvZiBuO3N3aXRjaChyPWFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMTpsKG4sYyx0aGlzKTticmVhaztjYXNlIDI6ZChuLGMsdGhpcyxhcmd1bWVudHNbMV0pO2JyZWFrO2Nhc2UgMzpoKG4sYyx0aGlzLGFyZ3VtZW50c1sxXSxhcmd1bWVudHNbMl0pO2JyZWFrO2Nhc2UgNDpwKG4sYyx0aGlzLGFyZ3VtZW50c1sxXSxhcmd1bWVudHNbMl0sYXJndW1lbnRzWzNdKTticmVhaztkZWZhdWx0OmZvcihvPW5ldyBBcnJheShyLTEpLGk9MTtpPHI7aSsrKW9baS0xXT1hcmd1bWVudHNbaV07dihuLGMsdGhpcyxvKX1yZXR1cm4hMH0scy5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4geSh0aGlzLGUsdCwhMSl9LHMucHJvdG90eXBlLm9uPXMucHJvdG90eXBlLmFkZExpc3RlbmVyLHMucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3JldHVybiB5KHRoaXMsZSx0LCEwKX0scy5wcm90b3R5cGUub25jZT1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoJyJsaXN0ZW5lciIgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7cmV0dXJuIHRoaXMub24oZSxfKHRoaXMsZSx0KSksdGhpc30scy5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoJyJsaXN0ZW5lciIgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7cmV0dXJuIHRoaXMucHJlcGVuZExpc3RlbmVyKGUsXyh0aGlzLGUsdCkpLHRoaXN9LHMucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dmFyIG4sbyxpLHMsYTtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCcibGlzdGVuZXIiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO2lmKCEobz10aGlzLl9ldmVudHMpKXJldHVybiB0aGlzO2lmKCEobj1vW2VdKSlyZXR1cm4gdGhpcztpZihuPT09dHx8bi5saXN0ZW5lcj09PXQpMD09LS10aGlzLl9ldmVudHNDb3VudD90aGlzLl9ldmVudHM9cihudWxsKTooZGVsZXRlIG9bZV0sby5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KCJyZW1vdmVMaXN0ZW5lciIsZSxuLmxpc3RlbmVyfHx0KSk7ZWxzZSBpZigiZnVuY3Rpb24iIT10eXBlb2Ygbil7Zm9yKGk9LTEscz1uLmxlbmd0aC0xO3M+PTA7cy0tKWlmKG5bc109PT10fHxuW3NdLmxpc3RlbmVyPT09dCl7YT1uW3NdLmxpc3RlbmVyLGk9czticmVha31pZihpPDApcmV0dXJuIHRoaXM7MD09PWk/bi5zaGlmdCgpOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXQscj1uKzEsbz1lLmxlbmd0aDtyPG87bis9MSxyKz0xKWVbbl09ZVtyXTtlLnBvcCgpfShuLGkpLDE9PT1uLmxlbmd0aCYmKG9bZV09blswXSksby5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KCJyZW1vdmVMaXN0ZW5lciIsZSxhfHx0KX1yZXR1cm4gdGhpc30scy5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3ZhciB0LG4saTtpZighKG49dGhpcy5fZXZlbnRzKSlyZXR1cm4gdGhpcztpZighbi5yZW1vdmVMaXN0ZW5lcilyZXR1cm4gMD09PWFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX2V2ZW50cz1yKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTApOm5bZV0mJigwPT0tLXRoaXMuX2V2ZW50c0NvdW50P3RoaXMuX2V2ZW50cz1yKG51bGwpOmRlbGV0ZSBuW2VdKSx0aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgcyxhPW8obik7Zm9yKGk9MDtpPGEubGVuZ3RoOysraSkicmVtb3ZlTGlzdGVuZXIiIT09KHM9YVtpXSkmJnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKHMpO3JldHVybiB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygicmVtb3ZlTGlzdGVuZXIiKSx0aGlzLl9ldmVudHM9cihudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wLHRoaXN9aWYoImZ1bmN0aW9uIj09dHlwZW9mKHQ9bltlXSkpdGhpcy5yZW1vdmVMaXN0ZW5lcihlLHQpO2Vsc2UgaWYodClmb3IoaT10Lmxlbmd0aC0xO2k+PTA7aS0tKXRoaXMucmVtb3ZlTGlzdGVuZXIoZSx0W2ldKTtyZXR1cm4gdGhpc30scy5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybiBtKHRoaXMsZSwhMCl9LHMucHJvdG90eXBlLnJhd0xpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm4gbSh0aGlzLGUsITEpfSxzLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZS5saXN0ZW5lckNvdW50P2UubGlzdGVuZXJDb3VudCh0KTpiLmNhbGwoZSx0KX0scy5wcm90b3R5cGUubGlzdGVuZXJDb3VudD1iLHMucHJvdG90eXBlLmV2ZW50TmFtZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQ+MD9SZWZsZWN0Lm93bktleXModGhpcy5fZXZlbnRzKTpbXX19LHt9XSw0OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByLG8saSxzPVtlKDIpLGUoNyksZSg2KSxlKDUpLGUoOCksZSg5KV0sYT0tMSx1PVtdLGM9ITE7ZnVuY3Rpb24gZigpe3ImJm8mJihyPSExLG8ubGVuZ3RoP3U9by5jb25jYXQodSk6YT0tMSx1Lmxlbmd0aCYmbCgpKX1mdW5jdGlvbiBsKCl7aWYoIXIpe2M9ITEscj0hMDtmb3IodmFyIGU9dS5sZW5ndGgsdD1zZXRUaW1lb3V0KGYpO2U7KXtmb3Iobz11LHU9W107byYmKythPGU7KW9bYV0ucnVuKCk7YT0tMSxlPXUubGVuZ3RofW89bnVsbCxhPS0xLHI9ITEsY2xlYXJUaW1lb3V0KHQpfX1mb3IodmFyIGQ9LTEsaD1zLmxlbmd0aDsrK2Q8aDspaWYoc1tkXSYmc1tkXS50ZXN0JiZzW2RdLnRlc3QoKSl7aT1zW2RdLmluc3RhbGwobCk7YnJlYWt9ZnVuY3Rpb24gcChlLHQpe3RoaXMuZnVuPWUsdGhpcy5hcnJheT10fXAucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZnVuLHQ9dGhpcy5hcnJheTtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gZSgpO2Nhc2UgMTpyZXR1cm4gZSh0WzBdKTtjYXNlIDI6cmV0dXJuIGUodFswXSx0WzFdKTtjYXNlIDM6cmV0dXJuIGUodFswXSx0WzFdLHRbMl0pO2RlZmF1bHQ6cmV0dXJuIGUuYXBwbHkobnVsbCx0KX19LHQuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO3UucHVzaChuZXcgcChlLHQpKSxjfHxyfHwoYz0hMCxpKCkpfX0sezI6Miw1OjUsNjo2LDc6Nyw4OjgsOTo5fV0sNTpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7bi50ZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIWUuc2V0SW1tZWRpYXRlJiZ2b2lkIDAhPT1lLk1lc3NhZ2VDaGFubmVsfSxuLmluc3RhbGw9ZnVuY3Rpb24odCl7dmFyIG49bmV3IGUuTWVzc2FnZUNoYW5uZWw7cmV0dXJuIG4ucG9ydDEub25tZXNzYWdlPXQsZnVuY3Rpb24oKXtuLnBvcnQyLnBvc3RNZXNzYWdlKDApfX19KS5jYWxsKHRoaXMsInVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XSw2OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD1lLk11dGF0aW9uT2JzZXJ2ZXJ8fGUuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtuLnRlc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdH0sbi5pbnN0YWxsPWZ1bmN0aW9uKG4pe3ZhciByPTAsbz1uZXcgdChuKSxpPWUuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO3JldHVybiBvLm9ic2VydmUoaSx7Y2hhcmFjdGVyRGF0YTohMH0pLGZ1bmN0aW9uKCl7aS5kYXRhPXI9KytyJTJ9fX0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDc6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO24udGVzdD1mdW5jdGlvbigpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlLnF1ZXVlTWljcm90YXNrfSxuLmluc3RhbGw9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7ZS5xdWV1ZU1pY3JvdGFzayh0KX19fSkuY2FsbCh0aGlzLCJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sODpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7bi50ZXN0PWZ1bmN0aW9uKCl7cmV0dXJuImRvY3VtZW50ImluIGUmJiJvbnJlYWR5c3RhdGVjaGFuZ2UiaW4gZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKX0sbi5pbnN0YWxsPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBuPWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7cmV0dXJuIG4ub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7dCgpLG4ub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pLG49bnVsbH0sZS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQobiksdH19fSkuY2FsbCh0aGlzLCJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sOTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLnRlc3Q9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sbi5pbnN0YWxsPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3NldFRpbWVvdXQoZSwwKX19fSx7fV0sMTA6W2Z1bmN0aW9uKGUsdCxuKXsiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmNyZWF0ZT90LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt0JiYoZS5zdXBlcl89dCxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSl9OnQuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKHQpe2Uuc3VwZXJfPXQ7dmFyIG49ZnVuY3Rpb24oKXt9O24ucHJvdG90eXBlPXQucHJvdG90eXBlLGUucHJvdG90eXBlPW5ldyBuLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWV9fX0se31dLDExOltmdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpPXQuZXhwb3J0cz17fTtmdW5jdGlvbiBzKCl7dGhyb3cgbmV3IEVycm9yKCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkIil9ZnVuY3Rpb24gYSgpe3Rocm93IG5ldyBFcnJvcigiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkIil9ZnVuY3Rpb24gdShlKXtpZihyPT09c2V0VGltZW91dClyZXR1cm4gc2V0VGltZW91dChlLDApO2lmKChyPT09c3x8IXIpJiZzZXRUaW1lb3V0KXJldHVybiByPXNldFRpbWVvdXQsc2V0VGltZW91dChlLDApO3RyeXtyZXR1cm4gcihlLDApfWNhdGNoKHQpe3RyeXtyZXR1cm4gci5jYWxsKG51bGwsZSwwKX1jYXRjaCh0KXtyZXR1cm4gci5jYWxsKHRoaXMsZSwwKX19fSFmdW5jdGlvbigpe3RyeXtyPSJmdW5jdGlvbiI9PXR5cGVvZiBzZXRUaW1lb3V0P3NldFRpbWVvdXQ6c31jYXRjaChlKXtyPXN9dHJ5e289ImZ1bmN0aW9uIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6YX1jYXRjaChlKXtvPWF9fSgpO3ZhciBjLGY9W10sbD0hMSxkPS0xO2Z1bmN0aW9uIGgoKXtsJiZjJiYobD0hMSxjLmxlbmd0aD9mPWMuY29uY2F0KGYpOmQ9LTEsZi5sZW5ndGgmJnAoKSl9ZnVuY3Rpb24gcCgpe2lmKCFsKXt2YXIgZT11KGgpO2w9ITA7Zm9yKHZhciB0PWYubGVuZ3RoO3Q7KXtmb3IoYz1mLGY9W107KytkPHQ7KWMmJmNbZF0ucnVuKCk7ZD0tMSx0PWYubGVuZ3RofWM9bnVsbCxsPSExLGZ1bmN0aW9uKGUpe2lmKG89PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dChlKTtpZigobz09PWF8fCFvKSYmY2xlYXJUaW1lb3V0KXJldHVybiBvPWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQoZSk7dHJ5e28oZSl9Y2F0Y2godCl7dHJ5e3JldHVybiBvLmNhbGwobnVsbCxlKX1jYXRjaCh0KXtyZXR1cm4gby5jYWxsKHRoaXMsZSl9fX0oZSl9fWZ1bmN0aW9uIHYoZSx0KXt0aGlzLmZ1bj1lLHRoaXMuYXJyYXk9dH1mdW5jdGlvbiB5KCl7fWkubmV4dFRpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTtmLnB1c2gobmV3IHYoZSx0KSksMSE9PWYubGVuZ3RofHxsfHx1KHApfSx2LnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxpLnRpdGxlPSJicm93c2VyIixpLmJyb3dzZXI9ITAsaS5lbnY9e30saS5hcmd2PVtdLGkudmVyc2lvbj0iIixpLnZlcnNpb25zPXt9LGkub249eSxpLmFkZExpc3RlbmVyPXksaS5vbmNlPXksaS5vZmY9eSxpLnJlbW92ZUxpc3RlbmVyPXksaS5yZW1vdmVBbGxMaXN0ZW5lcnM9eSxpLmVtaXQ9eSxpLnByZXBlbmRMaXN0ZW5lcj15LGkucHJlcGVuZE9uY2VMaXN0ZW5lcj15LGkubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybltdfSxpLmJpbmRpbmc9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCIpfSxpLmN3ZD1mdW5jdGlvbigpe3JldHVybiIvIn0saS5jaGRpcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCIpfSxpLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fSx7fV0sMTI6W2Z1bmN0aW9uKGUsdCxuKXshZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBuKXQuZXhwb3J0cz1lKCk7ZWxzZXt2YXIgcjt0cnl7cj13aW5kb3d9Y2F0Y2goZSl7cj1zZWxmfXIuU3BhcmtNRDU9ZSgpfX0oKGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD1bIjAiLCIxIiwiMiIsIjMiLCI0IiwiNSIsIjYiLCI3IiwiOCIsIjkiLCJhIiwiYiIsImMiLCJkIiwiZSIsImYiXTtmdW5jdGlvbiBuKGUsdCl7dmFyIG49ZVswXSxyPWVbMV0sbz1lWzJdLGk9ZVszXTtyPSgocis9KChvPSgobys9KChpPSgoaSs9KChuPSgobis9KHImb3x+ciZpKSt0WzBdLTY4MDg3NjkzNnwwKTw8N3xuPj4+MjUpK3J8MCkmcnx+biZvKSt0WzFdLTM4OTU2NDU4NnwwKTw8MTJ8aT4+PjIwKStufDApJm58fmkmcikrdFsyXSs2MDYxMDU4MTl8MCk8PDE3fG8+Pj4xNSkraXwwKSZpfH5vJm4pK3RbM10tMTA0NDUyNTMzMHwwKTw8MjJ8cj4+PjEwKStvfDAscj0oKHIrPSgobz0oKG8rPSgoaT0oKGkrPSgobj0oKG4rPShyJm98fnImaSkrdFs0XS0xNzY0MTg4OTd8MCk8PDd8bj4+PjI1KStyfDApJnJ8fm4mbykrdFs1XSsxMjAwMDgwNDI2fDApPDwxMnxpPj4+MjApK258MCkmbnx+aSZyKSt0WzZdLTE0NzMyMzEzNDF8MCk8PDE3fG8+Pj4xNSkraXwwKSZpfH5vJm4pK3RbN10tNDU3MDU5ODN8MCk8PDIyfHI+Pj4xMCkrb3wwLHI9KChyKz0oKG89KChvKz0oKGk9KChpKz0oKG49KChuKz0ociZvfH5yJmkpK3RbOF0rMTc3MDAzNTQxNnwwKTw8N3xuPj4+MjUpK3J8MCkmcnx+biZvKSt0WzldLTE5NTg0MTQ0MTd8MCk8PDEyfGk+Pj4yMCkrbnwwKSZufH5pJnIpK3RbMTBdLTQyMDYzfDApPDwxN3xvPj4+MTUpK2l8MCkmaXx+byZuKSt0WzExXS0xOTkwNDA0MTYyfDApPDwyMnxyPj4+MTApK298MCxyPSgocis9KChvPSgobys9KChpPSgoaSs9KChuPSgobis9KHImb3x+ciZpKSt0WzEyXSsxODA0NjAzNjgyfDApPDw3fG4+Pj4yNSkrcnwwKSZyfH5uJm8pK3RbMTNdLTQwMzQxMTAxfDApPDwxMnxpPj4+MjApK258MCkmbnx+aSZyKSt0WzE0XS0xNTAyMDAyMjkwfDApPDwxN3xvPj4+MTUpK2l8MCkmaXx+byZuKSt0WzE1XSsxMjM2NTM1MzI5fDApPDwyMnxyPj4+MTApK298MCxyPSgocis9KChvPSgobys9KChpPSgoaSs9KChuPSgobis9KHImaXxvJn5pKSt0WzFdLTE2NTc5NjUxMHwwKTw8NXxuPj4+MjcpK3J8MCkmb3xyJn5vKSt0WzZdLTEwNjk1MDE2MzJ8MCk8PDl8aT4+PjIzKStufDApJnJ8biZ+cikrdFsxMV0rNjQzNzE3NzEzfDApPDwxNHxvPj4+MTgpK2l8MCkmbnxpJn5uKSt0WzBdLTM3Mzg5NzMwMnwwKTw8MjB8cj4+PjEyKStvfDAscj0oKHIrPSgobz0oKG8rPSgoaT0oKGkrPSgobj0oKG4rPShyJml8byZ+aSkrdFs1XS03MDE1NTg2OTF8MCk8PDV8bj4+PjI3KStyfDApJm98ciZ+bykrdFsxMF0rMzgwMTYwODN8MCk8PDl8aT4+PjIzKStufDApJnJ8biZ+cikrdFsxNV0tNjYwNDc4MzM1fDApPDwxNHxvPj4+MTgpK2l8MCkmbnxpJn5uKSt0WzRdLTQwNTUzNzg0OHwwKTw8MjB8cj4+PjEyKStvfDAscj0oKHIrPSgobz0oKG8rPSgoaT0oKGkrPSgobj0oKG4rPShyJml8byZ+aSkrdFs5XSs1Njg0NDY0Mzh8MCk8PDV8bj4+PjI3KStyfDApJm98ciZ+bykrdFsxNF0tMTAxOTgwMzY5MHwwKTw8OXxpPj4+MjMpK258MCkmcnxuJn5yKSt0WzNdLTE4NzM2Mzk2MXwwKTw8MTR8bz4+PjE4KStpfDApJm58aSZ+bikrdFs4XSsxMTYzNTMxNTAxfDApPDwyMHxyPj4+MTIpK298MCxyPSgocis9KChvPSgobys9KChpPSgoaSs9KChuPSgobis9KHImaXxvJn5pKSt0WzEzXS0xNDQ0NjgxNDY3fDApPDw1fG4+Pj4yNykrcnwwKSZvfHImfm8pK3RbMl0tNTE0MDM3ODR8MCk8PDl8aT4+PjIzKStufDApJnJ8biZ+cikrdFs3XSsxNzM1MzI4NDczfDApPDwxNHxvPj4+MTgpK2l8MCkmbnxpJn5uKSt0WzEyXS0xOTI2NjA3NzM0fDApPDwyMHxyPj4+MTIpK298MCxyPSgocis9KChvPSgobys9KChpPSgoaSs9KChuPSgobis9KHJeb15pKSt0WzVdLTM3ODU1OHwwKTw8NHxuPj4+MjgpK3J8MClecl5vKSt0WzhdLTIwMjI1NzQ0NjN8MCk8PDExfGk+Pj4yMSkrbnwwKV5uXnIpK3RbMTFdKzE4MzkwMzA1NjJ8MCk8PDE2fG8+Pj4xNikraXwwKV5pXm4pK3RbMTRdLTM1MzA5NTU2fDApPDwyM3xyPj4+OSkrb3wwLHI9KChyKz0oKG89KChvKz0oKGk9KChpKz0oKG49KChuKz0ocl5vXmkpK3RbMV0tMTUzMDk5MjA2MHwwKTw8NHxuPj4+MjgpK3J8MClecl5vKSt0WzRdKzEyNzI4OTMzNTN8MCk8PDExfGk+Pj4yMSkrbnwwKV5uXnIpK3RbN10tMTU1NDk3NjMyfDApPDwxNnxvPj4+MTYpK2l8MCleaV5uKSt0WzEwXS0xMDk0NzMwNjQwfDApPDwyM3xyPj4+OSkrb3wwLHI9KChyKz0oKG89KChvKz0oKGk9KChpKz0oKG49KChuKz0ocl5vXmkpK3RbMTNdKzY4MTI3OTE3NHwwKTw8NHxuPj4+MjgpK3J8MClecl5vKSt0WzBdLTM1ODUzNzIyMnwwKTw8MTF8aT4+PjIxKStufDApXm5ecikrdFszXS03MjI1MjE5Nzl8MCk8PDE2fG8+Pj4xNikraXwwKV5pXm4pK3RbNl0rNzYwMjkxODl8MCk8PDIzfHI+Pj45KStvfDAscj0oKHIrPSgobz0oKG8rPSgoaT0oKGkrPSgobj0oKG4rPShyXm9eaSkrdFs5XS02NDAzNjQ0ODd8MCk8PDR8bj4+PjI4KStyfDApXnJebykrdFsxMl0tNDIxODE1ODM1fDApPDwxMXxpPj4+MjEpK258MClebl5yKSt0WzE1XSs1MzA3NDI1MjB8MCk8PDE2fG8+Pj4xNikraXwwKV5pXm4pK3RbMl0tOTk1MzM4NjUxfDApPDwyM3xyPj4+OSkrb3wwLHI9KChyKz0oKGk9KChpKz0ocl4oKG49KChuKz0ob14ocnx+aSkpK3RbMF0tMTk4NjMwODQ0fDApPDw2fG4+Pj4yNikrcnwwKXx+bykpK3RbN10rMTEyNjg5MTQxNXwwKTw8MTB8aT4+PjIyKStufDApXigobz0oKG8rPShuXihpfH5yKSkrdFsxNF0tMTQxNjM1NDkwNXwwKTw8MTV8bz4+PjE3KStpfDApfH5uKSkrdFs1XS01NzQzNDA1NXwwKTw8MjF8cj4+PjExKStvfDAscj0oKHIrPSgoaT0oKGkrPShyXigobj0oKG4rPShvXihyfH5pKSkrdFsxMl0rMTcwMDQ4NTU3MXwwKTw8NnxuPj4+MjYpK3J8MCl8fm8pKSt0WzNdLTE4OTQ5ODY2MDZ8MCk8PDEwfGk+Pj4yMikrbnwwKV4oKG89KChvKz0obl4oaXx+cikpK3RbMTBdLTEwNTE1MjN8MCk8PDE1fG8+Pj4xNykraXwwKXx+bikpK3RbMV0tMjA1NDkyMjc5OXwwKTw8MjF8cj4+PjExKStvfDAscj0oKHIrPSgoaT0oKGkrPShyXigobj0oKG4rPShvXihyfH5pKSkrdFs4XSsxODczMzEzMzU5fDApPDw2fG4+Pj4yNikrcnwwKXx+bykpK3RbMTVdLTMwNjExNzQ0fDApPDwxMHxpPj4+MjIpK258MCleKChvPSgobys9KG5eKGl8fnIpKSt0WzZdLTE1NjAxOTgzODB8MCk8PDE1fG8+Pj4xNykraXwwKXx+bikpK3RbMTNdKzEzMDkxNTE2NDl8MCk8PDIxfHI+Pj4xMSkrb3wwLHI9KChyKz0oKGk9KChpKz0ocl4oKG49KChuKz0ob14ocnx+aSkpK3RbNF0tMTQ1NTIzMDcwfDApPDw2fG4+Pj4yNikrcnwwKXx+bykpK3RbMTFdLTExMjAyMTAzNzl8MCk8PDEwfGk+Pj4yMikrbnwwKV4oKG89KChvKz0obl4oaXx+cikpK3RbMl0rNzE4Nzg3MjU5fDApPDwxNXxvPj4+MTcpK2l8MCl8fm4pKSt0WzldLTM0MzQ4NTU1MXwwKTw8MjF8cj4+PjExKStvfDAsZVswXT1uK2VbMF18MCxlWzFdPXIrZVsxXXwwLGVbMl09bytlWzJdfDAsZVszXT1pK2VbM118MH1mdW5jdGlvbiByKGUpe3ZhciB0LG49W107Zm9yKHQ9MDt0PDY0O3QrPTQpblt0Pj4yXT1lLmNoYXJDb2RlQXQodCkrKGUuY2hhckNvZGVBdCh0KzEpPDw4KSsoZS5jaGFyQ29kZUF0KHQrMik8PDE2KSsoZS5jaGFyQ29kZUF0KHQrMyk8PDI0KTtyZXR1cm4gbn1mdW5jdGlvbiBvKGUpe3ZhciB0LG49W107Zm9yKHQ9MDt0PDY0O3QrPTQpblt0Pj4yXT1lW3RdKyhlW3QrMV08PDgpKyhlW3QrMl08PDE2KSsoZVt0KzNdPDwyNCk7cmV0dXJuIG59ZnVuY3Rpb24gaShlKXt2YXIgdCxvLGkscyxhLHUsYz1lLmxlbmd0aCxmPVsxNzMyNTg0MTkzLC0yNzE3MzM4NzksLTE3MzI1ODQxOTQsMjcxNzMzODc4XTtmb3IodD02NDt0PD1jO3QrPTY0KW4oZixyKGUuc3Vic3RyaW5nKHQtNjQsdCkpKTtmb3Iobz0oZT1lLnN1YnN0cmluZyh0LTY0KSkubGVuZ3RoLGk9WzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDBdLHQ9MDt0PG87dCs9MSlpW3Q+PjJdfD1lLmNoYXJDb2RlQXQodCk8PCh0JTQ8PDMpO2lmKGlbdD4+Ml18PTEyODw8KHQlNDw8MyksdD41NSlmb3IobihmLGkpLHQ9MDt0PDE2O3QrPTEpaVt0XT0wO3JldHVybiBzPShzPTgqYykudG9TdHJpbmcoMTYpLm1hdGNoKC8oLio/KSguezAsOH0pJC8pLGE9cGFyc2VJbnQoc1syXSwxNiksdT1wYXJzZUludChzWzFdLDE2KXx8MCxpWzE0XT1hLGlbMTVdPXUsbihmLGkpLGZ9ZnVuY3Rpb24gcyhlKXt2YXIgbixyPSIiO2ZvcihuPTA7bjw0O24rPTEpcis9dFtlPj44Km4rNCYxNV0rdFtlPj44Km4mMTVdO3JldHVybiByfWZ1bmN0aW9uIGEoZSl7dmFyIHQ7Zm9yKHQ9MDt0PGUubGVuZ3RoO3QrPTEpZVt0XT1zKGVbdF0pO3JldHVybiBlLmpvaW4oIiIpfWZ1bmN0aW9uIHUoZSl7cmV0dXJuL1tcdTAwODAtXHVGRkZGXS8udGVzdChlKSYmKGU9dW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGUpKSksZX1mdW5jdGlvbiBjKGUpe3ZhciB0LG49W10scj1lLmxlbmd0aDtmb3IodD0wO3Q8ci0xO3QrPTIpbi5wdXNoKHBhcnNlSW50KGUuc3Vic3RyKHQsMiksMTYpKTtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsbil9ZnVuY3Rpb24gZigpe3RoaXMucmVzZXQoKX1yZXR1cm4iNWQ0MTQwMmFiYzRiMmE3NmI5NzE5ZDkxMTAxN2M1OTIiIT09YShpKCJoZWxsbyIpKSYmZnVuY3Rpb24oZSx0KXt2YXIgbj0oNjU1MzUmZSkrKDY1NTM1JnQpO3JldHVybihlPj4xNikrKHQ+PjE2KSsobj4+MTYpPDwxNnw2NTUzNSZufSwidW5kZWZpbmVkIj09dHlwZW9mIEFycmF5QnVmZmVyfHxBcnJheUJ1ZmZlci5wcm90b3R5cGUuc2xpY2V8fGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLHQpe3JldHVybihlPTB8ZXx8MCk8MD9NYXRoLm1heChlK3QsMCk6TWF0aC5taW4oZSx0KX1BcnJheUJ1ZmZlci5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24obixyKXt2YXIgbyxpLHMsYSx1PXRoaXMuYnl0ZUxlbmd0aCxjPXQobix1KSxmPXU7cmV0dXJuIHIhPT1lJiYoZj10KHIsdSkpLGM+Zj9uZXcgQXJyYXlCdWZmZXIoMCk6KG89Zi1jLGk9bmV3IEFycmF5QnVmZmVyKG8pLHM9bmV3IFVpbnQ4QXJyYXkoaSksYT1uZXcgVWludDhBcnJheSh0aGlzLGMsbykscy5zZXQoYSksaSl9fSgpLGYucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hcHBlbmRCaW5hcnkodShlKSksdGhpc30sZi5wcm90b3R5cGUuYXBwZW5kQmluYXJ5PWZ1bmN0aW9uKGUpe3RoaXMuX2J1ZmYrPWUsdGhpcy5fbGVuZ3RoKz1lLmxlbmd0aDt2YXIgdCxvPXRoaXMuX2J1ZmYubGVuZ3RoO2Zvcih0PTY0O3Q8PW87dCs9NjQpbih0aGlzLl9oYXNoLHIodGhpcy5fYnVmZi5zdWJzdHJpbmcodC02NCx0KSkpO3JldHVybiB0aGlzLl9idWZmPXRoaXMuX2J1ZmYuc3Vic3RyaW5nKHQtNjQpLHRoaXN9LGYucHJvdG90eXBlLmVuZD1mdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcy5fYnVmZixvPXIubGVuZ3RoLGk9WzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDBdO2Zvcih0PTA7dDxvO3QrPTEpaVt0Pj4yXXw9ci5jaGFyQ29kZUF0KHQpPDwodCU0PDwzKTtyZXR1cm4gdGhpcy5fZmluaXNoKGksbyksbj1hKHRoaXMuX2hhc2gpLGUmJihuPWMobikpLHRoaXMucmVzZXQoKSxufSxmLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWZmPSIiLHRoaXMuX2xlbmd0aD0wLHRoaXMuX2hhc2g9WzE3MzI1ODQxOTMsLTI3MTczMzg3OSwtMTczMjU4NDE5NCwyNzE3MzM4NzhdLHRoaXN9LGYucHJvdG90eXBlLmdldFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJue2J1ZmY6dGhpcy5fYnVmZixsZW5ndGg6dGhpcy5fbGVuZ3RoLGhhc2g6dGhpcy5faGFzaC5zbGljZSgpfX0sZi5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2J1ZmY9ZS5idWZmLHRoaXMuX2xlbmd0aD1lLmxlbmd0aCx0aGlzLl9oYXNoPWUuaGFzaCx0aGlzfSxmLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuX2hhc2gsZGVsZXRlIHRoaXMuX2J1ZmYsZGVsZXRlIHRoaXMuX2xlbmd0aH0sZi5wcm90b3R5cGUuX2ZpbmlzaD1mdW5jdGlvbihlLHQpe3ZhciByLG8saSxzPXQ7aWYoZVtzPj4yXXw9MTI4PDwocyU0PDwzKSxzPjU1KWZvcihuKHRoaXMuX2hhc2gsZSkscz0wO3M8MTY7cys9MSllW3NdPTA7cj0ocj04KnRoaXMuX2xlbmd0aCkudG9TdHJpbmcoMTYpLm1hdGNoKC8oLio/KSguezAsOH0pJC8pLG89cGFyc2VJbnQoclsyXSwxNiksaT1wYXJzZUludChyWzFdLDE2KXx8MCxlWzE0XT1vLGVbMTVdPWksbih0aGlzLl9oYXNoLGUpfSxmLmhhc2g9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZi5oYXNoQmluYXJ5KHUoZSksdCl9LGYuaGFzaEJpbmFyeT1mdW5jdGlvbihlLHQpe3ZhciBuPWEoaShlKSk7cmV0dXJuIHQ/YyhuKTpufSxmLkFycmF5QnVmZmVyPWZ1bmN0aW9uKCl7dGhpcy5yZXNldCgpfSxmLkFycmF5QnVmZmVyLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24oZSl7dmFyIHQscixpLHMsYSx1PShyPXRoaXMuX2J1ZmYuYnVmZmVyLGk9ZSxzPSEwLChhPW5ldyBVaW50OEFycmF5KHIuYnl0ZUxlbmd0aCtpLmJ5dGVMZW5ndGgpKS5zZXQobmV3IFVpbnQ4QXJyYXkocikpLGEuc2V0KG5ldyBVaW50OEFycmF5KGkpLHIuYnl0ZUxlbmd0aCkscz9hOmEuYnVmZmVyKSxjPXUubGVuZ3RoO2Zvcih0aGlzLl9sZW5ndGgrPWUuYnl0ZUxlbmd0aCx0PTY0O3Q8PWM7dCs9NjQpbih0aGlzLl9oYXNoLG8odS5zdWJhcnJheSh0LTY0LHQpKSk7cmV0dXJuIHRoaXMuX2J1ZmY9dC02NDxjP25ldyBVaW50OEFycmF5KHUuYnVmZmVyLnNsaWNlKHQtNjQpKTpuZXcgVWludDhBcnJheSgwKSx0aGlzfSxmLkFycmF5QnVmZmVyLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPXRoaXMuX2J1ZmYsbz1yLmxlbmd0aCxpPVswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwXTtmb3IodD0wO3Q8bzt0Kz0xKWlbdD4+Ml18PXJbdF08PCh0JTQ8PDMpO3JldHVybiB0aGlzLl9maW5pc2goaSxvKSxuPWEodGhpcy5faGFzaCksZSYmKG49YyhuKSksdGhpcy5yZXNldCgpLG59LGYuQXJyYXlCdWZmZXIucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmY9bmV3IFVpbnQ4QXJyYXkoMCksdGhpcy5fbGVuZ3RoPTAsdGhpcy5faGFzaD1bMTczMjU4NDE5MywtMjcxNzMzODc5LC0xNzMyNTg0MTk0LDI3MTczMzg3OF0sdGhpc30sZi5BcnJheUJ1ZmZlci5wcm90b3R5cGUuZ2V0U3RhdGU9ZnVuY3Rpb24oKXt2YXIgZSx0PWYucHJvdG90eXBlLmdldFN0YXRlLmNhbGwodGhpcyk7cmV0dXJuIHQuYnVmZj0oZT10LmJ1ZmYsU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KGUpKSksdH0sZi5BcnJheUJ1ZmZlci5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuYnVmZj1mdW5jdGlvbihlLHQpe3ZhciBuLHI9ZS5sZW5ndGgsbz1uZXcgQXJyYXlCdWZmZXIociksaT1uZXcgVWludDhBcnJheShvKTtmb3Iobj0wO248cjtuKz0xKWlbbl09ZS5jaGFyQ29kZUF0KG4pO3JldHVybiB0P2k6b30oZS5idWZmLCEwKSxmLnByb3RvdHlwZS5zZXRTdGF0ZS5jYWxsKHRoaXMsZSl9LGYuQXJyYXlCdWZmZXIucHJvdG90eXBlLmRlc3Ryb3k9Zi5wcm90b3R5cGUuZGVzdHJveSxmLkFycmF5QnVmZmVyLnByb3RvdHlwZS5fZmluaXNoPWYucHJvdG90eXBlLl9maW5pc2gsZi5BcnJheUJ1ZmZlci5oYXNoPWZ1bmN0aW9uKGUsdCl7dmFyIHI9YShmdW5jdGlvbihlKXt2YXIgdCxyLGkscyxhLHUsYz1lLmxlbmd0aCxmPVsxNzMyNTg0MTkzLC0yNzE3MzM4NzksLTE3MzI1ODQxOTQsMjcxNzMzODc4XTtmb3IodD02NDt0PD1jO3QrPTY0KW4oZixvKGUuc3ViYXJyYXkodC02NCx0KSkpO2ZvcihyPShlPXQtNjQ8Yz9lLnN1YmFycmF5KHQtNjQpOm5ldyBVaW50OEFycmF5KDApKS5sZW5ndGgsaT1bMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMF0sdD0wO3Q8cjt0Kz0xKWlbdD4+Ml18PWVbdF08PCh0JTQ8PDMpO2lmKGlbdD4+Ml18PTEyODw8KHQlNDw8MyksdD41NSlmb3IobihmLGkpLHQ9MDt0PDE2O3QrPTEpaVt0XT0wO3JldHVybiBzPShzPTgqYykudG9TdHJpbmcoMTYpLm1hdGNoKC8oLio/KSguezAsOH0pJC8pLGE9cGFyc2VJbnQoc1syXSwxNiksdT1wYXJzZUludChzWzFdLDE2KXx8MCxpWzE0XT1hLGlbMTVdPXUsbihmLGkpLGZ9KG5ldyBVaW50OEFycmF5KGUpKSk7cmV0dXJuIHQ/YyhyKTpyfSxmfSkpfSx7fV0sMTM6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZGVmYXVsdD12b2lkIDA7Y29uc3Qgcj1bXTtmb3IobGV0IGU9MDtlPDI1NjsrK2Upci5wdXNoKChlKzI1NikudG9TdHJpbmcoMTYpLnN1YnN0cigxKSk7dmFyIG89ZnVuY3Rpb24oZSx0KXtjb25zdCBuPXR8fDAsbz1yO3JldHVybihvW2VbbiswXV0rb1tlW24rMV1dK29bZVtuKzJdXStvW2VbbiszXV0rIi0iK29bZVtuKzRdXStvW2Vbbis1XV0rIi0iK29bZVtuKzZdXStvW2Vbbis3XV0rIi0iK29bZVtuKzhdXStvW2Vbbis5XV0rIi0iK29bZVtuKzEwXV0rb1tlW24rMTFdXStvW2VbbisxMl1dK29bZVtuKzEzXV0rb1tlW24rMTRdXStvW2VbbisxNV1dKS50b0xvd2VyQ2FzZSgpfTtuLmRlZmF1bHQ9b30se31dLDE0OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobiwidjEiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByLmRlZmF1bHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sInYzIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gby5kZWZhdWx0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJ2NCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobiwidjUiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBzLmRlZmF1bHR9fSk7dmFyIHI9YShlKDE4KSksbz1hKGUoMTkpKSxpPWEoZSgyMSkpLHM9YShlKDIyKSk7ZnVuY3Rpb24gYShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19fSx7MTg6MTgsMTk6MTksMjE6MjEsMjI6MjJ9XSwxNTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3JldHVybiAxNCsoZSs2ND4+Pjk8PDQpKzF9ZnVuY3Rpb24gbyhlLHQpe2NvbnN0IG49KDY1NTM1JmUpKyg2NTUzNSZ0KTtyZXR1cm4oZT4+MTYpKyh0Pj4xNikrKG4+PjE2KTw8MTZ8NjU1MzUmbn1mdW5jdGlvbiBpKGUsdCxuLHIsaSxzKXtyZXR1cm4gbygoYT1vKG8odCxlKSxvKHIscykpKTw8KHU9aSl8YT4+PjMyLXUsbik7dmFyIGEsdX1mdW5jdGlvbiBzKGUsdCxuLHIsbyxzLGEpe3JldHVybiBpKHQmbnx+dCZyLGUsdCxvLHMsYSl9ZnVuY3Rpb24gYShlLHQsbixyLG8scyxhKXtyZXR1cm4gaSh0JnJ8biZ+cixlLHQsbyxzLGEpfWZ1bmN0aW9uIHUoZSx0LG4scixvLHMsYSl7cmV0dXJuIGkodF5uXnIsZSx0LG8scyxhKX1mdW5jdGlvbiBjKGUsdCxuLHIsbyxzLGEpe3JldHVybiBpKG5eKHR8fnIpLGUsdCxvLHMsYSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZGVmYXVsdD12b2lkIDA7dmFyIGY9ZnVuY3Rpb24oZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXtjb25zdCB0PXVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChlKSk7ZT1uZXcgVWludDhBcnJheSh0Lmxlbmd0aCk7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDsrK24pZVtuXT10LmNoYXJDb2RlQXQobil9cmV0dXJuIGZ1bmN0aW9uKGUpe2NvbnN0IHQ9W10sbj0zMiplLmxlbmd0aDtmb3IobGV0IHI9MDtyPG47cis9OCl7Y29uc3Qgbj1lW3I+PjVdPj4+ciUzMiYyNTUsbz1wYXJzZUludCgiMDEyMzQ1Njc4OWFiY2RlZiIuY2hhckF0KG4+Pj40JjE1KSsiMDEyMzQ1Njc4OWFiY2RlZiIuY2hhckF0KDE1Jm4pLDE2KTt0LnB1c2gobyl9cmV0dXJuIHR9KGZ1bmN0aW9uKGUsdCl7ZVt0Pj41XXw9MTI4PDx0JTMyLGVbcih0KS0xXT10O2xldCBuPTE3MzI1ODQxOTMsaT0tMjcxNzMzODc5LGY9LTE3MzI1ODQxOTQsbD0yNzE3MzM4Nzg7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kz0xNil7Y29uc3Qgcj1uLGQ9aSxoPWYscD1sO249cyhuLGksZixsLGVbdF0sNywtNjgwODc2OTM2KSxsPXMobCxuLGksZixlW3QrMV0sMTIsLTM4OTU2NDU4NiksZj1zKGYsbCxuLGksZVt0KzJdLDE3LDYwNjEwNTgxOSksaT1zKGksZixsLG4sZVt0KzNdLDIyLC0xMDQ0NTI1MzMwKSxuPXMobixpLGYsbCxlW3QrNF0sNywtMTc2NDE4ODk3KSxsPXMobCxuLGksZixlW3QrNV0sMTIsMTIwMDA4MDQyNiksZj1zKGYsbCxuLGksZVt0KzZdLDE3LC0xNDczMjMxMzQxKSxpPXMoaSxmLGwsbixlW3QrN10sMjIsLTQ1NzA1OTgzKSxuPXMobixpLGYsbCxlW3QrOF0sNywxNzcwMDM1NDE2KSxsPXMobCxuLGksZixlW3QrOV0sMTIsLTE5NTg0MTQ0MTcpLGY9cyhmLGwsbixpLGVbdCsxMF0sMTcsLTQyMDYzKSxpPXMoaSxmLGwsbixlW3QrMTFdLDIyLC0xOTkwNDA0MTYyKSxuPXMobixpLGYsbCxlW3QrMTJdLDcsMTgwNDYwMzY4MiksbD1zKGwsbixpLGYsZVt0KzEzXSwxMiwtNDAzNDExMDEpLGY9cyhmLGwsbixpLGVbdCsxNF0sMTcsLTE1MDIwMDIyOTApLGk9cyhpLGYsbCxuLGVbdCsxNV0sMjIsMTIzNjUzNTMyOSksbj1hKG4saSxmLGwsZVt0KzFdLDUsLTE2NTc5NjUxMCksbD1hKGwsbixpLGYsZVt0KzZdLDksLTEwNjk1MDE2MzIpLGY9YShmLGwsbixpLGVbdCsxMV0sMTQsNjQzNzE3NzEzKSxpPWEoaSxmLGwsbixlW3RdLDIwLC0zNzM4OTczMDIpLG49YShuLGksZixsLGVbdCs1XSw1LC03MDE1NTg2OTEpLGw9YShsLG4saSxmLGVbdCsxMF0sOSwzODAxNjA4MyksZj1hKGYsbCxuLGksZVt0KzE1XSwxNCwtNjYwNDc4MzM1KSxpPWEoaSxmLGwsbixlW3QrNF0sMjAsLTQwNTUzNzg0OCksbj1hKG4saSxmLGwsZVt0KzldLDUsNTY4NDQ2NDM4KSxsPWEobCxuLGksZixlW3QrMTRdLDksLTEwMTk4MDM2OTApLGY9YShmLGwsbixpLGVbdCszXSwxNCwtMTg3MzYzOTYxKSxpPWEoaSxmLGwsbixlW3QrOF0sMjAsMTE2MzUzMTUwMSksbj1hKG4saSxmLGwsZVt0KzEzXSw1LC0xNDQ0NjgxNDY3KSxsPWEobCxuLGksZixlW3QrMl0sOSwtNTE0MDM3ODQpLGY9YShmLGwsbixpLGVbdCs3XSwxNCwxNzM1MzI4NDczKSxpPWEoaSxmLGwsbixlW3QrMTJdLDIwLC0xOTI2NjA3NzM0KSxuPXUobixpLGYsbCxlW3QrNV0sNCwtMzc4NTU4KSxsPXUobCxuLGksZixlW3QrOF0sMTEsLTIwMjI1NzQ0NjMpLGY9dShmLGwsbixpLGVbdCsxMV0sMTYsMTgzOTAzMDU2MiksaT11KGksZixsLG4sZVt0KzE0XSwyMywtMzUzMDk1NTYpLG49dShuLGksZixsLGVbdCsxXSw0LC0xNTMwOTkyMDYwKSxsPXUobCxuLGksZixlW3QrNF0sMTEsMTI3Mjg5MzM1MyksZj11KGYsbCxuLGksZVt0KzddLDE2LC0xNTU0OTc2MzIpLGk9dShpLGYsbCxuLGVbdCsxMF0sMjMsLTEwOTQ3MzA2NDApLG49dShuLGksZixsLGVbdCsxM10sNCw2ODEyNzkxNzQpLGw9dShsLG4saSxmLGVbdF0sMTEsLTM1ODUzNzIyMiksZj11KGYsbCxuLGksZVt0KzNdLDE2LC03MjI1MjE5NzkpLGk9dShpLGYsbCxuLGVbdCs2XSwyMyw3NjAyOTE4OSksbj11KG4saSxmLGwsZVt0KzldLDQsLTY0MDM2NDQ4NyksbD11KGwsbixpLGYsZVt0KzEyXSwxMSwtNDIxODE1ODM1KSxmPXUoZixsLG4saSxlW3QrMTVdLDE2LDUzMDc0MjUyMCksaT11KGksZixsLG4sZVt0KzJdLDIzLC05OTUzMzg2NTEpLG49YyhuLGksZixsLGVbdF0sNiwtMTk4NjMwODQ0KSxsPWMobCxuLGksZixlW3QrN10sMTAsMTEyNjg5MTQxNSksZj1jKGYsbCxuLGksZVt0KzE0XSwxNSwtMTQxNjM1NDkwNSksaT1jKGksZixsLG4sZVt0KzVdLDIxLC01NzQzNDA1NSksbj1jKG4saSxmLGwsZVt0KzEyXSw2LDE3MDA0ODU1NzEpLGw9YyhsLG4saSxmLGVbdCszXSwxMCwtMTg5NDk4NjYwNiksZj1jKGYsbCxuLGksZVt0KzEwXSwxNSwtMTA1MTUyMyksaT1jKGksZixsLG4sZVt0KzFdLDIxLC0yMDU0OTIyNzk5KSxuPWMobixpLGYsbCxlW3QrOF0sNiwxODczMzEzMzU5KSxsPWMobCxuLGksZixlW3QrMTVdLDEwLC0zMDYxMTc0NCksZj1jKGYsbCxuLGksZVt0KzZdLDE1LC0xNTYwMTk4MzgwKSxpPWMoaSxmLGwsbixlW3QrMTNdLDIxLDEzMDkxNTE2NDkpLG49YyhuLGksZixsLGVbdCs0XSw2LC0xNDU1MjMwNzApLGw9YyhsLG4saSxmLGVbdCsxMV0sMTAsLTExMjAyMTAzNzkpLGY9YyhmLGwsbixpLGVbdCsyXSwxNSw3MTg3ODcyNTkpLGk9YyhpLGYsbCxuLGVbdCs5XSwyMSwtMzQzNDg1NTUxKSxuPW8obixyKSxpPW8oaSxkKSxmPW8oZixoKSxsPW8obCxwKX1yZXR1cm5bbixpLGYsbF19KGZ1bmN0aW9uKGUpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm5bXTtjb25zdCB0PTgqZS5sZW5ndGgsbj1uZXcgVWludDMyQXJyYXkocih0KSk7Zm9yKGxldCByPTA7cjx0O3IrPTgpbltyPj41XXw9KDI1NSZlW3IvOF0pPDxyJTMyO3JldHVybiBufShlKSw4KmUubGVuZ3RoKSl9O24uZGVmYXVsdD1mfSx7fV0sMTY6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZGVmYXVsdD1mdW5jdGlvbigpe2lmKCFyKXRocm93IG5ldyBFcnJvcigiY3J5cHRvLmdldFJhbmRvbVZhbHVlcygpIG5vdCBzdXBwb3J0ZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQjZ2V0cmFuZG9tdmFsdWVzLW5vdC1zdXBwb3J0ZWQiKTtyZXR1cm4gcihvKX07Y29uc3Qgcj0idW5kZWZpbmVkIiE9dHlwZW9mIGNyeXB0byYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byl8fCJ1bmRlZmluZWQiIT10eXBlb2YgbXNDcnlwdG8mJiJmdW5jdGlvbiI9PXR5cGVvZiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMmJm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKSxvPW5ldyBVaW50OEFycmF5KDE2KX0se31dLDE3OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSx0LG4scil7c3dpdGNoKGUpe2Nhc2UgMDpyZXR1cm4gdCZuXn50JnI7Y2FzZSAxOnJldHVybiB0Xm5ecjtjYXNlIDI6cmV0dXJuIHQmbl50JnJebiZyO2Nhc2UgMzpyZXR1cm4gdF5uXnJ9fWZ1bmN0aW9uIG8oZSx0KXtyZXR1cm4gZTw8dHxlPj4+MzItdH1PYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PXZvaWQgMDt2YXIgaT1mdW5jdGlvbihlKXtjb25zdCB0PVsxNTE4NTAwMjQ5LDE4NTk3NzUzOTMsMjQwMDk1OTcwOCwzMzk1NDY5NzgyXSxuPVsxNzMyNTg0MTkzLDQwMjMyMzM0MTcsMjU2MjM4MzEwMiwyNzE3MzM4NzgsMzI4NTM3NzUyMF07aWYoInN0cmluZyI9PXR5cGVvZiBlKXtjb25zdCB0PXVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChlKSk7ZT1bXTtmb3IobGV0IG49MDtuPHQubGVuZ3RoOysrbillLnB1c2godC5jaGFyQ29kZUF0KG4pKX1lLnB1c2goMTI4KTtjb25zdCBpPWUubGVuZ3RoLzQrMixzPU1hdGguY2VpbChpLzE2KSxhPW5ldyBBcnJheShzKTtmb3IobGV0IHQ9MDt0PHM7Kyt0KXtjb25zdCBuPW5ldyBVaW50MzJBcnJheSgxNik7Zm9yKGxldCByPTA7cjwxNjsrK3IpbltyXT1lWzY0KnQrNCpyXTw8MjR8ZVs2NCp0KzQqcisxXTw8MTZ8ZVs2NCp0KzQqcisyXTw8OHxlWzY0KnQrNCpyKzNdO2FbdF09bn1hW3MtMV1bMTRdPTgqKGUubGVuZ3RoLTEpL01hdGgucG93KDIsMzIpLGFbcy0xXVsxNF09TWF0aC5mbG9vcihhW3MtMV1bMTRdKSxhW3MtMV1bMTVdPTgqKGUubGVuZ3RoLTEpJjQyOTQ5NjcyOTU7Zm9yKGxldCBlPTA7ZTxzOysrZSl7Y29uc3QgaT1uZXcgVWludDMyQXJyYXkoODApO2ZvcihsZXQgdD0wO3Q8MTY7Kyt0KWlbdF09YVtlXVt0XTtmb3IobGV0IGU9MTY7ZTw4MDsrK2UpaVtlXT1vKGlbZS0zXV5pW2UtOF1eaVtlLTE0XV5pW2UtMTZdLDEpO2xldCBzPW5bMF0sdT1uWzFdLGM9blsyXSxmPW5bM10sbD1uWzRdO2ZvcihsZXQgZT0wO2U8ODA7KytlKXtjb25zdCBuPU1hdGguZmxvb3IoZS8yMCksYT1vKHMsNSkrcihuLHUsYyxmKStsK3Rbbl0raVtlXT4+PjA7bD1mLGY9YyxjPW8odSwzMCk+Pj4wLHU9cyxzPWF9blswXT1uWzBdK3M+Pj4wLG5bMV09blsxXSt1Pj4+MCxuWzJdPW5bMl0rYz4+PjAsblszXT1uWzNdK2Y+Pj4wLG5bNF09bls0XStsPj4+MH1yZXR1cm5bblswXT4+MjQmMjU1LG5bMF0+PjE2JjI1NSxuWzBdPj44JjI1NSwyNTUmblswXSxuWzFdPj4yNCYyNTUsblsxXT4+MTYmMjU1LG5bMV0+PjgmMjU1LDI1NSZuWzFdLG5bMl0+PjI0JjI1NSxuWzJdPj4xNiYyNTUsblsyXT4+OCYyNTUsMjU1Jm5bMl0sblszXT4+MjQmMjU1LG5bM10+PjE2JjI1NSxuWzNdPj44JjI1NSwyNTUmblszXSxuWzRdPj4yNCYyNTUsbls0XT4+MTYmMjU1LG5bNF0+PjgmMjU1LDI1NSZuWzRdXX07bi5kZWZhdWx0PWl9LHt9XSwxODpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PXZvaWQgMDt2YXIgcj1pKGUoMTYpKSxvPWkoZSgxMykpO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWxldCBzLGEsdT0wLGM9MDt2YXIgZj1mdW5jdGlvbihlLHQsbil7bGV0IGk9dCYmbnx8MDtjb25zdCBmPXR8fFtdO2xldCBsPShlPWV8fHt9KS5ub2RlfHxzLGQ9dm9pZCAwIT09ZS5jbG9ja3NlcT9lLmNsb2Nrc2VxOmE7aWYobnVsbD09bHx8bnVsbD09ZCl7Y29uc3QgdD1lLnJhbmRvbXx8KGUucm5nfHxyLmRlZmF1bHQpKCk7bnVsbD09bCYmKGw9cz1bMXx0WzBdLHRbMV0sdFsyXSx0WzNdLHRbNF0sdFs1XV0pLG51bGw9PWQmJihkPWE9MTYzODMmKHRbNl08PDh8dFs3XSkpfWxldCBoPXZvaWQgMCE9PWUubXNlY3M/ZS5tc2VjczpEYXRlLm5vdygpLHA9dm9pZCAwIT09ZS5uc2Vjcz9lLm5zZWNzOmMrMTtjb25zdCB2PWgtdSsocC1jKS8xZTQ7aWYodjwwJiZ2b2lkIDA9PT1lLmNsb2Nrc2VxJiYoZD1kKzEmMTYzODMpLCh2PDB8fGg+dSkmJnZvaWQgMD09PWUubnNlY3MmJihwPTApLHA+PTFlNCl0aHJvdyBuZXcgRXJyb3IoInV1aWQudjEoKTogQ2FuJ3QgY3JlYXRlIG1vcmUgdGhhbiAxME0gdXVpZHMvc2VjIik7dT1oLGM9cCxhPWQsaCs9MTIyMTkyOTI4ZTU7Y29uc3QgeT0oMWU0KigyNjg0MzU0NTUmaCkrcCklNDI5NDk2NzI5NjtmW2krK109eT4+PjI0JjI1NSxmW2krK109eT4+PjE2JjI1NSxmW2krK109eT4+PjgmMjU1LGZbaSsrXT0yNTUmeTtjb25zdCBnPWgvNDI5NDk2NzI5NioxZTQmMjY4NDM1NDU1O2ZbaSsrXT1nPj4+OCYyNTUsZltpKytdPTI1NSZnLGZbaSsrXT1nPj4+MjQmMTV8MTYsZltpKytdPWc+Pj4xNiYyNTUsZltpKytdPWQ+Pj44fDEyOCxmW2krK109MjU1JmQ7Zm9yKGxldCBlPTA7ZTw2OysrZSlmW2krZV09bFtlXTtyZXR1cm4gdHx8KDAsby5kZWZhdWx0KShmKX07bi5kZWZhdWx0PWZ9LHsxMzoxMywxNjoxNn1dLDE5OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9dm9pZCAwO3ZhciByPWkoZSgyMCkpLG89aShlKDE1KSk7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIHM9KDAsci5kZWZhdWx0KSgidjMiLDQ4LG8uZGVmYXVsdCk7bi5kZWZhdWx0PXN9LHsxNToxNSwyMDoyMH1dLDIwOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoZSxyLGkscyl7Y29uc3QgYT1pJiZzfHwwO2lmKCJzdHJpbmciPT10eXBlb2YgZSYmKGU9ZnVuY3Rpb24oZSl7ZT11bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoZSkpO2NvbnN0IHQ9W107Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDsrK24pdC5wdXNoKGUuY2hhckNvZGVBdChuKSk7cmV0dXJuIHR9KGUpKSwic3RyaW5nIj09dHlwZW9mIHImJihyPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9W107cmV0dXJuIGUucmVwbGFjZSgvW2EtZkEtRjAtOV17Mn0vZywoZnVuY3Rpb24oZSl7dC5wdXNoKHBhcnNlSW50KGUsMTYpKX0pKSx0fShyKSksIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgVHlwZUVycm9yKCJ2YWx1ZSBtdXN0IGJlIGFuIGFycmF5IG9mIGJ5dGVzIik7aWYoIUFycmF5LmlzQXJyYXkocil8fDE2IT09ci5sZW5ndGgpdGhyb3cgVHlwZUVycm9yKCJuYW1lc3BhY2UgbXVzdCBiZSB1dWlkIHN0cmluZyBvciBhbiBBcnJheSBvZiAxNiBieXRlIHZhbHVlcyIpO2NvbnN0IHU9bihyLmNvbmNhdChlKSk7aWYodVs2XT0xNSZ1WzZdfHQsdVs4XT02MyZ1WzhdfDEyOCxpKWZvcihsZXQgZT0wO2U8MTY7KytlKWlbYStlXT11W2VdO3JldHVybiBpfHwoMCxvLmRlZmF1bHQpKHUpfXRyeXtyLm5hbWU9ZX1jYXRjaChlKXt9cmV0dXJuIHIuRE5TPWksci5VUkw9cyxyfSxuLlVSTD1uLkROUz12b2lkIDA7dmFyIHIsbz0ocj1lKDEzKSkmJnIuX19lc01vZHVsZT9yOntkZWZhdWx0OnJ9O2NvbnN0IGk9IjZiYTdiODEwLTlkYWQtMTFkMS04MGI0LTAwYzA0ZmQ0MzBjOCI7bi5ETlM9aTtjb25zdCBzPSI2YmE3YjgxMS05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgiO24uVVJMPXN9LHsxMzoxM31dLDIxOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9dm9pZCAwO3ZhciByPWkoZSgxNikpLG89aShlKDEzKSk7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIHM9ZnVuY3Rpb24oZSx0LG4peyJzdHJpbmciPT10eXBlb2YgZSYmKHQ9ImJpbmFyeSI9PT1lP25ldyBVaW50OEFycmF5KDE2KTpudWxsLGU9bnVsbCk7Y29uc3QgaT0oZT1lfHx7fSkucmFuZG9tfHwoZS5ybmd8fHIuZGVmYXVsdCkoKTtpZihpWzZdPTE1JmlbNl18NjQsaVs4XT02MyZpWzhdfDEyOCx0KXtjb25zdCBlPW58fDA7Zm9yKGxldCBuPTA7bjwxNjsrK24pdFtlK25dPWlbbl07cmV0dXJuIHR9cmV0dXJuKDAsby5kZWZhdWx0KShpKX07bi5kZWZhdWx0PXN9LHsxMzoxMywxNjoxNn1dLDIyOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9dm9pZCAwO3ZhciByPWkoZSgyMCkpLG89aShlKDE3KSk7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIHM9KDAsci5kZWZhdWx0KSgidjUiLDgwLG8uZGVmYXVsdCk7bi5kZWZhdWx0PXN9LHsxNzoxNywyMDoyMH1dLDIzOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSx0LG4pe3ZhciByPW5bbi5sZW5ndGgtMV07ZT09PXIuZWxlbWVudCYmKG4ucG9wKCkscj1uW24ubGVuZ3RoLTFdKTt2YXIgbz1yLmVsZW1lbnQsaT1yLmluZGV4O2lmKEFycmF5LmlzQXJyYXkobykpby5wdXNoKGUpO2Vsc2UgaWYoaT09PXQubGVuZ3RoLTIpe29bdC5wb3AoKV09ZX1lbHNlIHQucHVzaChlKX1uLnN0cmluZ2lmeT1mdW5jdGlvbihlKXt2YXIgdD1bXTt0LnB1c2goe29iajplfSk7Zm9yKHZhciBuLHIsbyxpLHMsYSx1LGMsZixsLGQ9IiI7bj10LnBvcCgpOylpZihyPW4ub2JqLGQrPW4ucHJlZml4fHwiIixvPW4udmFsfHwiIilkKz1vO2Vsc2UgaWYoIm9iamVjdCIhPXR5cGVvZiByKWQrPXZvaWQgMD09PXI/bnVsbDpKU09OLnN0cmluZ2lmeShyKTtlbHNlIGlmKG51bGw9PT1yKWQrPSJudWxsIjtlbHNlIGlmKEFycmF5LmlzQXJyYXkocikpe2Zvcih0LnB1c2goe3ZhbDoiXSJ9KSxpPXIubGVuZ3RoLTE7aT49MDtpLS0pcz0wPT09aT8iIjoiLCIsdC5wdXNoKHtvYmo6cltpXSxwcmVmaXg6c30pO3QucHVzaCh7dmFsOiJbIn0pfWVsc2V7Zm9yKHUgaW4gYT1bXSxyKXIuaGFzT3duUHJvcGVydHkodSkmJmEucHVzaCh1KTtmb3IodC5wdXNoKHt2YWw6In0ifSksaT1hLmxlbmd0aC0xO2k+PTA7aS0tKWY9cltjPWFbaV1dLGw9aT4wPyIsIjoiIixsKz1KU09OLnN0cmluZ2lmeShjKSsiOiIsdC5wdXNoKHtvYmo6ZixwcmVmaXg6bH0pO3QucHVzaCh7dmFsOiJ7In0pfXJldHVybiBkfSxuLnBhcnNlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLG8saSxzLGEsdSxjLGYsbD1bXSxkPVtdLGg9MDs7KWlmKCJ9IiE9PSh0PWVbaCsrXSkmJiJdIiE9PXQmJnZvaWQgMCE9PXQpc3dpdGNoKHQpe2Nhc2UiICI6Y2FzZSJcdCI6Y2FzZSJcbiI6Y2FzZSI6IjpjYXNlIiwiOmJyZWFrO2Nhc2UibiI6aCs9MyxyKG51bGwsbCxkKTticmVhaztjYXNlInQiOmgrPTMscighMCxsLGQpO2JyZWFrO2Nhc2UiZiI6aCs9NCxyKCExLGwsZCk7YnJlYWs7Y2FzZSIwIjpjYXNlIjEiOmNhc2UiMiI6Y2FzZSIzIjpjYXNlIjQiOmNhc2UiNSI6Y2FzZSI2IjpjYXNlIjciOmNhc2UiOCI6Y2FzZSI5IjpjYXNlIi0iOmZvcihuPSIiLGgtLTs7KXtpZihvPWVbaCsrXSwhL1tcZFwuXC1lXCtdLy50ZXN0KG8pKXtoLS07YnJlYWt9bis9b31yKHBhcnNlRmxvYXQobiksbCxkKTticmVhaztjYXNlJyInOmZvcihpPSIiLHM9dm9pZCAwLGE9MDsnIichPT0odT1lW2grK10pfHwiXFwiPT09cyYmYSUyPT0xOylpKz11LCJcXCI9PT0ocz11KT9hKys6YT0wO3IoSlNPTi5wYXJzZSgnIicraSsnIicpLGwsZCk7YnJlYWs7Y2FzZSJbIjpjPXtlbGVtZW50OltdLGluZGV4OmwubGVuZ3RofSxsLnB1c2goYy5lbGVtZW50KSxkLnB1c2goYyk7YnJlYWs7Y2FzZSJ7IjpmPXtlbGVtZW50Ont9LGluZGV4OmwubGVuZ3RofSxsLnB1c2goZi5lbGVtZW50KSxkLnB1c2goZik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoInVuZXhwZWN0ZWRseSByZWFjaGVkIGVuZCBvZiBpbnB1dDogIit0KX1lbHNle2lmKDE9PT1sLmxlbmd0aClyZXR1cm4gbC5wb3AoKTtyKGwucG9wKCksbCxkKX19fSx7fV0sMjQ6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGUmJiJvYmplY3QiPT10eXBlb2YgZSYmImRlZmF1bHQiaW4gZT9lLmRlZmF1bHQ6ZX12YXIgbyxpLHM9cihlKDQpKSxhPWUoMTQpLHU9cihlKDEyKSksYz1yKGUoMjMpKSxmPXIoZSgxKSksbD1yKGUoMTApKSxkPXIoZSgzKSk7ZnVuY3Rpb24gaChlKXtyZXR1cm4iJCIrZX1mdW5jdGlvbiBwKGUpe3JldHVybiBlLnN1YnN0cmluZygxKX1mdW5jdGlvbiB2KCl7dGhpcy5fc3RvcmU9e319ZnVuY3Rpb24geShlKXtpZih0aGlzLl9zdG9yZT1uZXcgdixlJiZBcnJheS5pc0FycmF5KGUpKWZvcih2YXIgdD0wLG49ZS5sZW5ndGg7dDxuO3QrKyl0aGlzLmFkZChlW3RdKX1mdW5jdGlvbiBnKGUpe2lmKGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcilyZXR1cm4gZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUuc2xpY2UpcmV0dXJuIGUuc2xpY2UoMCk7dmFyIHQ9bmV3IEFycmF5QnVmZmVyKGUuYnl0ZUxlbmd0aCksbj1uZXcgVWludDhBcnJheSh0KSxyPW5ldyBVaW50OEFycmF5KGUpO3JldHVybiBuLnNldChyKSx0fShlKTt2YXIgdD1lLnNpemUsbj1lLnR5cGU7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGUuc2xpY2U/ZS5zbGljZSgwLHQsbik6ZS53ZWJraXRTbGljZSgwLHQsbil9di5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3ZhciB0PWgoZSk7cmV0dXJuIHRoaXMuX3N0b3JlW3RdfSx2LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj1oKGUpO3JldHVybiB0aGlzLl9zdG9yZVtuXT10LCEwfSx2LnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGgoZSlpbiB0aGlzLl9zdG9yZX0sdi5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGUpe3ZhciB0PWgoZSksbj10IGluIHRoaXMuX3N0b3JlO3JldHVybiBkZWxldGUgdGhpcy5fc3RvcmVbdF0sbn0sdi5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9T2JqZWN0LmtleXModGhpcy5fc3RvcmUpLG49MCxyPXQubGVuZ3RoO248cjtuKyspe3ZhciBvPXRbbl07ZSh0aGlzLl9zdG9yZVtvXSxvPXAobykpfX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHYucHJvdG90eXBlLCJzaXplIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX3N0b3JlKS5sZW5ndGh9fSkseS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zdG9yZS5zZXQoZSwhMCl9LHkucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fc3RvcmUuaGFzKGUpfSx5LnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGUpe3RoaXMuX3N0b3JlLmZvckVhY2goKGZ1bmN0aW9uKHQsbil7ZShuKX0pKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHkucHJvdG90eXBlLCJzaXplIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0b3JlLnNpemV9fSksIWZ1bmN0aW9uKCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBTeW1ib2x8fCJ1bmRlZmluZWQiPT10eXBlb2YgTWFwfHwidW5kZWZpbmVkIj09dHlwZW9mIFNldClyZXR1cm4hMTt2YXIgZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE1hcCxTeW1ib2wuc3BlY2llcyk7cmV0dXJuIGUmJiJnZXQiaW4gZSYmTWFwW1N5bWJvbC5zcGVjaWVzXT09PU1hcH0oKT8obz15LGk9dik6KG89U2V0LGk9TWFwKTt2YXIgXz1GdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcsbT1fLmNhbGwoT2JqZWN0KTtmdW5jdGlvbiBiKGUpe3ZhciB0LG4scjtpZighZXx8Im9iamVjdCIhPXR5cGVvZiBlKXJldHVybiBlO2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih0PVtdLG49MCxyPWUubGVuZ3RoO248cjtuKyspdFtuXT1iKGVbbl0pO3JldHVybiB0fWlmKGUgaW5zdGFuY2VvZiBEYXRlKXJldHVybiBlLnRvSVNPU3RyaW5nKCk7aWYoZnVuY3Rpb24oZSl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHwidW5kZWZpbmVkIiE9dHlwZW9mIEJsb2ImJmUgaW5zdGFuY2VvZiBCbG9ifShlKSlyZXR1cm4gZyhlKTtpZighZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO2lmKG51bGw9PT10KXJldHVybiEwO3ZhciBuPXQuY29uc3RydWN0b3I7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG4mJm4gaW5zdGFuY2VvZiBuJiZfLmNhbGwobik9PW19KGUpKXJldHVybiBlO2ZvcihuIGluIHQ9e30sZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSl7dmFyIG89YihlW25dKTt2b2lkIDAhPT1vJiYodFtuXT1vKX1yZXR1cm4gdH1mdW5jdGlvbiB3KGUpe3ZhciB0PSExO3JldHVybiBmKChmdW5jdGlvbihuKXtpZih0KXRocm93IG5ldyBFcnJvcigib25jZSBjYWxsZWQgbW9yZSB0aGFuIG9uY2UiKTt0PSEwLGUuYXBwbHkodGhpcyxuKX0pKX1mdW5jdGlvbiBrKGUpe3JldHVybiBmKChmdW5jdGlvbih0KXt0PWIodCk7dmFyIG49dGhpcyxyPSJmdW5jdGlvbiI9PXR5cGVvZiB0W3QubGVuZ3RoLTFdJiZ0LnBvcCgpLG89bmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsbyl7dmFyIGk7dHJ5e3ZhciBzPXcoKGZ1bmN0aW9uKGUsdCl7ZT9vKGUpOnIodCl9KSk7dC5wdXNoKHMpLChpPWUuYXBwbHkobix0KSkmJiJmdW5jdGlvbiI9PXR5cGVvZiBpLnRoZW4mJnIoaSl9Y2F0Y2goZSl7byhlKX19KSk7cmV0dXJuIHImJm8udGhlbigoZnVuY3Rpb24oZSl7cihudWxsLGUpfSksciksb30pKX1mdW5jdGlvbiBqKGUsdCl7cmV0dXJuIGsoZigoZnVuY3Rpb24obil7aWYodGhpcy5fY2xvc2VkKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoImRhdGFiYXNlIGlzIGNsb3NlZCIpKTtpZih0aGlzLl9kZXN0cm95ZWQpcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcigiZGF0YWJhc2UgaXMgZGVzdHJveWVkIikpO3ZhciByPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtpZihlLmNvbnN0cnVjdG9yLmxpc3RlbmVycygiZGVidWciKS5sZW5ndGgpe2Zvcih2YXIgcj1bImFwaSIsZS5uYW1lLHRdLG89MDtvPG4ubGVuZ3RoLTE7bysrKXIucHVzaChuW29dKTtlLmNvbnN0cnVjdG9yLmVtaXQoImRlYnVnIixyKTt2YXIgaT1uW24ubGVuZ3RoLTFdO25bbi5sZW5ndGgtMV09ZnVuY3Rpb24obixyKXt2YXIgbz1bImFwaSIsZS5uYW1lLHRdO289by5jb25jYXQobj9bImVycm9yIixuXTpbInN1Y2Nlc3MiLHJdKSxlLmNvbnN0cnVjdG9yLmVtaXQoImRlYnVnIixvKSxpKG4scil9fX0ocixlLG4pLHRoaXMudGFza3F1ZXVlLmlzUmVhZHk/dC5hcHBseSh0aGlzLG4pOm5ldyBQcm9taXNlKChmdW5jdGlvbih0LG8pe3IudGFza3F1ZXVlLmFkZFRhc2soKGZ1bmN0aW9uKGkpe2k/byhpKTp0KHJbZV0uYXBwbHkocixuKSl9KSl9KSl9KSkpfWZ1bmN0aW9uIHEoZSx0KXtmb3IodmFyIG49e30scj0wLG89dC5sZW5ndGg7cjxvO3IrKyl7dmFyIGk9dFtyXTtpIGluIGUmJihuW2ldPWVbaV0pfXJldHVybiBufXZhciBPO2Z1bmN0aW9uIEEoZSl7cmV0dXJuIGV9ZnVuY3Rpb24gUyhlKXtyZXR1cm5be29rOmV9XX1mdW5jdGlvbiB4KGUsdCxuKXt2YXIgcj10LmRvY3Msbz1uZXcgaTtyLmZvckVhY2goKGZ1bmN0aW9uKGUpe28uaGFzKGUuaWQpP28uZ2V0KGUuaWQpLnB1c2goZSk6by5zZXQoZS5pZCxbZV0pfSkpO3ZhciBzPW8uc2l6ZSxhPTAsdT1uZXcgQXJyYXkocyk7ZnVuY3Rpb24gYygpe3ZhciBlOysrYT09PXMmJihlPVtdLHUuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5kb2NzLmZvckVhY2goKGZ1bmN0aW9uKG4pe2UucHVzaCh7aWQ6dC5pZCxkb2NzOltuXX0pfSkpfSkpLG4obnVsbCx7cmVzdWx0czplfSkpfXZhciBmPVtdO28uZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtmLnB1c2godCl9KSk7dmFyIGw9MDtmdW5jdGlvbiBkKCl7aWYoIShsPj1mLmxlbmd0aCkpe3ZhciBuPU1hdGgubWluKGwrNixmLmxlbmd0aCkscj1mLnNsaWNlKGwsbik7IWZ1bmN0aW9uKG4scil7bi5mb3JFYWNoKChmdW5jdGlvbihuLGkpe3ZhciBzPXIraSxhPW8uZ2V0KG4pLGY9cShhWzBdLFsiYXR0c19zaW5jZSIsImF0dGFjaG1lbnRzIl0pO2Yub3Blbl9yZXZzPWEubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXZ9KSksZi5vcGVuX3JldnM9Zi5vcGVuX3JldnMuZmlsdGVyKEEpO3ZhciBsPUE7MD09PWYub3Blbl9yZXZzLmxlbmd0aCYmKGRlbGV0ZSBmLm9wZW5fcmV2cyxsPVMpLFsicmV2cyIsImF0dGFjaG1lbnRzIiwiYmluYXJ5IiwiYWpheCIsImxhdGVzdCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UgaW4gdCYmKGZbZV09dFtlXSl9KSksZS5nZXQobixmLChmdW5jdGlvbihlLHQpe3ZhciByLG8saTtyPWU/W3tlcnJvcjplfV06bCh0KSxvPW4saT1yLHVbc109e2lkOm8sZG9jczppfSxjKCksZCgpfSkpfSkpfShyLGwpLGwrPXIubGVuZ3RofX1kKCl9dHJ5e2xvY2FsU3RvcmFnZS5zZXRJdGVtKCJfcG91Y2hfY2hlY2tfbG9jYWxzdG9yYWdlIiwxKSxPPSEhbG9jYWxTdG9yYWdlLmdldEl0ZW0oIl9wb3VjaF9jaGVja19sb2NhbHN0b3JhZ2UiKX1jYXRjaChlKXtPPSExfWZ1bmN0aW9uIEUoKXtyZXR1cm4gT31mdW5jdGlvbiBDKCl7ZC5jYWxsKHRoaXMpLHRoaXMuX2xpc3RlbmVycz17fSxmdW5jdGlvbihlKXtFKCkmJmFkZEV2ZW50TGlzdGVuZXIoInN0b3JhZ2UiLChmdW5jdGlvbih0KXtlLmVtaXQodC5rZXkpfSkpfSh0aGlzKX1mdW5jdGlvbiBQKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgY29uc29sZSYmImZ1bmN0aW9uIj09dHlwZW9mIGNvbnNvbGVbZV0pe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtjb25zb2xlW2VdLmFwcGx5KGNvbnNvbGUsdCl9fWZ1bmN0aW9uIEwoZSl7dmFyIHQ9MDtyZXR1cm4gZXx8KHQ9MmUzKSxmdW5jdGlvbihlLHQpe3JldHVybiBlPXBhcnNlSW50KGUsMTApfHwwLCh0PXBhcnNlSW50KHQsMTApKSE9dHx8dDw9ZT90PShlfHwxKTw8MTp0Kz0xLHQ+NmU1JiYoZT0zZTUsdD02ZTUpLH5+KCh0LWUpKk1hdGgucmFuZG9tKCkrZSl9KGUsdCl9ZnVuY3Rpb24gRChlLHQpe1AoImluZm8iLCJUaGUgYWJvdmUgIitlKyIgaXMgdG90YWxseSBub3JtYWwuICIrdCl9bChDLGQpLEMucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKGUsdCxuLHIpe2lmKCF0aGlzLl9saXN0ZW5lcnNbdF0pe3ZhciBvPXRoaXMsaT0hMTt0aGlzLl9saXN0ZW5lcnNbdF09YSx0aGlzLm9uKGUsYSl9ZnVuY3Rpb24gYSgpe2lmKG8uX2xpc3RlbmVyc1t0XSlpZihpKWk9IndhaXRpbmciO2Vsc2V7aT0hMDt2YXIgZT1xKHIsWyJzdHlsZSIsImluY2x1ZGVfZG9jcyIsImF0dGFjaG1lbnRzIiwiY29uZmxpY3RzIiwiZmlsdGVyIiwiZG9jX2lkcyIsInZpZXciLCJzaW5jZSIsInF1ZXJ5X3BhcmFtcyIsImJpbmFyeSIsInJldHVybl9kb2NzIl0pO24uY2hhbmdlcyhlKS5vbigiY2hhbmdlIiwoZnVuY3Rpb24oZSl7ZS5zZXE+ci5zaW5jZSYmIXIuY2FuY2VsbGVkJiYoci5zaW5jZT1lLnNlcSxyLm9uQ2hhbmdlKGUpKX0pKS5vbigiY29tcGxldGUiLChmdW5jdGlvbigpeyJ3YWl0aW5nIj09PWkmJnMoYSksaT0hMX0pKS5vbigiZXJyb3IiLChmdW5jdGlvbigpe2k9ITF9KSl9fX0sQy5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXt0IGluIHRoaXMuX2xpc3RlbmVycyYmKGQucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLmNhbGwodGhpcyxlLHRoaXMuX2xpc3RlbmVyc1t0XSksZGVsZXRlIHRoaXMuX2xpc3RlbmVyc1t0XSl9LEMucHJvdG90eXBlLm5vdGlmeUxvY2FsV2luZG93cz1mdW5jdGlvbihlKXtFKCkmJihsb2NhbFN0b3JhZ2VbZV09ImEiPT09bG9jYWxTdG9yYWdlW2VdPyJiIjoiYSIpfSxDLnByb3RvdHlwZS5ub3RpZnk9ZnVuY3Rpb24oZSl7dGhpcy5lbWl0KGUpLHRoaXMubm90aWZ5TG9jYWxXaW5kb3dzKGUpfTt2YXIgJD0iZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmFzc2lnbj9PYmplY3QuYXNzaWduOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1PYmplY3QoZSksbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspe3ZhciByPWFyZ3VtZW50c1tuXTtpZihudWxsIT1yKWZvcih2YXIgbyBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG8pJiYodFtvXT1yW29dKX1yZXR1cm4gdH07ZnVuY3Rpb24gSShlLHQsbil7RXJyb3IuY2FsbCh0aGlzLG4pLHRoaXMuc3RhdHVzPWUsdGhpcy5uYW1lPXQsdGhpcy5tZXNzYWdlPW4sdGhpcy5lcnJvcj0hMH1sKEksRXJyb3IpLEkucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHtzdGF0dXM6dGhpcy5zdGF0dXMsbmFtZTp0aGlzLm5hbWUsbWVzc2FnZTp0aGlzLm1lc3NhZ2UscmVhc29uOnRoaXMucmVhc29ufSl9O25ldyBJKDQwMSwidW5hdXRob3JpemVkIiwiTmFtZSBvciBwYXNzd29yZCBpcyBpbmNvcnJlY3QuIik7dmFyIEI9bmV3IEkoNDAwLCJiYWRfcmVxdWVzdCIsIk1pc3NpbmcgSlNPTiBsaXN0IG9mICdkb2NzJyIpLFQ9bmV3IEkoNDA0LCJub3RfZm91bmQiLCJtaXNzaW5nIiksUj1uZXcgSSg0MDksImNvbmZsaWN0IiwiRG9jdW1lbnQgdXBkYXRlIGNvbmZsaWN0IiksTT1uZXcgSSg0MDAsImJhZF9yZXF1ZXN0IiwiX2lkIGZpZWxkIG11c3QgY29udGFpbiBhIHN0cmluZyIpLE49bmV3IEkoNDEyLCJtaXNzaW5nX2lkIiwiX2lkIGlzIHJlcXVpcmVkIGZvciBwdXRzIiksVT1uZXcgSSg0MDAsImJhZF9yZXF1ZXN0IiwiT25seSByZXNlcnZlZCBkb2N1bWVudCBpZHMgbWF5IHN0YXJ0IHdpdGggdW5kZXJzY29yZS4iKSxGPShuZXcgSSg0MTIsInByZWNvbmRpdGlvbl9mYWlsZWQiLCJEYXRhYmFzZSBub3Qgb3BlbiIpLG5ldyBJKDUwMCwidW5rbm93bl9lcnJvciIsIkRhdGFiYXNlIGVuY291bnRlcmVkIGFuIHVua25vd24gZXJyb3IiKSksSz1uZXcgSSg1MDAsImJhZGFyZyIsIlNvbWUgcXVlcnkgYXJndW1lbnQgaXMgaW52YWxpZCIpLEo9KG5ldyBJKDQwMCwiaW52YWxpZF9yZXF1ZXN0IiwiUmVxdWVzdCB3YXMgaW52YWxpZCIpLG5ldyBJKDQwMCwicXVlcnlfcGFyc2VfZXJyb3IiLCJTb21lIHF1ZXJ5IHBhcmFtZXRlciBpcyBpbnZhbGlkIikpLHo9bmV3IEkoNTAwLCJkb2NfdmFsaWRhdGlvbiIsIkJhZCBzcGVjaWFsIGRvY3VtZW50IG1lbWJlciIpLFY9bmV3IEkoNDAwLCJiYWRfcmVxdWVzdCIsIlNvbWV0aGluZyB3cm9uZyB3aXRoIHRoZSByZXF1ZXN0IiksRz1uZXcgSSg0MDAsImJhZF9yZXF1ZXN0IiwiRG9jdW1lbnQgbXVzdCBiZSBhIEpTT04gb2JqZWN0IiksUT0obmV3IEkoNDA0LCJub3RfZm91bmQiLCJEYXRhYmFzZSBub3QgZm91bmQiKSxuZXcgSSg1MDAsImluZGV4ZWRfZGJfd2VudF9iYWQiLCJ1bmtub3duIikpLFc9KG5ldyBJKDUwMCwid2ViX3NxbF93ZW50X2JhZCIsInVua25vd24iKSxuZXcgSSg1MDAsImxldmVsREJfd2VudF93ZW50X2JhZCIsInVua25vd24iKSxuZXcgSSg0MDMsImZvcmJpZGRlbiIsIkZvcmJpZGRlbiBieSBkZXNpZ24gZG9jIHZhbGlkYXRlX2RvY191cGRhdGUgZnVuY3Rpb24iKSxuZXcgSSg0MDAsImJhZF9yZXF1ZXN0IiwiSW52YWxpZCByZXYgZm9ybWF0IikpLFk9KG5ldyBJKDQxMiwiZmlsZV9leGlzdHMiLCJUaGUgZGF0YWJhc2UgY291bGQgbm90IGJlIGNyZWF0ZWQsIHRoZSBmaWxlIGFscmVhZHkgZXhpc3RzLiIpLG5ldyBJKDQxMiwibWlzc2luZ19zdHViIiwiQSBwcmUtZXhpc3RpbmcgYXR0YWNobWVudCBzdHViIHdhc24ndCBmb3VuZCIpKTtuZXcgSSg0MTMsImludmFsaWRfdXJsIiwiUHJvdmlkZWQgVVJMIGlzIGludmFsaWQiKTtmdW5jdGlvbiBIKGUsdCl7ZnVuY3Rpb24gbih0KXtmb3IodmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSkscj0wLG89bi5sZW5ndGg7cjxvO3IrKykiZnVuY3Rpb24iIT10eXBlb2YgZVtuW3JdXSYmKHRoaXNbbltyXV09ZVtuW3JdXSk7dm9pZCAwIT09dCYmKHRoaXMucmVhc29uPXQpfXJldHVybiBuLnByb3RvdHlwZT1JLnByb3RvdHlwZSxuZXcgbih0KX1mdW5jdGlvbiBYKGUpe2lmKCJvYmplY3QiIT10eXBlb2YgZSl7dmFyIHQ9ZTsoZT1GKS5kYXRhPXR9cmV0dXJuImVycm9yImluIGUmJiJjb25mbGljdCI9PT1lLmVycm9yJiYoZS5uYW1lPSJjb25mbGljdCIsZS5zdGF0dXM9NDA5KSwibmFtZSJpbiBlfHwoZS5uYW1lPWUuZXJyb3J8fCJ1bmtub3duIiksInN0YXR1cyJpbiBlfHwoZS5zdGF0dXM9NTAwKSwibWVzc2FnZSJpbiBlfHwoZS5tZXNzYWdlPWUubWVzc2FnZXx8ZS5yZWFzb24pLGV9ZnVuY3Rpb24gWihlKXt2YXIgdD17fSxuPWUuZmlsdGVyJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5maWx0ZXI7cmV0dXJuIHQucXVlcnk9ZS5xdWVyeV9wYXJhbXMsZnVuY3Rpb24ocil7ci5kb2N8fChyLmRvYz17fSk7dmFyIG89biYmZnVuY3Rpb24oZSx0LG4pe3RyeXtyZXR1cm4hZSh0LG4pfWNhdGNoKGUpe3ZhciByPSJGaWx0ZXIgZnVuY3Rpb24gdGhyZXc6ICIrZS50b1N0cmluZygpO3JldHVybiBIKFYscil9fShlLmZpbHRlcixyLmRvYyx0KTtpZigib2JqZWN0Ij09dHlwZW9mIG8pcmV0dXJuIG87aWYobylyZXR1cm4hMTtpZihlLmluY2x1ZGVfZG9jcyl7aWYoIWUuYXR0YWNobWVudHMpZm9yKHZhciBpIGluIHIuZG9jLl9hdHRhY2htZW50cylyLmRvYy5fYXR0YWNobWVudHMuaGFzT3duUHJvcGVydHkoaSkmJihyLmRvYy5fYXR0YWNobWVudHNbaV0uc3R1Yj0hMCl9ZWxzZSBkZWxldGUgci5kb2M7cmV0dXJuITB9fWZ1bmN0aW9uIGVlKGUpe2Zvcih2YXIgdD1bXSxuPTAscj1lLmxlbmd0aDtuPHI7bisrKXQ9dC5jb25jYXQoZVtuXSk7cmV0dXJuIHR9ZnVuY3Rpb24gdGUoZSl7dmFyIHQ7aWYoZT8ic3RyaW5nIiE9dHlwZW9mIGU/dD1IKE0pOi9eXy8udGVzdChlKSYmIS9eXyhkZXNpZ258bG9jYWwpLy50ZXN0KGUpJiYodD1IKFUpKTp0PUgoTiksdCl0aHJvdyB0fWZ1bmN0aW9uIG5lKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGUuX3JlbW90ZT9lLl9yZW1vdGU6ImZ1bmN0aW9uIj09dHlwZW9mIGUudHlwZSYmKFAoIndhcm4iLCJkYi50eXBlKCkgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIHZlcnNpb24gb2YgUG91Y2hEQiIpLCJodHRwIj09PWUudHlwZSgpKX1mdW5jdGlvbiByZShlKXtpZighZSlyZXR1cm4gbnVsbDt2YXIgdD1lLnNwbGl0KCIvIik7cmV0dXJuIDI9PT10Lmxlbmd0aD90OjE9PT10Lmxlbmd0aD9bZSxlXTpudWxsfWZ1bmN0aW9uIG9lKGUpe3ZhciB0PXJlKGUpO3JldHVybiB0P3Quam9pbigiLyIpOm51bGx9dmFyIGllPVsic291cmNlIiwicHJvdG9jb2wiLCJhdXRob3JpdHkiLCJ1c2VySW5mbyIsInVzZXIiLCJwYXNzd29yZCIsImhvc3QiLCJwb3J0IiwicmVsYXRpdmUiLCJwYXRoIiwiZGlyZWN0b3J5IiwiZmlsZSIsInF1ZXJ5IiwiYW5jaG9yIl0sc2U9Lyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nLGFlPS9eKD86KD8hW146QF0rOlteOkBcL10qQCkoW146XC8/Iy5dKyk6KT8oPzpcL1wvKT8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcLz8jXSopKD86OihcZCopKT8pKCgoXC8oPzpbXj8jXSg/IVtePyNcL10qXC5bXj8jXC8uXSsoPzpbPyNdfCQpKSkqXC8/KT8oW14/I1wvXSopKSg/Olw/KFteI10qKSk/KD86IyguKikpPykvO2Z1bmN0aW9uIHVlKGUpe2Zvcih2YXIgdD1hZS5leGVjKGUpLG49e30scj0xNDtyLS07KXt2YXIgbz1pZVtyXSxpPXRbcl18fCIiLHM9LTEhPT1bInVzZXIiLCJwYXNzd29yZCJdLmluZGV4T2Yobyk7bltvXT1zP2RlY29kZVVSSUNvbXBvbmVudChpKTppfXJldHVybiBuLnF1ZXJ5S2V5PXt9LG5baWVbMTJdXS5yZXBsYWNlKHNlLChmdW5jdGlvbihlLHQscil7dCYmKG4ucXVlcnlLZXlbdF09cil9KSksbn1mdW5jdGlvbiBjZShlLHQpe3ZhciBuPVtdLHI9W107Zm9yKHZhciBvIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShvKSYmKG4ucHVzaChvKSxyLnB1c2godFtvXSkpO3JldHVybiBuLnB1c2goZSksRnVuY3Rpb24uYXBwbHkobnVsbCxuKS5hcHBseShudWxsLHIpfWZ1bmN0aW9uIGZlKGUsdCxuKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIsbyl7ZS5nZXQodCwoZnVuY3Rpb24oaSxzKXtpZihpKXtpZig0MDQhPT1pLnN0YXR1cylyZXR1cm4gbyhpKTtzPXt9fXZhciBhPXMuX3Jldix1PW4ocyk7aWYoIXUpcmV0dXJuIHIoe3VwZGF0ZWQ6ITEscmV2OmF9KTt1Ll9pZD10LHUuX3Jldj1hLHIoZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLnB1dCh0KS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm57dXBkYXRlZDohMCxyZXY6ZS5yZXZ9fSksKGZ1bmN0aW9uKHIpe2lmKDQwOSE9PXIuc3RhdHVzKXRocm93IHI7cmV0dXJuIGZlKGUsdC5faWQsbil9KSl9KGUsdSxuKSl9KSl9KSl9dmFyIGxlPWZ1bmN0aW9uKGUpe3JldHVybiBhdG9iKGUpfSxkZT1mdW5jdGlvbihlKXtyZXR1cm4gYnRvYShlKX07ZnVuY3Rpb24gaGUoZSx0KXtlPWV8fFtdLHQ9dHx8e307dHJ5e3JldHVybiBuZXcgQmxvYihlLHQpfWNhdGNoKG8pe2lmKCJUeXBlRXJyb3IiIT09by5uYW1lKXRocm93IG87Zm9yKHZhciBuPW5ldygidW5kZWZpbmVkIiE9dHlwZW9mIEJsb2JCdWlsZGVyP0Jsb2JCdWlsZGVyOiJ1bmRlZmluZWQiIT10eXBlb2YgTVNCbG9iQnVpbGRlcj9NU0Jsb2JCdWlsZGVyOiJ1bmRlZmluZWQiIT10eXBlb2YgTW96QmxvYkJ1aWxkZXI/TW96QmxvYkJ1aWxkZXI6V2ViS2l0QmxvYkJ1aWxkZXIpLHI9MDtyPGUubGVuZ3RoO3IrPTEpbi5hcHBlbmQoZVtyXSk7cmV0dXJuIG4uZ2V0QmxvYih0LnR5cGUpfX1mdW5jdGlvbiBwZShlKXtmb3IodmFyIHQ9ZS5sZW5ndGgsbj1uZXcgQXJyYXlCdWZmZXIodCkscj1uZXcgVWludDhBcnJheShuKSxvPTA7bzx0O28rKylyW29dPWUuY2hhckNvZGVBdChvKTtyZXR1cm4gbn1mdW5jdGlvbiB2ZShlLHQpe3JldHVybiBoZShbcGUoZSldLHt0eXBlOnR9KX1mdW5jdGlvbiB5ZShlLHQpe3JldHVybiB2ZShsZShlKSx0KX1mdW5jdGlvbiBnZShlLHQpe3ZhciBuPW5ldyBGaWxlUmVhZGVyLHI9ImZ1bmN0aW9uIj09dHlwZW9mIG4ucmVhZEFzQmluYXJ5U3RyaW5nO24ub25sb2FkZW5kPWZ1bmN0aW9uKGUpe3ZhciBuPWUudGFyZ2V0LnJlc3VsdHx8IiI7aWYocilyZXR1cm4gdChuKTt0KGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0iIixuPW5ldyBVaW50OEFycmF5KGUpLHI9bi5ieXRlTGVuZ3RoLG89MDtvPHI7bysrKXQrPVN0cmluZy5mcm9tQ2hhckNvZGUobltvXSk7cmV0dXJuIHR9KG4pKX0scj9uLnJlYWRBc0JpbmFyeVN0cmluZyhlKTpuLnJlYWRBc0FycmF5QnVmZmVyKGUpfWZ1bmN0aW9uIF9lKGUsdCl7Z2UoZSwoZnVuY3Rpb24oZSl7dChlKX0pKX1mdW5jdGlvbiBtZShlLHQpe19lKGUsKGZ1bmN0aW9uKGUpe3QoZGUoZSkpfSkpfXZhciBiZT1zZWxmLnNldEltbWVkaWF0ZXx8c2VsZi5zZXRUaW1lb3V0O2Z1bmN0aW9uIHdlKGUsdCxuLHIsbyl7KG4+MHx8cjx0LnNpemUpJiYodD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGUud2Via2l0U2xpY2U/ZS53ZWJraXRTbGljZSh0LG4pOmUuc2xpY2UodCxuKX0odCxuLHIpKSxmdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBGaWxlUmVhZGVyO24ub25sb2FkZW5kPWZ1bmN0aW9uKGUpe3ZhciBuPWUudGFyZ2V0LnJlc3VsdHx8bmV3IEFycmF5QnVmZmVyKDApO3Qobil9LG4ucmVhZEFzQXJyYXlCdWZmZXIoZSl9KHQsKGZ1bmN0aW9uKHQpe2UuYXBwZW5kKHQpLG8oKX0pKX1mdW5jdGlvbiBrZShlLHQsbixyLG8peyhuPjB8fHI8dC5sZW5ndGgpJiYodD10LnN1YnN0cmluZyhuLHIpKSxlLmFwcGVuZEJpbmFyeSh0KSxvKCl9ZnVuY3Rpb24gamUoZSx0KXt2YXIgbj0ic3RyaW5nIj09dHlwZW9mIGUscj1uP2UubGVuZ3RoOmUuc2l6ZSxvPU1hdGgubWluKDMyNzY4LHIpLGk9TWF0aC5jZWlsKHIvbykscz0wLGE9bj9uZXcgdTpuZXcgdS5BcnJheUJ1ZmZlcixjPW4/a2U6d2U7ZnVuY3Rpb24gZigpe2JlKGQpfWZ1bmN0aW9uIGwoKXt2YXIgZT1mdW5jdGlvbihlKXtyZXR1cm4gZGUoZSl9KGEuZW5kKCEwKSk7dChlKSxhLmRlc3Ryb3koKX1mdW5jdGlvbiBkKCl7dmFyIHQ9cypvLG49dCtvO3MrKyxjKGEsZSx0LG4sczxpP2Y6bCl9ZCgpfWZ1bmN0aW9uIHFlKGUpe3JldHVybiB1Lmhhc2goZSl9ZnVuY3Rpb24gT2UoZSx0KXt2YXIgbj1iKGUpO3JldHVybiB0PyhkZWxldGUgbi5fcmV2X3RyZWUscWUoSlNPTi5zdHJpbmdpZnkobikpKTphLnY0KCkucmVwbGFjZSgvLS9nLCIiKS50b0xvd2VyQ2FzZSgpfXZhciBBZT1hLnY0O2Z1bmN0aW9uIFNlKGUpe2Zvcih2YXIgdCxuLHIsbyxpPWUucmV2X3RyZWUuc2xpY2UoKTtvPWkucG9wKCk7KXt2YXIgcz1vLmlkcyxhPXNbMl0sdT1vLnBvcztpZihhLmxlbmd0aClmb3IodmFyIGM9MCxmPWEubGVuZ3RoO2M8ZjtjKyspaS5wdXNoKHtwb3M6dSsxLGlkczphW2NdfSk7ZWxzZXt2YXIgbD0hIXNbMV0uZGVsZXRlZCxkPXNbMF07dCYmIShyIT09bD9yOm4hPT11P248dTp0PGQpfHwodD1kLG49dSxyPWwpfX1yZXR1cm4gbisiLSIrdH1mdW5jdGlvbiB4ZShlLHQpe2Zvcih2YXIgbixyPWUuc2xpY2UoKTtuPXIucG9wKCk7KWZvcih2YXIgbz1uLnBvcyxpPW4uaWRzLHM9aVsyXSxhPXQoMD09PXMubGVuZ3RoLG8saVswXSxuLmN0eCxpWzFdKSx1PTAsYz1zLmxlbmd0aDt1PGM7dSsrKXIucHVzaCh7cG9zOm8rMSxpZHM6c1t1XSxjdHg6YX0pfWZ1bmN0aW9uIEVlKGUsdCl7cmV0dXJuIGUucG9zLXQucG9zfWZ1bmN0aW9uIENlKGUpe3ZhciB0PVtdO3hlKGUsKGZ1bmN0aW9uKGUsbixyLG8saSl7ZSYmdC5wdXNoKHtyZXY6bisiLSIrcixwb3M6bixvcHRzOml9KX0pKSx0LnNvcnQoRWUpLnJldmVyc2UoKTtmb3IodmFyIG49MCxyPXQubGVuZ3RoO248cjtuKyspZGVsZXRlIHRbbl0ucG9zO3JldHVybiB0fWZ1bmN0aW9uIFBlKGUpe2Zvcih2YXIgdD1TZShlKSxuPUNlKGUucmV2X3RyZWUpLHI9W10sbz0wLGk9bi5sZW5ndGg7bzxpO28rKyl7dmFyIHM9bltvXTtzLnJldj09PXR8fHMub3B0cy5kZWxldGVkfHxyLnB1c2gocy5yZXYpfXJldHVybiByfWZ1bmN0aW9uIExlKGUpe2Zvcih2YXIgdCxuPVtdLHI9ZS5zbGljZSgpO3Q9ci5wb3AoKTspe3ZhciBvPXQucG9zLGk9dC5pZHMscz1pWzBdLGE9aVsxXSx1PWlbMl0sYz0wPT09dS5sZW5ndGgsZj10Lmhpc3Rvcnk/dC5oaXN0b3J5LnNsaWNlKCk6W107Zi5wdXNoKHtpZDpzLG9wdHM6YX0pLGMmJm4ucHVzaCh7cG9zOm8rMS1mLmxlbmd0aCxpZHM6Zn0pO2Zvcih2YXIgbD0wLGQ9dS5sZW5ndGg7bDxkO2wrKylyLnB1c2goe3BvczpvKzEsaWRzOnVbbF0saGlzdG9yeTpmfSl9cmV0dXJuIG4ucmV2ZXJzZSgpfWZ1bmN0aW9uIERlKGUsdCl7cmV0dXJuIGUucG9zLXQucG9zfWZ1bmN0aW9uICRlKGUsdCxuKXt2YXIgcj1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByLG89MCxpPWUubGVuZ3RoO288aTspbihlW3I9bytpPj4+MV0sdCk8MD9vPXIrMTppPXI7cmV0dXJuIG99KGUsdCxuKTtlLnNwbGljZShyLDAsdCl9ZnVuY3Rpb24gSWUoZSx0KXtmb3IodmFyIG4scixvPXQsaT1lLmxlbmd0aDtvPGk7bysrKXt2YXIgcz1lW29dLGE9W3MuaWQscy5vcHRzLFtdXTtyPyhyWzJdLnB1c2goYSkscj1hKTpuPXI9YX1yZXR1cm4gbn1mdW5jdGlvbiBCZShlLHQpe3JldHVybiBlWzBdPHRbMF0/LTE6MX1mdW5jdGlvbiBUZShlLHQpe2Zvcih2YXIgbj1be3RyZWUxOmUsdHJlZTI6dH1dLHI9ITE7bi5sZW5ndGg+MDspe3ZhciBvPW4ucG9wKCksaT1vLnRyZWUxLHM9by50cmVlMjsoaVsxXS5zdGF0dXN8fHNbMV0uc3RhdHVzKSYmKGlbMV0uc3RhdHVzPSJhdmFpbGFibGUiPT09aVsxXS5zdGF0dXN8fCJhdmFpbGFibGUiPT09c1sxXS5zdGF0dXM/ImF2YWlsYWJsZSI6Im1pc3NpbmciKTtmb3IodmFyIGE9MDthPHNbMl0ubGVuZ3RoO2ErKylpZihpWzJdWzBdKXtmb3IodmFyIHU9ITEsYz0wO2M8aVsyXS5sZW5ndGg7YysrKWlbMl1bY11bMF09PT1zWzJdW2FdWzBdJiYobi5wdXNoKHt0cmVlMTppWzJdW2NdLHRyZWUyOnNbMl1bYV19KSx1PSEwKTt1fHwocj0ibmV3X2JyYW5jaCIsJGUoaVsyXSxzWzJdW2FdLEJlKSl9ZWxzZSByPSJuZXdfbGVhZiIsaVsyXVswXT1zWzJdW2FdfXJldHVybntjb25mbGljdHM6cix0cmVlOmV9fWZ1bmN0aW9uIFJlKGUsdCxuKXt2YXIgcixvPVtdLGk9ITEscz0hMTtpZighZS5sZW5ndGgpcmV0dXJue3RyZWU6W3RdLGNvbmZsaWN0czoibmV3X2xlYWYifTtmb3IodmFyIGE9MCx1PWUubGVuZ3RoO2E8dTthKyspe3ZhciBjPWVbYV07aWYoYy5wb3M9PT10LnBvcyYmYy5pZHNbMF09PT10Lmlkc1swXSlyPVRlKGMuaWRzLHQuaWRzKSxvLnB1c2goe3BvczpjLnBvcyxpZHM6ci50cmVlfSksaT1pfHxyLmNvbmZsaWN0cyxzPSEwO2Vsc2UgaWYoITAhPT1uKXt2YXIgZj1jLnBvczx0LnBvcz9jOnQsbD1jLnBvczx0LnBvcz90OmMsZD1sLnBvcy1mLnBvcyxoPVtdLHA9W107Zm9yKHAucHVzaCh7aWRzOmYuaWRzLGRpZmY6ZCxwYXJlbnQ6bnVsbCxwYXJlbnRJZHg6bnVsbH0pO3AubGVuZ3RoPjA7KXt2YXIgdj1wLnBvcCgpO2lmKDAhPT12LmRpZmYpZm9yKHZhciB5PXYuaWRzWzJdLGc9MCxfPXkubGVuZ3RoO2c8XztnKyspcC5wdXNoKHtpZHM6eVtnXSxkaWZmOnYuZGlmZi0xLHBhcmVudDp2LmlkcyxwYXJlbnRJZHg6Z30pO2Vsc2Ugdi5pZHNbMF09PT1sLmlkc1swXSYmaC5wdXNoKHYpfXZhciBtPWhbMF07bT8ocj1UZShtLmlkcyxsLmlkcyksbS5wYXJlbnRbMl1bbS5wYXJlbnRJZHhdPXIudHJlZSxvLnB1c2goe3BvczpmLnBvcyxpZHM6Zi5pZHN9KSxpPWl8fHIuY29uZmxpY3RzLHM9ITApOm8ucHVzaChjKX1lbHNlIG8ucHVzaChjKX1yZXR1cm4gc3x8by5wdXNoKHQpLG8uc29ydChEZSkse3RyZWU6byxjb25mbGljdHM6aXx8ImludGVybmFsX25vZGUifX1mdW5jdGlvbiBNZShlLHQsbil7dmFyIHI9UmUoZSx0KSxvPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHIsbz1MZShlKSxpPTAscz1vLmxlbmd0aDtpPHM7aSsrKXt2YXIgYSx1PW9baV0sYz11LmlkcztpZihjLmxlbmd0aD50KXtufHwobj17fSk7dmFyIGY9Yy5sZW5ndGgtdDthPXtwb3M6dS5wb3MrZixpZHM6SWUoYyxmKX07Zm9yKHZhciBsPTA7bDxmO2wrKyl7dmFyIGQ9dS5wb3MrbCsiLSIrY1tsXS5pZDtuW2RdPSEwfX1lbHNlIGE9e3Bvczp1LnBvcyxpZHM6SWUoYywwKX07cj1yP1JlKHIsYSwhMCkudHJlZTpbYV19cmV0dXJuIG4mJnhlKHIsKGZ1bmN0aW9uKGUsdCxyKXtkZWxldGUgblt0KyItIityXX0pKSx7dHJlZTpyLHJldnM6bj9PYmplY3Qua2V5cyhuKTpbXX19KHIudHJlZSxuKTtyZXR1cm57dHJlZTpvLnRyZWUsc3RlbW1lZFJldnM6by5yZXZzLGNvbmZsaWN0czpyLmNvbmZsaWN0c319ZnVuY3Rpb24gTmUoZSl7cmV0dXJuIGUuaWRzfWZ1bmN0aW9uIFVlKGUsdCl7dHx8KHQ9U2UoZSkpO2Zvcih2YXIgbixyPXQuc3Vic3RyaW5nKHQuaW5kZXhPZigiLSIpKzEpLG89ZS5yZXZfdHJlZS5tYXAoTmUpO249by5wb3AoKTspe2lmKG5bMF09PT1yKXJldHVybiEhblsxXS5kZWxldGVkO289by5jb25jYXQoblsyXSl9fWZ1bmN0aW9uIEZlKGUpe3JldHVybi9eX2xvY2FsLy50ZXN0KGUpfWZ1bmN0aW9uIEtlKGUsdCxuKXtkLmNhbGwodGhpcyk7dmFyIHI9dGhpczt0aGlzLmRiPWU7dmFyIG89KHQ9dD9iKHQpOnt9KS5jb21wbGV0ZT13KChmdW5jdGlvbih0LG4pe3ZhciBvLHM7dD8ocz0iZXJyb3IiLCgibGlzdGVuZXJDb3VudCJpbihvPXIpP28ubGlzdGVuZXJDb3VudChzKTpkLmxpc3RlbmVyQ291bnQobyxzKSk+MCYmci5lbWl0KCJlcnJvciIsdCkpOnIuZW1pdCgiY29tcGxldGUiLG4pLHIucmVtb3ZlQWxsTGlzdGVuZXJzKCksZS5yZW1vdmVMaXN0ZW5lcigiZGVzdHJveWVkIixpKX0pKTtmdW5jdGlvbiBpKCl7ci5jYW5jZWwoKX1uJiYoci5vbigiY29tcGxldGUiLChmdW5jdGlvbihlKXtuKG51bGwsZSl9KSksci5vbigiZXJyb3IiLG4pKSxlLm9uY2UoImRlc3Ryb3llZCIsaSksdC5vbkNoYW5nZT1mdW5jdGlvbihlLHQsbil7ci5pc0NhbmNlbGxlZHx8ZnVuY3Rpb24oZSx0LG4scil7dHJ5e2UuZW1pdCgiY2hhbmdlIix0LG4scil9Y2F0Y2goZSl7UCgiZXJyb3IiLCdFcnJvciBpbiAub24oImNoYW5nZSIsIGZ1bmN0aW9uKTonLGUpfX0ocixlLHQsbil9O3ZhciBzPW5ldyBQcm9taXNlKChmdW5jdGlvbihlLG4pe3QuY29tcGxldGU9ZnVuY3Rpb24odCxyKXt0P24odCk6ZShyKX19KSk7ci5vbmNlKCJjYW5jZWwiLChmdW5jdGlvbigpe2UucmVtb3ZlTGlzdGVuZXIoImRlc3Ryb3llZCIsaSksdC5jb21wbGV0ZShudWxsLHtzdGF0dXM6ImNhbmNlbGxlZCJ9KX0pKSx0aGlzLnRoZW49cy50aGVuLmJpbmQocyksdGhpcy5jYXRjaD1zLmNhdGNoLmJpbmQocyksdGhpcy50aGVuKChmdW5jdGlvbihlKXtvKG51bGwsZSl9KSxvKSxlLnRhc2txdWV1ZS5pc1JlYWR5P3IudmFsaWRhdGVDaGFuZ2VzKHQpOmUudGFza3F1ZXVlLmFkZFRhc2soKGZ1bmN0aW9uKGUpe2U/dC5jb21wbGV0ZShlKTpyLmlzQ2FuY2VsbGVkP3IuZW1pdCgiY2FuY2VsIik6ci52YWxpZGF0ZUNoYW5nZXModCl9KSl9ZnVuY3Rpb24gSmUoZSx0LG4pe3ZhciByPVt7cmV2OmUuX3Jldn1dOyJhbGxfZG9jcyI9PT1uLnN0eWxlJiYocj1DZSh0LnJldl90cmVlKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybntyZXY6ZS5yZXZ9fSkpKTt2YXIgbz17aWQ6dC5pZCxjaGFuZ2VzOnIsZG9jOmV9O3JldHVybiBVZSh0LGUuX3JldikmJihvLmRlbGV0ZWQ9ITApLG4uY29uZmxpY3RzJiYoby5kb2MuX2NvbmZsaWN0cz1QZSh0KSxvLmRvYy5fY29uZmxpY3RzLmxlbmd0aHx8ZGVsZXRlIG8uZG9jLl9jb25mbGljdHMpLG99ZnVuY3Rpb24gemUoZSx0KXtyZXR1cm4gZTx0Py0xOmU+dD8xOjB9ZnVuY3Rpb24gVmUoZSx0KXtyZXR1cm4gZnVuY3Rpb24obixyKXtufHxyWzBdJiZyWzBdLmVycm9yPygobj1ufHxyWzBdKS5kb2NJZD10LGUobikpOmUobnVsbCxyLmxlbmd0aD9yWzBdOnIpfX1mdW5jdGlvbiBHZShlLHQpe3ZhciBuPXplKGUuX2lkLHQuX2lkKTtyZXR1cm4gMCE9PW4/bjp6ZShlLl9yZXZpc2lvbnM/ZS5fcmV2aXNpb25zLnN0YXJ0OjAsdC5fcmV2aXNpb25zP3QuX3JldmlzaW9ucy5zdGFydDowKX1mdW5jdGlvbiBRZSgpe2Zvcih2YXIgZSBpbiBkLmNhbGwodGhpcyksUWUucHJvdG90eXBlKSJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzW2VdJiYodGhpc1tlXT10aGlzW2VdLmJpbmQodGhpcykpfWZ1bmN0aW9uIFdlKCl7dGhpcy5pc1JlYWR5PSExLHRoaXMuZmFpbGVkPSExLHRoaXMucXVldWU9W119ZnVuY3Rpb24gWWUoZSx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBZZSkpcmV0dXJuIG5ldyBZZShlLHQpO3ZhciBuPXRoaXM7aWYodD10fHx7fSxlJiYib2JqZWN0Ij09dHlwZW9mIGUmJihlPSh0PWUpLm5hbWUsZGVsZXRlIHQubmFtZSksdm9pZCAwPT09dC5kZXRlcm1pbmlzdGljX3JldnMmJih0LmRldGVybWluaXN0aWNfcmV2cz0hMCksdGhpcy5fX29wdHM9dD1iKHQpLG4uYXV0b19jb21wYWN0aW9uPXQuYXV0b19jb21wYWN0aW9uLG4ucHJlZml4PVllLnByZWZpeCwic3RyaW5nIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKCJNaXNzaW5nL2ludmFsaWQgREIgbmFtZSIpO3ZhciByPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5tYXRjaCgvKFthLXotXSopOlwvXC8oLiopLyk7aWYobilyZXR1cm57bmFtZTovaHR0cHM/Ly50ZXN0KG5bMV0pP25bMV0rIjovLyIrblsyXTpuWzJdLGFkYXB0ZXI6blsxXX07dmFyIHI9WWUuYWRhcHRlcnMsbz1ZZS5wcmVmZXJyZWRBZGFwdGVycyxpPVllLnByZWZpeCxzPXQuYWRhcHRlcjtpZighcylmb3IodmFyIGE9MDthPG8ubGVuZ3RoJiYoImlkYiI9PT0ocz1vW2FdKSYmIndlYnNxbCJpbiByJiZFKCkmJmxvY2FsU3RvcmFnZVsiX3BvdWNoX193ZWJzcWxkYl8iK2krZV0pOysrYSlQKCJsb2ciLCdQb3VjaERCIGlzIGRvd25ncmFkaW5nICInK2UrJyIgdG8gV2ViU1FMIHRvIGF2b2lkIGRhdGEgbG9zcywgYmVjYXVzZSBpdCB3YXMgYWxyZWFkeSBvcGVuZWQgd2l0aCBXZWJTUUwuJyk7dmFyIHU9cltzXTtyZXR1cm57bmFtZTohdXx8ISgidXNlX3ByZWZpeCJpbiB1KXx8dS51c2VfcHJlZml4P2krZTplLGFkYXB0ZXI6c319KCh0LnByZWZpeHx8IiIpK2UsdCk7aWYodC5uYW1lPXIubmFtZSx0LmFkYXB0ZXI9dC5hZGFwdGVyfHxyLmFkYXB0ZXIsbi5uYW1lPWUsbi5fYWRhcHRlcj10LmFkYXB0ZXIsWWUuZW1pdCgiZGVidWciLFsiYWRhcHRlciIsIlBpY2tlZCBhZGFwdGVyOiAiLHQuYWRhcHRlcl0pLCFZZS5hZGFwdGVyc1t0LmFkYXB0ZXJdfHwhWWUuYWRhcHRlcnNbdC5hZGFwdGVyXS52YWxpZCgpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBBZGFwdGVyOiAiK3QuYWRhcHRlcik7UWUuY2FsbChuKSxuLnRhc2txdWV1ZT1uZXcgV2Usbi5hZGFwdGVyPXQuYWRhcHRlcixZZS5hZGFwdGVyc1t0LmFkYXB0ZXJdLmNhbGwobix0LChmdW5jdGlvbihlKXtpZihlKXJldHVybiBuLnRhc2txdWV1ZS5mYWlsKGUpOyFmdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe2UucmVtb3ZlTGlzdGVuZXIoImNsb3NlZCIsbiksdHx8ZS5jb25zdHJ1Y3Rvci5lbWl0KCJkZXN0cm95ZWQiLGUubmFtZSl9ZnVuY3Rpb24gbigpe2UucmVtb3ZlTGlzdGVuZXIoImRlc3Ryb3llZCIsdCksZS5jb25zdHJ1Y3Rvci5lbWl0KCJ1bnJlZiIsZSl9ZS5vbmNlKCJkZXN0cm95ZWQiLHQpLGUub25jZSgiY2xvc2VkIixuKSxlLmNvbnN0cnVjdG9yLmVtaXQoInJlZiIsZSl9KG4pLG4uZW1pdCgiY3JlYXRlZCIsbiksWWUuZW1pdCgiY3JlYXRlZCIsbi5uYW1lKSxuLnRhc2txdWV1ZS5yZWFkeShuKX0pKX1sKEtlLGQpLEtlLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLmlzQ2FuY2VsbGVkPSEwLHRoaXMuZGIudGFza3F1ZXVlLmlzUmVhZHkmJnRoaXMuZW1pdCgiY2FuY2VsIil9LEtlLnByb3RvdHlwZS52YWxpZGF0ZUNoYW5nZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb21wbGV0ZSxuPXRoaXM7WWUuX2NoYW5nZXNGaWx0ZXJQbHVnaW4/WWUuX2NoYW5nZXNGaWx0ZXJQbHVnaW4udmFsaWRhdGUoZSwoZnVuY3Rpb24ocil7aWYocilyZXR1cm4gdChyKTtuLmRvQ2hhbmdlcyhlKX0pKTpuLmRvQ2hhbmdlcyhlKX0sS2UucHJvdG90eXBlLmRvQ2hhbmdlcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49ZS5jb21wbGV0ZTtpZigibGl2ZSJpbihlPWIoZSkpJiYhKCJjb250aW51b3VzImluIGUpJiYoZS5jb250aW51b3VzPWUubGl2ZSksZS5wcm9jZXNzQ2hhbmdlPUplLCJsYXRlc3QiPT09ZS5zaW5jZSYmKGUuc2luY2U9Im5vdyIpLGUuc2luY2V8fChlLnNpbmNlPTApLCJub3ciIT09ZS5zaW5jZSl7aWYoWWUuX2NoYW5nZXNGaWx0ZXJQbHVnaW4pe2lmKFllLl9jaGFuZ2VzRmlsdGVyUGx1Z2luLm5vcm1hbGl6ZShlKSxZZS5fY2hhbmdlc0ZpbHRlclBsdWdpbi5zaG91bGRGaWx0ZXIodGhpcyxlKSlyZXR1cm4gWWUuX2NoYW5nZXNGaWx0ZXJQbHVnaW4uZmlsdGVyKHRoaXMsZSl9ZWxzZVsiZG9jX2lkcyIsImZpbHRlciIsInNlbGVjdG9yIiwidmlldyJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QgaW4gZSYmUCgid2FybiIsJ1RoZSAiJyt0KyciIG9wdGlvbiB3YXMgcGFzc2VkIGluIHRvIGNoYW5nZXMvcmVwbGljYXRlLCBidXQgcG91Y2hkYi1jaGFuZ2VzLWZpbHRlciBwbHVnaW4gaXMgbm90IGluc3RhbGxlZCwgc28gaXQgd2FzIGlnbm9yZWQuIFBsZWFzZSBpbnN0YWxsIHRoZSBwbHVnaW4gdG8gZW5hYmxlIGZpbHRlcmluZy4nKX0pKTsiZGVzY2VuZGluZyJpbiBlfHwoZS5kZXNjZW5kaW5nPSExKSxlLmxpbWl0PTA9PT1lLmxpbWl0PzE6ZS5saW1pdCxlLmNvbXBsZXRlPW47dmFyIHI9dGhpcy5kYi5fY2hhbmdlcyhlKTtpZihyJiYiZnVuY3Rpb24iPT10eXBlb2Ygci5jYW5jZWwpe3ZhciBvPXQuY2FuY2VsO3QuY2FuY2VsPWYoKGZ1bmN0aW9uKGUpe3IuY2FuY2VsKCksby5hcHBseSh0aGlzLGUpfSkpfX1lbHNlIHRoaXMuZGIuaW5mbygpLnRoZW4oKGZ1bmN0aW9uKHIpe3QuaXNDYW5jZWxsZWQ/bihudWxsLHtzdGF0dXM6ImNhbmNlbGxlZCJ9KTooZS5zaW5jZT1yLnVwZGF0ZV9zZXEsdC5kb0NoYW5nZXMoZSkpfSksbil9LGwoUWUsZCksUWUucHJvdG90eXBlLnBvc3Q9aigicG9zdCIsKGZ1bmN0aW9uKGUsdCxuKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgdCYmKG49dCx0PXt9KSwib2JqZWN0IiE9dHlwZW9mIGV8fEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIG4oSChHKSk7dGhpcy5idWxrRG9jcyh7ZG9jczpbZV19LHQsVmUobixlLl9pZCkpfSkpLFFlLnByb3RvdHlwZS5wdXQ9aigicHV0IiwoZnVuY3Rpb24oZSx0LG4pe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0JiYobj10LHQ9e30pLCJvYmplY3QiIT10eXBlb2YgZXx8QXJyYXkuaXNBcnJheShlKSlyZXR1cm4gbihIKEcpKTtpZih0ZShlLl9pZCksRmUoZS5faWQpJiYiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5fcHV0TG9jYWwpcmV0dXJuIGUuX2RlbGV0ZWQ/dGhpcy5fcmVtb3ZlTG9jYWwoZSxuKTp0aGlzLl9wdXRMb2NhbChlLG4pO3ZhciByLG8saSxzLGE9dGhpcztmdW5jdGlvbiB1KG4peyJmdW5jdGlvbiI9PXR5cGVvZiBhLl9wdXQmJiExIT09dC5uZXdfZWRpdHM/YS5fcHV0KGUsdCxuKTphLmJ1bGtEb2NzKHtkb2NzOltlXX0sdCxWZShuLGUuX2lkKSl9dC5mb3JjZSYmZS5fcmV2PyhyPWUuX3Jldi5zcGxpdCgiLSIpLG89clsxXSxpPXBhcnNlSW50KHJbMF0sMTApKzEscz1PZSgpLGUuX3JldmlzaW9ucz17c3RhcnQ6aSxpZHM6W3Msb119LGUuX3Jldj1pKyItIitzLHQubmV3X2VkaXRzPSExLHUoKGZ1bmN0aW9uKHQpe3ZhciByPXQ/bnVsbDp7b2s6ITAsaWQ6ZS5faWQscmV2OmUuX3Jldn07bih0LHIpfSkpKTp1KG4pfSkpLFFlLnByb3RvdHlwZS5wdXRBdHRhY2htZW50PWooInB1dEF0dGFjaG1lbnQiLChmdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpPXRoaXM7ZnVuY3Rpb24gcyhlKXt2YXIgbj0iX3JldiJpbiBlP3BhcnNlSW50KGUuX3JldiwxMCk6MDtyZXR1cm4gZS5fYXR0YWNobWVudHM9ZS5fYXR0YWNobWVudHN8fHt9LGUuX2F0dGFjaG1lbnRzW3RdPXtjb250ZW50X3R5cGU6byxkYXRhOnIscmV2cG9zOisrbn0saS5wdXQoZSl9cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG8mJihvPXIscj1uLG49bnVsbCksdm9pZCAwPT09byYmKG89cixyPW4sbj1udWxsKSxvfHxQKCJ3YXJuIiwiQXR0YWNobWVudCIsdCwib24gZG9jdW1lbnQiLGUsImlzIG1pc3NpbmcgY29udGVudF90eXBlIiksaS5nZXQoZSkudGhlbigoZnVuY3Rpb24oZSl7aWYoZS5fcmV2IT09bil0aHJvdyBIKFIpO3JldHVybiBzKGUpfSksKGZ1bmN0aW9uKHQpe2lmKHQucmVhc29uPT09VC5tZXNzYWdlKXJldHVybiBzKHtfaWQ6ZX0pO3Rocm93IHR9KSl9KSksUWUucHJvdG90eXBlLnJlbW92ZUF0dGFjaG1lbnQ9aigicmVtb3ZlQXR0YWNobWVudCIsKGZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPXRoaXM7by5nZXQoZSwoZnVuY3Rpb24oZSxpKXtpZihlKXIoZSk7ZWxzZSBpZihpLl9yZXY9PT1uKXtpZighaS5fYXR0YWNobWVudHMpcmV0dXJuIHIoKTtkZWxldGUgaS5fYXR0YWNobWVudHNbdF0sMD09PU9iamVjdC5rZXlzKGkuX2F0dGFjaG1lbnRzKS5sZW5ndGgmJmRlbGV0ZSBpLl9hdHRhY2htZW50cyxvLnB1dChpLHIpfWVsc2UgcihIKFIpKX0pKX0pKSxRZS5wcm90b3R5cGUucmVtb3ZlPWooInJlbW92ZSIsKGZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvOyJzdHJpbmciPT10eXBlb2YgdD8obz17X2lkOmUsX3Jldjp0fSwiZnVuY3Rpb24iPT10eXBlb2YgbiYmKHI9bixuPXt9KSk6KG89ZSwiZnVuY3Rpb24iPT10eXBlb2YgdD8ocj10LG49e30pOihyPW4sbj10KSksKG49bnx8e30pLndhc19kZWxldGU9ITA7dmFyIGk9e19pZDpvLl9pZCxfcmV2Om8uX3Jldnx8bi5yZXYsX2RlbGV0ZWQ6ITB9O2lmKEZlKGkuX2lkKSYmImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuX3JlbW92ZUxvY2FsKXJldHVybiB0aGlzLl9yZW1vdmVMb2NhbChvLHIpO3RoaXMuYnVsa0RvY3Moe2RvY3M6W2ldfSxuLFZlKHIsaS5faWQpKX0pKSxRZS5wcm90b3R5cGUucmV2c0RpZmY9aigicmV2c0RpZmYiLChmdW5jdGlvbihlLHQsbil7ImZ1bmN0aW9uIj09dHlwZW9mIHQmJihuPXQsdD17fSk7dmFyIHI9T2JqZWN0LmtleXMoZSk7aWYoIXIubGVuZ3RoKXJldHVybiBuKG51bGwse30pO3ZhciBvPTAscz1uZXcgaTtmdW5jdGlvbiBhKGUsdCl7cy5oYXMoZSl8fHMuc2V0KGUse21pc3Npbmc6W119KSxzLmdldChlKS5taXNzaW5nLnB1c2godCl9ci5tYXAoKGZ1bmN0aW9uKHQpe3RoaXMuX2dldFJldmlzaW9uVHJlZSh0LChmdW5jdGlvbihpLHUpe2lmKGkmJjQwND09PWkuc3RhdHVzJiYibWlzc2luZyI9PT1pLm1lc3NhZ2Upcy5zZXQodCx7bWlzc2luZzplW3RdfSk7ZWxzZXtpZihpKXJldHVybiBuKGkpOyFmdW5jdGlvbih0LG4pe3ZhciByPWVbdF0uc2xpY2UoMCk7eGUobiwoZnVuY3Rpb24oZSxuLG8saSxzKXt2YXIgdT1uKyItIitvLGM9ci5pbmRleE9mKHUpOy0xIT09YyYmKHIuc3BsaWNlKGMsMSksImF2YWlsYWJsZSIhPT1zLnN0YXR1cyYmYSh0LHUpKX0pKSxyLmZvckVhY2goKGZ1bmN0aW9uKGUpe2EodCxlKX0pKX0odCx1KX1pZigrK289PT1yLmxlbmd0aCl7dmFyIGM9e307cmV0dXJuIHMuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtjW3RdPWV9KSksbihudWxsLGMpfX0pKX0pLHRoaXMpfSkpLFFlLnByb3RvdHlwZS5idWxrR2V0PWooImJ1bGtHZXQiLChmdW5jdGlvbihlLHQpe3godGhpcyxlLHQpfSkpLFFlLnByb3RvdHlwZS5jb21wYWN0RG9jdW1lbnQ9aigiY29tcGFjdERvY3VtZW50IiwoZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXM7dGhpcy5fZ2V0UmV2aXNpb25UcmVlKGUsKGZ1bmN0aW9uKG8saSl7aWYobylyZXR1cm4gbihvKTt2YXIgcz1mdW5jdGlvbihlKXt2YXIgdD17fSxuPVtdO3JldHVybiB4ZShlLChmdW5jdGlvbihlLHIsbyxpKXt2YXIgcz1yKyItIitvO3JldHVybiBlJiYodFtzXT0wKSx2b2lkIDAhPT1pJiZuLnB1c2goe2Zyb206aSx0bzpzfSksc30pKSxuLnJldmVyc2UoKSxuLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZvaWQgMD09PXRbZS5mcm9tXT90W2UuZnJvbV09MSt0W2UudG9dOnRbZS5mcm9tXT1NYXRoLm1pbih0W2UuZnJvbV0sMSt0W2UudG9dKX0pKSx0fShpKSxhPVtdLHU9W107T2JqZWN0LmtleXMocykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7c1tlXT50JiZhLnB1c2goZSl9KSkseGUoaSwoZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaT10KyItIituOyJhdmFpbGFibGUiPT09by5zdGF0dXMmJi0xIT09YS5pbmRleE9mKGkpJiZ1LnB1c2goaSl9KSksci5fZG9Db21wYWN0aW9uKGUsdSxuKX0pKX0pKSxRZS5wcm90b3R5cGUuY29tcGFjdD1qKCJjb21wYWN0IiwoZnVuY3Rpb24oZSx0KXsiZnVuY3Rpb24iPT10eXBlb2YgZSYmKHQ9ZSxlPXt9KTtlPWV8fHt9LHRoaXMuX2NvbXBhY3Rpb25RdWV1ZT10aGlzLl9jb21wYWN0aW9uUXVldWV8fFtdLHRoaXMuX2NvbXBhY3Rpb25RdWV1ZS5wdXNoKHtvcHRzOmUsY2FsbGJhY2s6dH0pLDE9PT10aGlzLl9jb21wYWN0aW9uUXVldWUubGVuZ3RoJiZmdW5jdGlvbiBlKHQpe3ZhciBuPXQuX2NvbXBhY3Rpb25RdWV1ZVswXSxyPW4ub3B0cyxvPW4uY2FsbGJhY2s7dC5nZXQoIl9sb2NhbC9jb21wYWN0aW9uIikuY2F0Y2goKGZ1bmN0aW9uKCl7cmV0dXJuITF9KSkudGhlbigoZnVuY3Rpb24obil7biYmbi5sYXN0X3NlcSYmKHIubGFzdF9zZXE9bi5sYXN0X3NlcSksdC5fY29tcGFjdChyLChmdW5jdGlvbihuLHIpe24/byhuKTpvKG51bGwscikscygoZnVuY3Rpb24oKXt0Ll9jb21wYWN0aW9uUXVldWUuc2hpZnQoKSx0Ll9jb21wYWN0aW9uUXVldWUubGVuZ3RoJiZlKHQpfSkpfSkpfSkpfSh0aGlzKX0pKSxRZS5wcm90b3R5cGUuX2NvbXBhY3Q9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHI9e3JldHVybl9kb2NzOiExLGxhc3Rfc2VxOmUubGFzdF9zZXF8fDB9LG89W107bi5jaGFuZ2VzKHIpLm9uKCJjaGFuZ2UiLChmdW5jdGlvbihlKXtvLnB1c2gobi5jb21wYWN0RG9jdW1lbnQoZS5pZCwwKSl9KSkub24oImNvbXBsZXRlIiwoZnVuY3Rpb24oZSl7dmFyIHI9ZS5sYXN0X3NlcTtQcm9taXNlLmFsbChvKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBmZShuLCJfbG9jYWwvY29tcGFjdGlvbiIsKGZ1bmN0aW9uKGUpe3JldHVybighZS5sYXN0X3NlcXx8ZS5sYXN0X3NlcTxyKSYmKGUubGFzdF9zZXE9cixlKX0pKX0pKS50aGVuKChmdW5jdGlvbigpe3QobnVsbCx7b2s6ITB9KX0pKS5jYXRjaCh0KX0pKS5vbigiZXJyb3IiLHQpfSxRZS5wcm90b3R5cGUuZ2V0PWooImdldCIsKGZ1bmN0aW9uKGUsdCxuKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgdCYmKG49dCx0PXt9KSwic3RyaW5nIiE9dHlwZW9mIGUpcmV0dXJuIG4oSChNKSk7aWYoRmUoZSkmJiJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLl9nZXRMb2NhbClyZXR1cm4gdGhpcy5fZ2V0TG9jYWwoZSxuKTt2YXIgcj1bXSxvPXRoaXM7ZnVuY3Rpb24gaSgpe3ZhciBpPVtdLHM9ci5sZW5ndGg7aWYoIXMpcmV0dXJuIG4obnVsbCxpKTtyLmZvckVhY2goKGZ1bmN0aW9uKHIpe28uZ2V0KGUse3JldjpyLHJldnM6dC5yZXZzLGxhdGVzdDp0LmxhdGVzdCxhdHRhY2htZW50czp0LmF0dGFjaG1lbnRzLGJpbmFyeTp0LmJpbmFyeX0sKGZ1bmN0aW9uKGUsdCl7aWYoZSlpLnB1c2goe21pc3Npbmc6cn0pO2Vsc2V7Zm9yKHZhciBvLGE9MCx1PWkubGVuZ3RoO2E8dTthKyspaWYoaVthXS5vayYmaVthXS5vay5fcmV2PT09dC5fcmV2KXtvPSEwO2JyZWFrfW98fGkucHVzaCh7b2s6dH0pfS0tc3x8bihudWxsLGkpfSkpfSkpfWlmKCF0Lm9wZW5fcmV2cylyZXR1cm4gdGhpcy5fZ2V0KGUsdCwoZnVuY3Rpb24ocixpKXtpZihyKXJldHVybiByLmRvY0lkPWUsbihyKTt2YXIgcz1pLmRvYyxhPWkubWV0YWRhdGEsdT1pLmN0eDtpZih0LmNvbmZsaWN0cyl7dmFyIGM9UGUoYSk7Yy5sZW5ndGgmJihzLl9jb25mbGljdHM9Yyl9aWYoVWUoYSxzLl9yZXYpJiYocy5fZGVsZXRlZD0hMCksdC5yZXZzfHx0LnJldnNfaW5mbyl7Zm9yKHZhciBmPXMuX3Jldi5zcGxpdCgiLSIpLGw9cGFyc2VJbnQoZlswXSwxMCksZD1mWzFdLGg9TGUoYS5yZXZfdHJlZSkscD1udWxsLHY9MDt2PGgubGVuZ3RoO3YrKyl7dmFyIHk9aFt2XSxnPXkuaWRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9KSkuaW5kZXhPZihkKTsoZz09PWwtMXx8IXAmJi0xIT09ZykmJihwPXkpfWlmKCFwKXJldHVybihyPW5ldyBFcnJvcigiaW52YWxpZCByZXYgdHJlZSIpKS5kb2NJZD1lLG4ocik7dmFyIF89cC5pZHMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0pKS5pbmRleE9mKHMuX3Jldi5zcGxpdCgiLSIpWzFdKSsxLG09cC5pZHMubGVuZ3RoLV87aWYocC5pZHMuc3BsaWNlKF8sbSkscC5pZHMucmV2ZXJzZSgpLHQucmV2cyYmKHMuX3JldmlzaW9ucz17c3RhcnQ6cC5wb3MrcC5pZHMubGVuZ3RoLTEsaWRzOnAuaWRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9KSl9KSx0LnJldnNfaW5mbyl7dmFyIGI9cC5wb3MrcC5pZHMubGVuZ3RoO3MuX3JldnNfaW5mbz1wLmlkcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybntyZXY6LS1iKyItIitlLmlkLHN0YXR1czplLm9wdHMuc3RhdHVzfX0pKX19aWYodC5hdHRhY2htZW50cyYmcy5fYXR0YWNobWVudHMpe3ZhciB3PXMuX2F0dGFjaG1lbnRzLGs9T2JqZWN0LmtleXModykubGVuZ3RoO2lmKDA9PT1rKXJldHVybiBuKG51bGwscyk7T2JqZWN0LmtleXModykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dGhpcy5fZ2V0QXR0YWNobWVudChzLl9pZCxlLHdbZV0se3JldjpzLl9yZXYsYmluYXJ5OnQuYmluYXJ5LGN0eDp1fSwoZnVuY3Rpb24odCxyKXt2YXIgbz1zLl9hdHRhY2htZW50c1tlXTtvLmRhdGE9cixkZWxldGUgby5zdHViLGRlbGV0ZSBvLmxlbmd0aCwtLWt8fG4obnVsbCxzKX0pKX0pLG8pfWVsc2V7aWYocy5fYXR0YWNobWVudHMpZm9yKHZhciBqIGluIHMuX2F0dGFjaG1lbnRzKXMuX2F0dGFjaG1lbnRzLmhhc093blByb3BlcnR5KGopJiYocy5fYXR0YWNobWVudHNbal0uc3R1Yj0hMCk7bihudWxsLHMpfX0pKTtpZigiYWxsIj09PXQub3Blbl9yZXZzKXRoaXMuX2dldFJldmlzaW9uVHJlZShlLChmdW5jdGlvbihlLHQpe2lmKGUpcmV0dXJuIG4oZSk7cj1DZSh0KS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJldn0pKSxpKCl9KSk7ZWxzZXtpZighQXJyYXkuaXNBcnJheSh0Lm9wZW5fcmV2cykpcmV0dXJuIG4oSChGLCJmdW5jdGlvbl9jbGF1c2UiKSk7cj10Lm9wZW5fcmV2cztmb3IodmFyIHM9MDtzPHIubGVuZ3RoO3MrKyl7dmFyIGE9cltzXTtpZigic3RyaW5nIiE9dHlwZW9mIGF8fCEvXlxkKy0vLnRlc3QoYSkpcmV0dXJuIG4oSChXKSl9aSgpfX0pKSxRZS5wcm90b3R5cGUuZ2V0QXR0YWNobWVudD1qKCJnZXRBdHRhY2htZW50IiwoZnVuY3Rpb24oZSx0LG4scil7dmFyIG89dGhpcztuIGluc3RhbmNlb2YgRnVuY3Rpb24mJihyPW4sbj17fSksdGhpcy5fZ2V0KGUsbiwoZnVuY3Rpb24oaSxzKXtyZXR1cm4gaT9yKGkpOnMuZG9jLl9hdHRhY2htZW50cyYmcy5kb2MuX2F0dGFjaG1lbnRzW3RdPyhuLmN0eD1zLmN0eCxuLmJpbmFyeT0hMCx2b2lkIG8uX2dldEF0dGFjaG1lbnQoZSx0LHMuZG9jLl9hdHRhY2htZW50c1t0XSxuLHIpKTpyKEgoVCkpfSkpfSkpLFFlLnByb3RvdHlwZS5hbGxEb2NzPWooImFsbERvY3MiLChmdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlJiYodD1lLGU9e30pLGUuc2tpcD12b2lkIDAhPT1lLnNraXA/ZS5za2lwOjAsZS5zdGFydF9rZXkmJihlLnN0YXJ0a2V5PWUuc3RhcnRfa2V5KSxlLmVuZF9rZXkmJihlLmVuZGtleT1lLmVuZF9rZXkpLCJrZXlzImluIGUpe2lmKCFBcnJheS5pc0FycmF5KGUua2V5cykpcmV0dXJuIHQobmV3IFR5cGVFcnJvcigib3B0aW9ucy5rZXlzIG11c3QgYmUgYW4gYXJyYXkiKSk7dmFyIG49WyJzdGFydGtleSIsImVuZGtleSIsImtleSJdLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQgaW4gZX0pKVswXTtpZihuKXJldHVybiB2b2lkIHQoSChKLCJRdWVyeSBwYXJhbWV0ZXIgYCIrbisiYCBpcyBub3QgY29tcGF0aWJsZSB3aXRoIG11bHRpLWdldCIpKTtpZighbmUodGhpcykmJihmdW5jdGlvbihlKXt2YXIgdD0ibGltaXQiaW4gZT9lLmtleXMuc2xpY2UoZS5za2lwLGUubGltaXQrZS5za2lwKTplLnNraXA+MD9lLmtleXMuc2xpY2UoZS5za2lwKTplLmtleXM7ZS5rZXlzPXQsZS5za2lwPTAsZGVsZXRlIGUubGltaXQsZS5kZXNjZW5kaW5nJiYodC5yZXZlcnNlKCksZS5kZXNjZW5kaW5nPSExKX0oZSksMD09PWUua2V5cy5sZW5ndGgpKXJldHVybiB0aGlzLl9hbGxEb2NzKHtsaW1pdDowfSx0KX1yZXR1cm4gdGhpcy5fYWxsRG9jcyhlLHQpfSkpLFFlLnByb3RvdHlwZS5jaGFuZ2VzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGUmJih0PWUsZT17fSksKGU9ZXx8e30pLnJldHVybl9kb2NzPSJyZXR1cm5fZG9jcyJpbiBlP2UucmV0dXJuX2RvY3M6IWUubGl2ZSxuZXcgS2UodGhpcyxlLHQpfSxRZS5wcm90b3R5cGUuY2xvc2U9aigiY2xvc2UiLChmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fY2xvc2VkPSEwLHRoaXMuZW1pdCgiY2xvc2VkIiksdGhpcy5fY2xvc2UoZSl9KSksUWUucHJvdG90eXBlLmluZm89aigiaW5mbyIsKGZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5faW5mbygoZnVuY3Rpb24obixyKXtpZihuKXJldHVybiBlKG4pO3IuZGJfbmFtZT1yLmRiX25hbWV8fHQubmFtZSxyLmF1dG9fY29tcGFjdGlvbj0hKCF0LmF1dG9fY29tcGFjdGlvbnx8bmUodCkpLHIuYWRhcHRlcj10LmFkYXB0ZXIsZShudWxsLHIpfSkpfSkpLFFlLnByb3RvdHlwZS5pZD1qKCJpZCIsKGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pZChlKX0pKSxRZS5wcm90b3R5cGUudHlwZT1mdW5jdGlvbigpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLl90eXBlP3RoaXMuX3R5cGUoKTp0aGlzLmFkYXB0ZXJ9LFFlLnByb3RvdHlwZS5idWxrRG9jcz1qKCJidWxrRG9jcyIsKGZ1bmN0aW9uKGUsdCxuKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgdCYmKG49dCx0PXt9KSx0PXR8fHt9LEFycmF5LmlzQXJyYXkoZSkmJihlPXtkb2NzOmV9KSwhZXx8IWUuZG9jc3x8IUFycmF5LmlzQXJyYXkoZS5kb2NzKSlyZXR1cm4gbihIKEIpKTtmb3IodmFyIHI9MDtyPGUuZG9jcy5sZW5ndGg7KytyKWlmKCJvYmplY3QiIT10eXBlb2YgZS5kb2NzW3JdfHxBcnJheS5pc0FycmF5KGUuZG9jc1tyXSkpcmV0dXJuIG4oSChHKSk7dmFyIG87aWYoZS5kb2NzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuX2F0dGFjaG1lbnRzJiZPYmplY3Qua2V5cyhlLl9hdHRhY2htZW50cykuZm9yRWFjaCgoZnVuY3Rpb24odCl7bz1vfHxmdW5jdGlvbihlKXtyZXR1cm4iXyI9PT1lLmNoYXJBdCgwKSYmZSsiIGlzIG5vdCBhIHZhbGlkIGF0dGFjaG1lbnQgbmFtZSwgYXR0YWNobWVudCBuYW1lcyBjYW5ub3Qgc3RhcnQgd2l0aCAnXycifSh0KSxlLl9hdHRhY2htZW50c1t0XS5jb250ZW50X3R5cGV8fFAoIndhcm4iLCJBdHRhY2htZW50Iix0LCJvbiBkb2N1bWVudCIsZS5faWQsImlzIG1pc3NpbmcgY29udGVudF90eXBlIil9KSl9KSksbylyZXR1cm4gbihIKFYsbykpOyJuZXdfZWRpdHMiaW4gdHx8KHQubmV3X2VkaXRzPSEoIm5ld19lZGl0cyJpbiBlKXx8ZS5uZXdfZWRpdHMpO3ZhciBpPXRoaXM7dC5uZXdfZWRpdHN8fG5lKGkpfHxlLmRvY3Muc29ydChHZSksZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBuPWVbdF07aWYobi5fZGVsZXRlZClkZWxldGUgbi5fYXR0YWNobWVudHM7ZWxzZSBpZihuLl9hdHRhY2htZW50cylmb3IodmFyIHI9T2JqZWN0LmtleXMobi5fYXR0YWNobWVudHMpLG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIGk9cltvXTtuLl9hdHRhY2htZW50c1tpXT1xKG4uX2F0dGFjaG1lbnRzW2ldLFsiZGF0YSIsImRpZ2VzdCIsImNvbnRlbnRfdHlwZSIsImxlbmd0aCIsInJldnBvcyIsInN0dWIiXSl9fX0oZS5kb2NzKTt2YXIgcz1lLmRvY3MubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5faWR9KSk7cmV0dXJuIHRoaXMuX2J1bGtEb2NzKGUsdCwoZnVuY3Rpb24oZSxyKXtpZihlKXJldHVybiBuKGUpO2lmKHQubmV3X2VkaXRzfHwocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXJyb3J9KSkpLCFuZShpKSlmb3IodmFyIG89MCxhPXIubGVuZ3RoO288YTtvKyspcltvXS5pZD1yW29dLmlkfHxzW29dO24obnVsbCxyKX0pKX0pKSxRZS5wcm90b3R5cGUucmVnaXN0ZXJEZXBlbmRlbnREYXRhYmFzZT1qKCJyZWdpc3RlckRlcGVuZGVudERhdGFiYXNlIiwoZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgdGhpcy5jb25zdHJ1Y3RvcihlLHRoaXMuX19vcHRzKTtmZSh0aGlzLCJfbG9jYWwvX3BvdWNoX2RlcGVuZGVudERicyIsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmRlcGVuZGVudERicz10LmRlcGVuZGVudERic3x8e30sIXQuZGVwZW5kZW50RGJzW2VdJiYodC5kZXBlbmRlbnREYnNbZV09ITAsdCl9KSkudGhlbigoZnVuY3Rpb24oKXt0KG51bGwse2RiOm59KX0pKS5jYXRjaCh0KX0pKSxRZS5wcm90b3R5cGUuZGVzdHJveT1qKCJkZXN0cm95IiwoZnVuY3Rpb24oZSx0KXsiZnVuY3Rpb24iPT10eXBlb2YgZSYmKHQ9ZSxlPXt9KTt2YXIgbj10aGlzLHI9ISgidXNlX3ByZWZpeCJpbiBuKXx8bi51c2VfcHJlZml4O2Z1bmN0aW9uIG8oKXtuLl9kZXN0cm95KGUsKGZ1bmN0aW9uKGUscil7aWYoZSlyZXR1cm4gdChlKTtuLl9kZXN0cm95ZWQ9ITAsbi5lbWl0KCJkZXN0cm95ZWQiKSx0KG51bGwscnx8e29rOiEwfSl9KSl9aWYobmUobikpcmV0dXJuIG8oKTtuLmdldCgiX2xvY2FsL19wb3VjaF9kZXBlbmRlbnREYnMiLChmdW5jdGlvbihlLGkpe2lmKGUpcmV0dXJuIDQwNCE9PWUuc3RhdHVzP3QoZSk6bygpO3ZhciBzPWkuZGVwZW5kZW50RGJzLGE9bi5jb25zdHJ1Y3Rvcix1PU9iamVjdC5rZXlzKHMpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9cj9lLnJlcGxhY2UobmV3IFJlZ0V4cCgiXiIrYS5wcmVmaXgpLCIiKTplO3JldHVybiBuZXcgYSh0LG4uX19vcHRzKS5kZXN0cm95KCl9KSk7UHJvbWlzZS5hbGwodSkudGhlbihvLHQpfSkpfSkpLFdlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKCl7dmFyIGU7aWYodGhpcy5mYWlsZWQpZm9yKDtlPXRoaXMucXVldWUuc2hpZnQoKTspZSh0aGlzLmZhaWxlZCk7ZWxzZSBmb3IoO2U9dGhpcy5xdWV1ZS5zaGlmdCgpOyllKCl9LFdlLnByb3RvdHlwZS5mYWlsPWZ1bmN0aW9uKGUpe3RoaXMuZmFpbGVkPWUsdGhpcy5leGVjdXRlKCl9LFdlLnByb3RvdHlwZS5yZWFkeT1mdW5jdGlvbihlKXt0aGlzLmlzUmVhZHk9ITAsdGhpcy5kYj1lLHRoaXMuZXhlY3V0ZSgpfSxXZS5wcm90b3R5cGUuYWRkVGFzaz1mdW5jdGlvbihlKXt0aGlzLnF1ZXVlLnB1c2goZSksdGhpcy5mYWlsZWQmJnRoaXMuZXhlY3V0ZSgpfSxsKFllLFFlKTt2YXIgSGU9InVuZGVmaW5lZCIhPXR5cGVvZiBBYm9ydENvbnRyb2xsZXI/QWJvcnRDb250cm9sbGVyOmZ1bmN0aW9uKCl7cmV0dXJue2Fib3J0OmZ1bmN0aW9uKCl7fX19LFhlPWZldGNoLFplPUhlYWRlcnM7WWUuYWRhcHRlcnM9e30sWWUucHJlZmVycmVkQWRhcHRlcnM9W10sWWUucHJlZml4PSJfcG91Y2hfIjt2YXIgZXQ9bmV3IGQ7IWZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGQucHJvdG90eXBlKS5mb3JFYWNoKChmdW5jdGlvbih0KXsiZnVuY3Rpb24iPT10eXBlb2YgZC5wcm90b3R5cGVbdF0mJihlW3RdPWV0W3RdLmJpbmQoZXQpKX0pKTt2YXIgdD1lLl9kZXN0cnVjdGlvbkxpc3RlbmVycz1uZXcgaTtlLm9uKCJyZWYiLChmdW5jdGlvbihlKXt0LmhhcyhlLm5hbWUpfHx0LnNldChlLm5hbWUsW10pLHQuZ2V0KGUubmFtZSkucHVzaChlKX0pKSxlLm9uKCJ1bnJlZiIsKGZ1bmN0aW9uKGUpe2lmKHQuaGFzKGUubmFtZSkpe3ZhciBuPXQuZ2V0KGUubmFtZSkscj1uLmluZGV4T2YoZSk7cjwwfHwobi5zcGxpY2UociwxKSxuLmxlbmd0aD4xP3Quc2V0KGUubmFtZSxuKTp0LmRlbGV0ZShlLm5hbWUpKX19KSksZS5vbigiZGVzdHJveWVkIiwoZnVuY3Rpb24oZSl7aWYodC5oYXMoZSkpe3ZhciBuPXQuZ2V0KGUpO3QuZGVsZXRlKGUpLG4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5lbWl0KCJkZXN0cm95ZWQiLCEwKX0pKX19KSl9KFllKSxZZS5hZGFwdGVyPWZ1bmN0aW9uKGUsdCxuKXt0LnZhbGlkKCkmJihZZS5hZGFwdGVyc1tlXT10LG4mJlllLnByZWZlcnJlZEFkYXB0ZXJzLnB1c2goZSkpfSxZZS5wbHVnaW49ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUpZShZZSk7ZWxzZXtpZigib2JqZWN0IiE9dHlwZW9mIGV8fDA9PT1PYmplY3Qua2V5cyhlKS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHBsdWdpbjogZ290ICInK2UrJyIsIGV4cGVjdGVkIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uJyk7T2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7WWUucHJvdG90eXBlW3RdPWVbdF19KSl9cmV0dXJuIHRoaXMuX19kZWZhdWx0cyYmKFllLl9fZGVmYXVsdHM9JCh7fSx0aGlzLl9fZGVmYXVsdHMpKSxZZX0sWWUuZGVmYXVsdHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLG4pe2lmKCEodGhpcyBpbnN0YW5jZW9mIHQpKXJldHVybiBuZXcgdChlLG4pO249bnx8e30sZSYmIm9iamVjdCI9PXR5cGVvZiBlJiYoZT0obj1lKS5uYW1lLGRlbGV0ZSBuLm5hbWUpLG49JCh7fSx0Ll9fZGVmYXVsdHMsbiksWWUuY2FsbCh0aGlzLGUsbil9cmV0dXJuIGwodCxZZSksdC5wcmVmZXJyZWRBZGFwdGVycz1ZZS5wcmVmZXJyZWRBZGFwdGVycy5zbGljZSgpLE9iamVjdC5rZXlzKFllKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlIGluIHR8fCh0W2VdPVllW2VdKX0pKSx0Ll9fZGVmYXVsdHM9JCh7fSx0aGlzLl9fZGVmYXVsdHMsZSksdH0sWWUuZmV0Y2g9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gWGUoZSx0KX07ZnVuY3Rpb24gdHQoZSx0KXtmb3IodmFyIG49ZSxyPTAsbz10Lmxlbmd0aDtyPG87cisrKXtpZighKG49blt0W3JdXSkpYnJlYWt9cmV0dXJuIG59ZnVuY3Rpb24gbnQoZSl7Zm9yKHZhciB0PVtdLG49IiIscj0wLG89ZS5sZW5ndGg7cjxvO3IrKyl7dmFyIGk9ZVtyXTsiLiI9PT1pP3I+MCYmIlxcIj09PWVbci0xXT9uPW4uc3Vic3RyaW5nKDAsbi5sZW5ndGgtMSkrIi4iOih0LnB1c2gobiksbj0iIik6bis9aX1yZXR1cm4gdC5wdXNoKG4pLHR9dmFyIHJ0PVsiJG9yIiwiJG5vciIsIiRub3QiXTtmdW5jdGlvbiBvdChlKXtyZXR1cm4gcnQuaW5kZXhPZihlKT4tMX1mdW5jdGlvbiBpdChlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSlbMF19ZnVuY3Rpb24gc3QoZSl7dmFyIHQ9e307cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIHI9ZVtuXTtpZigib2JqZWN0IiE9dHlwZW9mIHImJihyPXskZXE6cn0pLG90KG4pKXRbbl09ciBpbnN0YW5jZW9mIEFycmF5P3IubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gc3QoW2VdKX0pKTpzdChbcl0pO2Vsc2V7dmFyIG89dFtuXT10W25dfHx7fTtPYmplY3Qua2V5cyhyKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1yW2VdO3JldHVybiIkZ3QiPT09ZXx8IiRndGUiPT09ZT9mdW5jdGlvbihlLHQsbil7aWYodm9pZCAwIT09bi4kZXEpcmV0dXJuO3ZvaWQgMCE9PW4uJGd0ZT8iJGd0ZSI9PT1lP3Q+bi4kZ3RlJiYobi4kZ3RlPXQpOnQ+PW4uJGd0ZSYmKGRlbGV0ZSBuLiRndGUsbi4kZ3Q9dCk6dm9pZCAwIT09bi4kZ3Q/IiRndGUiPT09ZT90Pm4uJGd0JiYoZGVsZXRlIG4uJGd0LG4uJGd0ZT10KTp0Pm4uJGd0JiYobi4kZ3Q9dCk6bltlXT10fShlLHQsbyk6IiRsdCI9PT1lfHwiJGx0ZSI9PT1lP2Z1bmN0aW9uKGUsdCxuKXtpZih2b2lkIDAhPT1uLiRlcSlyZXR1cm47dm9pZCAwIT09bi4kbHRlPyIkbHRlIj09PWU/dDxuLiRsdGUmJihuLiRsdGU9dCk6dDw9bi4kbHRlJiYoZGVsZXRlIG4uJGx0ZSxuLiRsdD10KTp2b2lkIDAhPT1uLiRsdD8iJGx0ZSI9PT1lP3Q8bi4kbHQmJihkZWxldGUgbi4kbHQsbi4kbHRlPXQpOnQ8bi4kbHQmJihuLiRsdD10KTpuW2VdPXR9KGUsdCxvKToiJG5lIj09PWU/ZnVuY3Rpb24oZSx0KXsiJG5lImluIHQ/dC4kbmUucHVzaChlKTp0LiRuZT1bZV19KHQsbyk6IiRlcSI9PT1lP2Z1bmN0aW9uKGUsdCl7ZGVsZXRlIHQuJGd0LGRlbGV0ZSB0LiRndGUsZGVsZXRlIHQuJGx0LGRlbGV0ZSB0LiRsdGUsZGVsZXRlIHQuJG5lLHQuJGVxPWV9KHQsbyk6dm9pZChvW2VdPXQpfSkpfX0pKX0pKSx0fWZ1bmN0aW9uIGF0KGUpe3ZhciB0PWIoZSksbj0hMTsoZnVuY3Rpb24gZSh0LG4pe2Zvcih2YXIgciBpbiB0KXsiJGFuZCI9PT1yJiYobj0hMCk7dmFyIG89dFtyXTsib2JqZWN0Ij09dHlwZW9mIG8mJihuPWUobyxuKSl9cmV0dXJuIG59KSh0LCExKSYmKCIkYW5kImluKHQ9ZnVuY3Rpb24gZSh0KXtmb3IodmFyIG4gaW4gdCl7aWYoQXJyYXkuaXNBcnJheSh0KSlmb3IodmFyIHIgaW4gdCl0W3JdLiRhbmQmJih0W3JdPXN0KHRbcl0uJGFuZCkpO3ZhciBvPXRbbl07Im9iamVjdCI9PXR5cGVvZiBvJiZlKG8pfXJldHVybiB0fSh0KSkmJih0PXN0KHQuJGFuZCkpLG49ITApLFsiJG9yIiwiJG5vciJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UgaW4gdCYmdFtlXS5mb3JFYWNoKChmdW5jdGlvbihlKXtmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dLG89ZVtyXTsib2JqZWN0Ij09dHlwZW9mIG8mJm51bGwhPT1vfHwoZVtyXT17JGVxOm99KX19KSl9KSksIiRub3QiaW4gdCYmKHQuJG5vdD1zdChbdC4kbm90XSkpO2Zvcih2YXIgcj1PYmplY3Qua2V5cyh0KSxvPTA7bzxyLmxlbmd0aDtvKyspe3ZhciBpPXJbb10scz10W2ldOyJvYmplY3QiIT10eXBlb2Ygc3x8bnVsbD09PXM/cz17JGVxOnN9OiIkbmUiaW4gcyYmIW4mJihzLiRuZT1bcy4kbmVdKSx0W2ldPXN9cmV0dXJuIHR9ZnVuY3Rpb24gdXQoZSx0KXtpZihlPT09dClyZXR1cm4gMDtlPWN0KGUpLHQ9Y3QodCk7dmFyIG49cHQoZSkscj1wdCh0KTtpZihuLXIhPTApcmV0dXJuIG4tcjtzd2l0Y2godHlwZW9mIGUpe2Nhc2UibnVtYmVyIjpyZXR1cm4gZS10O2Nhc2UiYm9vbGVhbiI6cmV0dXJuIGU8dD8tMToxO2Nhc2Uic3RyaW5nIjpyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQ/MDplPnQ/MTotMX0oZSx0KX1yZXR1cm4gQXJyYXkuaXNBcnJheShlKT9mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1NYXRoLm1pbihlLmxlbmd0aCx0Lmxlbmd0aCkscj0wO3I8bjtyKyspe3ZhciBvPXV0KGVbcl0sdFtyXSk7aWYoMCE9PW8pcmV0dXJuIG99cmV0dXJuIGUubGVuZ3RoPT09dC5sZW5ndGg/MDplLmxlbmd0aD50Lmxlbmd0aD8xOi0xfShlLHQpOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPU9iamVjdC5rZXlzKGUpLHI9T2JqZWN0LmtleXModCksbz1NYXRoLm1pbihuLmxlbmd0aCxyLmxlbmd0aCksaT0wO2k8bztpKyspe3ZhciBzPXV0KG5baV0scltpXSk7aWYoMCE9PXMpcmV0dXJuIHM7aWYoMCE9PShzPXV0KGVbbltpXV0sdFtyW2ldXSkpKXJldHVybiBzfXJldHVybiBuLmxlbmd0aD09PXIubGVuZ3RoPzA6bi5sZW5ndGg+ci5sZW5ndGg/MTotMX0oZSx0KX1mdW5jdGlvbiBjdChlKXtzd2l0Y2godHlwZW9mIGUpe2Nhc2UidW5kZWZpbmVkIjpyZXR1cm4gbnVsbDtjYXNlIm51bWJlciI6cmV0dXJuIGU9PT0xLzB8fGU9PT0tMS8wfHxpc05hTihlKT9udWxsOmU7Y2FzZSJvYmplY3QiOnZhciB0PWU7aWYoQXJyYXkuaXNBcnJheShlKSl7dmFyIG49ZS5sZW5ndGg7ZT1uZXcgQXJyYXkobik7Zm9yKHZhciByPTA7cjxuO3IrKyllW3JdPWN0KHRbcl0pfWVsc2V7aWYoZSBpbnN0YW5jZW9mIERhdGUpcmV0dXJuIGUudG9KU09OKCk7aWYobnVsbCE9PWUpZm9yKHZhciBvIGluIGU9e30sdClpZih0Lmhhc093blByb3BlcnR5KG8pKXt2YXIgaT10W29dO3ZvaWQgMCE9PWkmJihlW29dPWN0KGkpKX19fXJldHVybiBlfWZ1bmN0aW9uIGZ0KGUpe2lmKG51bGwhPT1lKXN3aXRjaCh0eXBlb2YgZSl7Y2FzZSJib29sZWFuIjpyZXR1cm4gZT8xOjA7Y2FzZSJudW1iZXIiOnJldHVybiBmdW5jdGlvbihlKXtpZigwPT09ZSlyZXR1cm4iMSI7dmFyIHQ9ZS50b0V4cG9uZW50aWFsKCkuc3BsaXQoL2VcKz8vKSxuPXBhcnNlSW50KHRbMV0sMTApLHI9ZTwwLG89cj8iMCI6IjIiLGk9KHM9KChyPy1uOm4pLSAtMzI0KS50b1N0cmluZygpLGE9IjAiLHU9MyxmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPSIiLG89bi1lLmxlbmd0aDtyLmxlbmd0aDxvOylyKz10O3JldHVybiByfShzLGEsdSkrcyk7dmFyIHMsYSx1O28rPSIiK2k7dmFyIGM9TWF0aC5hYnMocGFyc2VGbG9hdCh0WzBdKSk7ciYmKGM9MTAtYyk7dmFyIGY9Yy50b0ZpeGVkKDIwKTtyZXR1cm4gZj1mLnJlcGxhY2UoL1wuPzArJC8sIiIpLG8rPSIiK2Z9KGUpO2Nhc2Uic3RyaW5nIjpyZXR1cm4gZS5yZXBsYWNlKC9cdTAwMDIvZywiAgIiKS5yZXBsYWNlKC9cdTAwMDEvZywiAQIiKS5yZXBsYWNlKC9cdTAwMDAvZywiAQEiKTtjYXNlIm9iamVjdCI6dmFyIHQ9QXJyYXkuaXNBcnJheShlKSxuPXQ/ZTpPYmplY3Qua2V5cyhlKSxyPS0xLG89bi5sZW5ndGgsaT0iIjtpZih0KWZvcig7KytyPG87KWkrPWx0KG5bcl0pO2Vsc2UgZm9yKDsrK3I8bzspe3ZhciBzPW5bcl07aSs9bHQocykrbHQoZVtzXSl9cmV0dXJuIGl9cmV0dXJuIiJ9ZnVuY3Rpb24gbHQoZSl7cmV0dXJuIHB0KGU9Y3QoZSkpKyIiK2Z0KGUpKyJcMCJ9ZnVuY3Rpb24gZHQoZSx0KXt2YXIgbixyPXQ7aWYoIjEiPT09ZVt0XSluPTAsdCsrO2Vsc2V7dmFyIG89IjAiPT09ZVt0XTt0Kys7dmFyIGk9IiIscz1lLnN1YnN0cmluZyh0LHQrMyksYT1wYXJzZUludChzLDEwKSstMzI0O2ZvcihvJiYoYT0tYSksdCs9Mzs7KXt2YXIgdT1lW3RdO2lmKCJcMCI9PT11KWJyZWFrO2krPXUsdCsrfW49MT09PShpPWkuc3BsaXQoIi4iKSkubGVuZ3RoP3BhcnNlSW50KGksMTApOnBhcnNlRmxvYXQoaVswXSsiLiIraVsxXSksbyYmKG4tPTEwKSwwIT09YSYmKG49cGFyc2VGbG9hdChuKyJlIithKSl9cmV0dXJue251bTpuLGxlbmd0aDp0LXJ9fWZ1bmN0aW9uIGh0KGUsdCl7dmFyIG49ZS5wb3AoKTtpZih0Lmxlbmd0aCl7dmFyIHI9dFt0Lmxlbmd0aC0xXTtuPT09ci5lbGVtZW50JiYodC5wb3AoKSxyPXRbdC5sZW5ndGgtMV0pO3ZhciBvPXIuZWxlbWVudCxpPXIuaW5kZXg7aWYoQXJyYXkuaXNBcnJheShvKSlvLnB1c2gobik7ZWxzZSBpZihpPT09ZS5sZW5ndGgtMil7b1tlLnBvcCgpXT1ufWVsc2UgZS5wdXNoKG4pfX1mdW5jdGlvbiBwdChlKXt2YXIgdD1bImJvb2xlYW4iLCJudW1iZXIiLCJzdHJpbmciLCJvYmplY3QiXS5pbmRleE9mKHR5cGVvZiBlKTtyZXR1cm5+dD9udWxsPT09ZT8xOkFycmF5LmlzQXJyYXkoZSk/NTp0PDM/dCsyOnQrMzpBcnJheS5pc0FycmF5KGUpPzU6dm9pZCAwfWZ1bmN0aW9uIHZ0KGUsdCxuKXtpZihlPWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4geXQoZS5kb2MsdC5zZWxlY3RvcixuKX0pKSx0LnNvcnQpe3ZhciByPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXt2YXIgbj1udChpdChlKSk7cmV0dXJuIHR0KHQsbil9KSl9cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIHIsbyxpPXV0KHQoZS5kb2MpLHQobi5kb2MpKTtyZXR1cm4gMCE9PWk/aToocj1lLmRvYy5faWQsbz1uLmRvYy5faWQscjxvPy0xOnI+bz8xOjApfX0odC5zb3J0KTtlPWUuc29ydChyKSwic3RyaW5nIiE9dHlwZW9mIHQuc29ydFswXSYmImRlc2MiPT09KG89dC5zb3J0WzBdKVtpdChvKV0mJihlPWUucmV2ZXJzZSgpKX12YXIgbztpZigibGltaXQiaW4gdHx8InNraXAiaW4gdCl7dmFyIGk9dC5za2lwfHwwLHM9KCJsaW1pdCJpbiB0P3QubGltaXQ6ZS5sZW5ndGgpK2k7ZT1lLnNsaWNlKGkscyl9cmV0dXJuIGV9ZnVuY3Rpb24geXQoZSx0LG4pe3JldHVybiBuLmV2ZXJ5KChmdW5jdGlvbihuKXt2YXIgcj10W25dLG89bnQobiksaT10dChlLG8pO3JldHVybiBvdChuKT9mdW5jdGlvbihlLHQsbil7aWYoIiRvciI9PT1lKXJldHVybiB0LnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiB5dChuLGUsT2JqZWN0LmtleXMoZSkpfSkpO2lmKCIkbm90Ij09PWUpcmV0dXJuIXl0KG4sdCxPYmplY3Qua2V5cyh0KSk7cmV0dXJuIXQuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIHl0KG4sZSxPYmplY3Qua2V5cyhlKSl9KSl9KG4scixlKTpndChyLGUsbyxpKX0pKX1mdW5jdGlvbiBndChlLHQsbixyKXtyZXR1cm4hZXx8KCJvYmplY3QiPT10eXBlb2YgZT9PYmplY3Qua2V5cyhlKS5ldmVyeSgoZnVuY3Rpb24obyl7dmFyIGk9ZVtvXTtyZXR1cm4gZnVuY3Rpb24oZSx0LG4scixvKXtpZighd3RbZV0pdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIG9wZXJhdG9yICInK2UrJyIgLSBzaG91bGQgYmUgb25lIG9mICRlcSwgJGx0ZSwgJGx0LCAkZ3QsICRndGUsICRleGlzdHMsICRuZSwgJGluLCAkbmluLCAkc2l6ZSwgJG1vZCwgJHJlZ2V4LCAkZWxlbU1hdGNoLCAkdHlwZSwgJGFsbE1hdGNoIG9yICRhbGwnKTtyZXR1cm4gd3RbZV0odCxuLHIsbyl9KG8sdCxpLG4scil9KSk6ZT09PXIpfWZ1bmN0aW9uIF90KGUpe3JldHVybiBudWxsIT1lfWZ1bmN0aW9uIG10KGUpe3JldHVybiB2b2lkIDAhPT1lfWZ1bmN0aW9uIGJ0KGUsdCl7cmV0dXJuIHQuc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIGUgaW5zdGFuY2VvZiBBcnJheT9lLmluZGV4T2YodCk+LTE6ZT09PXR9KSl9dmFyIHd0PXskZWxlbU1hdGNoOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiEhQXJyYXkuaXNBcnJheShyKSYmKDAhPT1yLmxlbmd0aCYmKCJvYmplY3QiPT10eXBlb2YgclswXT9yLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiB5dChlLHQsT2JqZWN0LmtleXModCkpfSkpOnIuc29tZSgoZnVuY3Rpb24ocil7cmV0dXJuIGd0KHQsZSxuLHIpfSkpKSl9LCRhbGxNYXRjaDpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4hIUFycmF5LmlzQXJyYXkocikmJigwIT09ci5sZW5ndGgmJigib2JqZWN0Ij09dHlwZW9mIHJbMF0/ci5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIHl0KGUsdCxPYmplY3Qua2V5cyh0KSl9KSk6ci5ldmVyeSgoZnVuY3Rpb24ocil7cmV0dXJuIGd0KHQsZSxuLHIpfSkpKSl9LCRlcTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gbXQocikmJjA9PT11dChyLHQpfSwkZ3RlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBtdChyKSYmdXQocix0KT49MH0sJGd0OmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBtdChyKSYmdXQocix0KT4wfSwkbHRlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBtdChyKSYmdXQocix0KTw9MH0sJGx0OmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBtdChyKSYmdXQocix0KTwwfSwkZXhpc3RzOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0P210KHIpOiFtdChyKX0sJG1vZDpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gX3QocikmJmZ1bmN0aW9uKGUsdCl7dmFyIG49dFswXSxyPXRbMV07aWYoMD09PW4pdGhyb3cgbmV3IEVycm9yKCJCYWQgZGl2aXNvciwgY2Fubm90IGRpdmlkZSBieSB6ZXJvIik7aWYocGFyc2VJbnQobiwxMCkhPT1uKXRocm93IG5ldyBFcnJvcigiRGl2aXNvciBpcyBub3QgYW4gaW50ZWdlciIpO2lmKHBhcnNlSW50KHIsMTApIT09cil0aHJvdyBuZXcgRXJyb3IoIk1vZHVsdXMgaXMgbm90IGFuIGludGVnZXIiKTtyZXR1cm4gcGFyc2VJbnQoZSwxMCk9PT1lJiZlJW49PT1yfShyLHQpfSwkbmU6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHQuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiAwIT09dXQocixlKX0pKX0sJGluOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBfdChyKSYmYnQocix0KX0sJG5pbjpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gX3QocikmJiFidChyLHQpfSwkc2l6ZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gX3QocikmJmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubGVuZ3RoPT09dH0ocix0KX0sJGFsbDpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gQXJyYXkuaXNBcnJheShyKSYmZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5ldmVyeSgoZnVuY3Rpb24odCl7cmV0dXJuIGUuaW5kZXhPZih0KT4tMX0pKX0ocix0KX0sJHJlZ2V4OmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBfdChyKSYmZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IFJlZ0V4cCh0KS50ZXN0KGUpfShyLHQpfSwkdHlwZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtzd2l0Y2godCl7Y2FzZSJudWxsIjpyZXR1cm4gbnVsbD09PWU7Y2FzZSJib29sZWFuIjpyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBlO2Nhc2UibnVtYmVyIjpyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGU7Y2FzZSJzdHJpbmciOnJldHVybiJzdHJpbmciPT10eXBlb2YgZTtjYXNlImFycmF5IjpyZXR1cm4gZSBpbnN0YW5jZW9mIEFycmF5O2Nhc2Uib2JqZWN0IjpyZXR1cm4iW29iamVjdCBPYmplY3RdIj09PXt9LnRvU3RyaW5nLmNhbGwoZSl9dGhyb3cgbmV3IEVycm9yKHQrIiBub3Qgc3VwcG9ydGVkIGFzIGEgdHlwZS5QbGVhc2UgdXNlIG9uZSBvZiBvYmplY3QsIHN0cmluZywgYXJyYXksIG51bWJlciwgYm9vbGVhbiBvciBudWxsLiIpfShyLHQpfX07ZnVuY3Rpb24ga3QoZSx0KXtpZihlLnNlbGVjdG9yJiZlLmZpbHRlciYmIl9zZWxlY3RvciIhPT1lLmZpbHRlcil7dmFyIG49InN0cmluZyI9PXR5cGVvZiBlLmZpbHRlcj9lLmZpbHRlcjoiZnVuY3Rpb24iO3JldHVybiB0KG5ldyBFcnJvcignc2VsZWN0b3IgaW52YWxpZCBmb3IgZmlsdGVyICInK24rJyInKSl9dCgpfWZ1bmN0aW9uIGp0KGUpe2UudmlldyYmIWUuZmlsdGVyJiYoZS5maWx0ZXI9Il92aWV3IiksZS5zZWxlY3RvciYmIWUuZmlsdGVyJiYoZS5maWx0ZXI9Il9zZWxlY3RvciIpLGUuZmlsdGVyJiYic3RyaW5nIj09dHlwZW9mIGUuZmlsdGVyJiYoIl92aWV3Ij09PWUuZmlsdGVyP2Uudmlldz1vZShlLnZpZXcpOmUuZmlsdGVyPW9lKGUuZmlsdGVyKSl9ZnVuY3Rpb24gcXQoZSx0KXtyZXR1cm4gdC5maWx0ZXImJiJzdHJpbmciPT10eXBlb2YgdC5maWx0ZXImJiF0LmRvY19pZHMmJiFuZShlLmRiKX1mdW5jdGlvbiBPdChlLHQpe3ZhciBuPXQuY29tcGxldGU7aWYoIl92aWV3Ij09PXQuZmlsdGVyKXtpZighdC52aWV3fHwic3RyaW5nIiE9dHlwZW9mIHQudmlldyl7dmFyIHI9SChWLCJgdmlld2AgZmlsdGVyIHBhcmFtZXRlciBub3QgZm91bmQgb3IgaW52YWxpZC4iKTtyZXR1cm4gbihyKX12YXIgbz1yZSh0LnZpZXcpO2UuZGIuZ2V0KCJfZGVzaWduLyIrb1swXSwoZnVuY3Rpb24ocixpKXtpZihlLmlzQ2FuY2VsbGVkKXJldHVybiBuKG51bGwse3N0YXR1czoiY2FuY2VsbGVkIn0pO2lmKHIpcmV0dXJuIG4oWChyKSk7dmFyIHM9aSYmaS52aWV3cyYmaS52aWV3c1tvWzFdXSYmaS52aWV3c1tvWzFdXS5tYXA7aWYoIXMpcmV0dXJuIG4oSChULGkudmlld3M/Im1pc3NpbmcganNvbiBrZXk6ICIrb1sxXToibWlzc2luZyBqc29uIGtleTogdmlld3MiKSk7dC5maWx0ZXI9Y2UoWyJyZXR1cm4gZnVuY3Rpb24oZG9jKSB7IiwnICAidXNlIHN0cmljdCI7JywiICB2YXIgZW1pdHRlZCA9IGZhbHNlOyIsIiAgdmFyIGVtaXQgPSBmdW5jdGlvbiAoYSwgYikgeyIsIiAgICBlbWl0dGVkID0gdHJ1ZTsiLCIgIH07IiwiICB2YXIgdmlldyA9ICIrcysiOyIsIiAgdmlldyhkb2MpOyIsIiAgaWYgKGVtaXR0ZWQpIHsiLCIgICAgcmV0dXJuIHRydWU7IiwiICB9IiwifTsiXS5qb2luKCJcbiIpLHt9KSxlLmRvQ2hhbmdlcyh0KX0pKX1lbHNlIGlmKHQuc2VsZWN0b3IpdC5maWx0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcigiU2VsZWN0b3IgZXJyb3I6IGV4cGVjdGVkIGEgSlNPTiBvYmplY3QiKTt2YXIgbj12dChbe2RvYzplfV0se3NlbGVjdG9yOnQ9YXQodCl9LE9iamVjdC5rZXlzKHQpKTtyZXR1cm4gbiYmMT09PW4ubGVuZ3RofShlLHQuc2VsZWN0b3IpfSxlLmRvQ2hhbmdlcyh0KTtlbHNle3ZhciBpPXJlKHQuZmlsdGVyKTtlLmRiLmdldCgiX2Rlc2lnbi8iK2lbMF0sKGZ1bmN0aW9uKHIsbyl7aWYoZS5pc0NhbmNlbGxlZClyZXR1cm4gbihudWxsLHtzdGF0dXM6ImNhbmNlbGxlZCJ9KTtpZihyKXJldHVybiBuKFgocikpO3ZhciBzPW8mJm8uZmlsdGVycyYmby5maWx0ZXJzW2lbMV1dO2lmKCFzKXJldHVybiBuKEgoVCxvJiZvLmZpbHRlcnM/Im1pc3NpbmcganNvbiBrZXk6ICIraVsxXToibWlzc2luZyBqc29uIGtleTogZmlsdGVycyIpKTt0LmZpbHRlcj1jZSgnInVzZSBzdHJpY3QiO1xucmV0dXJuICcrcysiOyIse30pLGUuZG9DaGFuZ2VzKHQpfSkpfX1mdW5jdGlvbiBBdChlKXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdF09ITAsZX0pLHt9KX1ZZS5wbHVnaW4oKGZ1bmN0aW9uKGUpe2UuX2NoYW5nZXNGaWx0ZXJQbHVnaW49e3ZhbGlkYXRlOmt0LG5vcm1hbGl6ZTpqdCxzaG91bGRGaWx0ZXI6cXQsZmlsdGVyOk90fX0pKSxZZS52ZXJzaW9uPSI3LjIuMiI7dmFyIFN0PUF0KFsiX2lkIiwiX3JldiIsIl9hdHRhY2htZW50cyIsIl9kZWxldGVkIiwiX3JldmlzaW9ucyIsIl9yZXZzX2luZm8iLCJfY29uZmxpY3RzIiwiX2RlbGV0ZWRfY29uZmxpY3RzIiwiX2xvY2FsX3NlcSIsIl9yZXZfdHJlZSIsIl9yZXBsaWNhdGlvbl9pZCIsIl9yZXBsaWNhdGlvbl9zdGF0ZSIsIl9yZXBsaWNhdGlvbl9zdGF0ZV90aW1lIiwiX3JlcGxpY2F0aW9uX3N0YXRlX3JlYXNvbiIsIl9yZXBsaWNhdGlvbl9zdGF0cyIsIl9yZW1vdmVkIl0pLHh0PUF0KFsiX2F0dGFjaG1lbnRzIiwiX3JlcGxpY2F0aW9uX2lkIiwiX3JlcGxpY2F0aW9uX3N0YXRlIiwiX3JlcGxpY2F0aW9uX3N0YXRlX3RpbWUiLCJfcmVwbGljYXRpb25fc3RhdGVfcmVhc29uIiwiX3JlcGxpY2F0aW9uX3N0YXRzIl0pO2Z1bmN0aW9uIEV0KGUpe2lmKCEvXlxkKy0vLnRlc3QoZSkpcmV0dXJuIEgoVyk7dmFyIHQ9ZS5pbmRleE9mKCItIiksbj1lLnN1YnN0cmluZygwLHQpLHI9ZS5zdWJzdHJpbmcodCsxKTtyZXR1cm57cHJlZml4OnBhcnNlSW50KG4sMTApLGlkOnJ9fWZ1bmN0aW9uIEN0KGUsdCxuKXt2YXIgcixvLGk7bnx8KG49e2RldGVybWluaXN0aWNfcmV2czohMH0pO3ZhciBzPXtzdGF0dXM6ImF2YWlsYWJsZSJ9O2lmKGUuX2RlbGV0ZWQmJihzLmRlbGV0ZWQ9ITApLHQpaWYoZS5faWR8fChlLl9pZD1BZSgpKSxvPU9lKGUsbi5kZXRlcm1pbmlzdGljX3JldnMpLGUuX3Jldil7aWYoKGk9RXQoZS5fcmV2KSkuZXJyb3IpcmV0dXJuIGk7ZS5fcmV2X3RyZWU9W3twb3M6aS5wcmVmaXgsaWRzOltpLmlkLHtzdGF0dXM6Im1pc3NpbmcifSxbW28scyxbXV1dXX1dLHI9aS5wcmVmaXgrMX1lbHNlIGUuX3Jldl90cmVlPVt7cG9zOjEsaWRzOltvLHMsW11dfV0scj0xO2Vsc2UgaWYoZS5fcmV2aXNpb25zJiYoZS5fcmV2X3RyZWU9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ZS5zdGFydC1lLmlkcy5sZW5ndGgrMSxyPWUuaWRzLG89W3JbMF0sdCxbXV0saT0xLHM9ci5sZW5ndGg7aTxzO2krKylvPVtyW2ldLHtzdGF0dXM6Im1pc3NpbmcifSxbb11dO3JldHVyblt7cG9zOm4saWRzOm99XX0oZS5fcmV2aXNpb25zLHMpLHI9ZS5fcmV2aXNpb25zLnN0YXJ0LG89ZS5fcmV2aXNpb25zLmlkc1swXSksIWUuX3Jldl90cmVlKXtpZigoaT1FdChlLl9yZXYpKS5lcnJvcilyZXR1cm4gaTtyPWkucHJlZml4LG89aS5pZCxlLl9yZXZfdHJlZT1be3BvczpyLGlkczpbbyxzLFtdXX1dfXRlKGUuX2lkKSxlLl9yZXY9cisiLSIrbzt2YXIgYT17bWV0YWRhdGE6e30sZGF0YTp7fX07Zm9yKHZhciB1IGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdSkpe3ZhciBjPSJfIj09PXVbMF07aWYoYyYmIVN0W3VdKXt2YXIgZj1IKHosdSk7dGhyb3cgZi5tZXNzYWdlPXoubWVzc2FnZSsiOiAiK3UsZn1jJiYheHRbdV0/YS5tZXRhZGF0YVt1LnNsaWNlKDEpXT1lW3VdOmEuZGF0YVt1XT1lW3VdfXJldHVybiBhfWZ1bmN0aW9uIFB0KGUsdCxuKXt2YXIgcj1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIGxlKGUpfWNhdGNoKGUpe3JldHVybntlcnJvcjpIKEssIkF0dGFjaG1lbnQgaXMgbm90IGEgdmFsaWQgYmFzZTY0IHN0cmluZyIpfX19KGUuZGF0YSk7aWYoci5lcnJvcilyZXR1cm4gbihyLmVycm9yKTtlLmxlbmd0aD1yLmxlbmd0aCxlLmRhdGE9ImJsb2IiPT09dD92ZShyLGUuY29udGVudF90eXBlKToiYmFzZTY0Ij09PXQ/ZGUocik6cixqZShyLChmdW5jdGlvbih0KXtlLmRpZ2VzdD0ibWQ1LSIrdCxuKCl9KSl9ZnVuY3Rpb24gTHQoZSx0LG4pe2lmKGUuc3R1YilyZXR1cm4gbigpOyJzdHJpbmciPT10eXBlb2YgZS5kYXRhP1B0KGUsdCxuKTpmdW5jdGlvbihlLHQsbil7amUoZS5kYXRhLChmdW5jdGlvbihyKXtlLmRpZ2VzdD0ibWQ1LSIrcixlLmxlbmd0aD1lLmRhdGEuc2l6ZXx8ZS5kYXRhLmxlbmd0aHx8MCwiYmluYXJ5Ij09PXQ/X2UoZS5kYXRhLChmdW5jdGlvbih0KXtlLmRhdGE9dCxuKCl9KSk6ImJhc2U2NCI9PT10P21lKGUuZGF0YSwoZnVuY3Rpb24odCl7ZS5kYXRhPXQsbigpfSkpOm4oKX0pKX0oZSx0LG4pfWZ1bmN0aW9uIER0KGUsdCxuLHIsbyxpLHMsYSl7aWYoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scj1lLnNsaWNlKCksbz10LnNwbGl0KCItIiksaT1wYXJzZUludChvWzBdLDEwKSxzPW9bMV07bj1yLnBvcCgpOyl7aWYobi5wb3M9PT1pJiZuLmlkc1swXT09PXMpcmV0dXJuITA7Zm9yKHZhciBhPW4uaWRzWzJdLHU9MCxjPWEubGVuZ3RoO3U8Yzt1Kyspci5wdXNoKHtwb3M6bi5wb3MrMSxpZHM6YVt1XX0pfXJldHVybiExfSh0LnJldl90cmVlLG4ubWV0YWRhdGEucmV2KSYmIWEpcmV0dXJuIHJbb109bixpKCk7dmFyIHU9dC53aW5uaW5nUmV2fHxTZSh0KSxjPSJkZWxldGVkImluIHQ/dC5kZWxldGVkOlVlKHQsdSksZj0iZGVsZXRlZCJpbiBuLm1ldGFkYXRhP24ubWV0YWRhdGEuZGVsZXRlZDpVZShuLm1ldGFkYXRhKSxsPS9eMS0vLnRlc3Qobi5tZXRhZGF0YS5yZXYpO2lmKGMmJiFmJiZhJiZsKXt2YXIgZD1uLmRhdGE7ZC5fcmV2PXUsZC5faWQ9bi5tZXRhZGF0YS5pZCxuPUN0KGQsYSl9dmFyIGg9TWUodC5yZXZfdHJlZSxuLm1ldGFkYXRhLnJldl90cmVlWzBdLGUpO2lmKGEmJihjJiZmJiYibmV3X2xlYWYiIT09aC5jb25mbGljdHN8fCFjJiYibmV3X2xlYWYiIT09aC5jb25mbGljdHN8fGMmJiFmJiYibmV3X2JyYW5jaCI9PT1oLmNvbmZsaWN0cykpe3ZhciBwPUgoUik7cmV0dXJuIHJbb109cCxpKCl9dmFyIHY9bi5tZXRhZGF0YS5yZXY7bi5tZXRhZGF0YS5yZXZfdHJlZT1oLnRyZWUsbi5zdGVtbWVkUmV2cz1oLnN0ZW1tZWRSZXZzfHxbXSx0LnJldl9tYXAmJihuLm1ldGFkYXRhLnJldl9tYXA9dC5yZXZfbWFwKTt2YXIgeT1TZShuLm1ldGFkYXRhKSxnPVVlKG4ubWV0YWRhdGEseSksXz1jPT09Zz8wOmM8Zz8tMToxO3Mobix5LGcsdj09PXk/ZzpVZShuLm1ldGFkYXRhLHYpLCEwLF8sbyxpKX1mdW5jdGlvbiAkdChlLHQsbixyLG8scyxhLHUsYyl7ZT1lfHwxZTM7dmFyIGY9dS5uZXdfZWRpdHMsbD1uZXcgaSxkPTAsaD10Lmxlbmd0aDtmdW5jdGlvbiBwKCl7KytkPT09aCYmYyYmYygpfXQuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtpZihlLl9pZCYmRmUoZS5faWQpKXt2YXIgcj1lLl9kZWxldGVkPyJfcmVtb3ZlTG9jYWwiOiJfcHV0TG9jYWwiO25bcl0oZSx7Y3R4Om99LChmdW5jdGlvbihlLG4pe3NbdF09ZXx8bixwKCl9KSl9ZWxzZXt2YXIgaT1lLm1ldGFkYXRhLmlkO2wuaGFzKGkpPyhoLS0sbC5nZXQoaSkucHVzaChbZSx0XSkpOmwuc2V0KGksW1tlLHRdXSl9fSkpLGwuZm9yRWFjaCgoZnVuY3Rpb24odCxuKXt2YXIgbz0wO2Z1bmN0aW9uIGkoKXsrK288dC5sZW5ndGg/YygpOnAoKX1mdW5jdGlvbiBjKCl7dmFyIGM9dFtvXSxsPWNbMF0sZD1jWzFdO2lmKHIuaGFzKG4pKUR0KGUsci5nZXQobiksbCxzLGQsaSxhLGYpO2Vsc2V7dmFyIGg9TWUoW10sbC5tZXRhZGF0YS5yZXZfdHJlZVswXSxlKTtsLm1ldGFkYXRhLnJldl90cmVlPWgudHJlZSxsLnN0ZW1tZWRSZXZzPWguc3RlbW1lZFJldnN8fFtdLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1TZShlLm1ldGFkYXRhKSxvPVVlKGUubWV0YWRhdGEscik7aWYoIndhc19kZWxldGUiaW4gdSYmbylyZXR1cm4gc1t0XT1IKFQsImRlbGV0ZWQiKSxuKCk7aWYoZiYmZnVuY3Rpb24oZSl7cmV0dXJuIm1pc3NpbmciPT09ZS5tZXRhZGF0YS5yZXZfdHJlZVswXS5pZHNbMV0uc3RhdHVzfShlKSl7dmFyIGk9SChSKTtyZXR1cm4gc1t0XT1pLG4oKX1hKGUscixvLG8sITEsbz8wOjEsdCxuKX0obCxkLGkpfX1jKCl9KSl9dmFyIEl0PSJkb2N1bWVudC1zdG9yZSIsQnQ9Im1ldGEtc3RvcmUiO2Z1bmN0aW9uIFR0KGUpe3RyeXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSl9Y2F0Y2godCl7cmV0dXJuIGMuc3RyaW5naWZ5KGUpfX1mdW5jdGlvbiBSdChlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49InVua25vd25fZXJyb3IiO3QudGFyZ2V0JiZ0LnRhcmdldC5lcnJvciYmKG49dC50YXJnZXQuZXJyb3IubmFtZXx8dC50YXJnZXQuZXJyb3IubWVzc2FnZSksZShIKFEsbix0LnR5cGUpKX19ZnVuY3Rpb24gTXQoZSx0LG4pe3JldHVybntkYXRhOlR0KGUpLHdpbm5pbmdSZXY6dCxkZWxldGVkT3JMb2NhbDpuPyIxIjoiMCIsc2VxOmUuc2VxLGlkOmUuaWR9fWZ1bmN0aW9uIE50KGUpe2lmKCFlKXJldHVybiBudWxsO3ZhciB0PWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZShlKX1jYXRjaCh0KXtyZXR1cm4gYy5wYXJzZShlKX19KGUuZGF0YSk7cmV0dXJuIHQud2lubmluZ1Jldj1lLndpbm5pbmdSZXYsdC5kZWxldGVkPSIxIj09PWUuZGVsZXRlZE9yTG9jYWwsdC5zZXE9ZS5zZXEsdH1mdW5jdGlvbiBVdChlKXtpZighZSlyZXR1cm4gZTt2YXIgdD1lLl9kb2NfaWRfcmV2Lmxhc3RJbmRleE9mKCI6Iik7cmV0dXJuIGUuX2lkPWUuX2RvY19pZF9yZXYuc3Vic3RyaW5nKDAsdC0xKSxlLl9yZXY9ZS5fZG9jX2lkX3Jldi5zdWJzdHJpbmcodCsxKSxkZWxldGUgZS5fZG9jX2lkX3JldixlfWZ1bmN0aW9uIEZ0KGUsdCxuLHIpe24/cihlPyJzdHJpbmciIT10eXBlb2YgZT9lOnllKGUsdCk6aGUoWyIiXSx7dHlwZTp0fSkpOmU/InN0cmluZyIhPXR5cGVvZiBlP2dlKGUsKGZ1bmN0aW9uKGUpe3IoZGUoZSkpfSkpOnIoZSk6cigiIil9ZnVuY3Rpb24gS3QoZSx0LG4scil7dmFyIG89T2JqZWN0LmtleXMoZS5fYXR0YWNobWVudHN8fHt9KTtpZighby5sZW5ndGgpcmV0dXJuIHImJnIoKTt2YXIgaT0wO2Z1bmN0aW9uIHMoKXsrK2k9PT1vLmxlbmd0aCYmciYmcigpfW8uZm9yRWFjaCgoZnVuY3Rpb24ocil7dC5hdHRhY2htZW50cyYmdC5pbmNsdWRlX2RvY3M/ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLl9hdHRhY2htZW50c1t0XSxvPXIuZGlnZXN0O24ub2JqZWN0U3RvcmUoImF0dGFjaC1zdG9yZSIpLmdldChvKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7ci5ib2R5PWUudGFyZ2V0LnJlc3VsdC5ib2R5LHMoKX19KGUscik6KGUuX2F0dGFjaG1lbnRzW3JdLnN0dWI9ITAscygpKX0pKX1mdW5jdGlvbiBKdChlLHQpe3JldHVybiBQcm9taXNlLmFsbChlLm1hcCgoZnVuY3Rpb24oZSl7aWYoZS5kb2MmJmUuZG9jLl9hdHRhY2htZW50cyl7dmFyIG49T2JqZWN0LmtleXMoZS5kb2MuX2F0dGFjaG1lbnRzKTtyZXR1cm4gUHJvbWlzZS5hbGwobi5tYXAoKGZ1bmN0aW9uKG4pe3ZhciByPWUuZG9jLl9hdHRhY2htZW50c1tuXTtpZigiYm9keSJpbiByKXt2YXIgbz1yLmJvZHksaT1yLmNvbnRlbnRfdHlwZTtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHMpe0Z0KG8saSx0LChmdW5jdGlvbih0KXtlLmRvYy5fYXR0YWNobWVudHNbbl09JChxKHIsWyJkaWdlc3QiLCJjb250ZW50X3R5cGUiXSkse2RhdGE6dH0pLHMoKX0pKX0pKX19KSkpfX0pKSl9ZnVuY3Rpb24genQoZSx0LG4pe3ZhciByPVtdLG89bi5vYmplY3RTdG9yZSgiYnktc2VxdWVuY2UiKSxpPW4ub2JqZWN0U3RvcmUoImF0dGFjaC1zdG9yZSIpLHM9bi5vYmplY3RTdG9yZSgiYXR0YWNoLXNlcS1zdG9yZSIpLGE9ZS5sZW5ndGg7ZnVuY3Rpb24gdSgpey0tYXx8ZnVuY3Rpb24oKXtpZighci5sZW5ndGgpcmV0dXJuO3IuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cy5pbmRleCgiZGlnZXN0U2VxIikuY291bnQoSURCS2V5UmFuZ2UuYm91bmQoZSsiOjoiLGUrIjo677+/IiwhMSwhMSkpLm9uc3VjY2Vzcz1mdW5jdGlvbih0KXt0LnRhcmdldC5yZXN1bHR8fGkuZGVsZXRlKGUpfX0pKX0oKX1lLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPW8uaW5kZXgoIl9kb2NfaWRfcmV2IiksaT10KyI6OiIrZTtuLmdldEtleShpKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQucmVzdWx0O2lmKCJudW1iZXIiIT10eXBlb2YgdClyZXR1cm4gdSgpO28uZGVsZXRlKHQpLHMuaW5kZXgoInNlcSIpLm9wZW5DdXJzb3IoSURCS2V5UmFuZ2Uub25seSh0KSkub25zdWNjZXNzPWZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0LnJlc3VsdDtpZih0KXt2YXIgbj10LnZhbHVlLmRpZ2VzdFNlcS5zcGxpdCgiOjoiKVswXTtyLnB1c2gobikscy5kZWxldGUodC5wcmltYXJ5S2V5KSx0LmNvbnRpbnVlKCl9ZWxzZSB1KCl9fX0pKX1mdW5jdGlvbiBWdChlLHQsbil7dHJ5e3JldHVybnt0eG46ZS50cmFuc2FjdGlvbih0LG4pfX1jYXRjaChlKXtyZXR1cm57ZXJyb3I6ZX19fXZhciBHdD1uZXcgQztmdW5jdGlvbiBRdChlLHQsbixyLG8scyl7Zm9yKHZhciBhLHUsYyxmLGwsZCxoLHAsdj10LmRvY3MseT0wLGc9di5sZW5ndGg7eTxnO3krKyl7dmFyIF89dlt5XTtfLl9pZCYmRmUoXy5faWQpfHwoXz12W3ldPUN0KF8sbi5uZXdfZWRpdHMsZSkpLmVycm9yJiYhaCYmKGg9Xyl9aWYoaClyZXR1cm4gcyhoKTt2YXIgbT0hMSxiPTAsdz1uZXcgQXJyYXkodi5sZW5ndGgpLGs9bmV3IGksaj0hMSxxPXIuX21ldGEuYmxvYlN1cHBvcnQ/ImJsb2IiOiJiYXNlNjQiO2Z1bmN0aW9uIE8oKXttPSEwLEEoKX1mdW5jdGlvbiBBKCl7cCYmbSYmKHAuZG9jQ291bnQrPWIsZC5wdXQocCkpfWZ1bmN0aW9uIFMoKXtqfHwoR3Qubm90aWZ5KHIuX21ldGEubmFtZSkscyhudWxsLHcpKX1mdW5jdGlvbiB4KGUsdCxuLHIsbyxpLHMsYSl7ZS5tZXRhZGF0YS53aW5uaW5nUmV2PXQsZS5tZXRhZGF0YS5kZWxldGVkPW47dmFyIHU9ZS5kYXRhO2lmKHUuX2lkPWUubWV0YWRhdGEuaWQsdS5fcmV2PWUubWV0YWRhdGEucmV2LHImJih1Ll9kZWxldGVkPSEwKSx1Ll9hdHRhY2htZW50cyYmT2JqZWN0LmtleXModS5fYXR0YWNobWVudHMpLmxlbmd0aClyZXR1cm4gZnVuY3Rpb24oZSx0LG4scixvLGkpe3ZhciBzPWUuZGF0YSxhPTAsdT1PYmplY3Qua2V5cyhzLl9hdHRhY2htZW50cyk7ZnVuY3Rpb24gYygpe2E9PT11Lmxlbmd0aCYmRShlLHQsbixyLG8saSl9ZnVuY3Rpb24gbCgpe2ErKyxjKCl9dS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgcj1lLmRhdGEuX2F0dGFjaG1lbnRzW25dO2lmKHIuc3R1YilhKyssYygpO2Vsc2V7dmFyIG89ci5kYXRhO2RlbGV0ZSByLmRhdGEsci5yZXZwb3M9cGFyc2VJbnQodCwxMCksZnVuY3Rpb24oZSx0LG4pe2YuY291bnQoZSkub25zdWNjZXNzPWZ1bmN0aW9uKHIpe2lmKHIudGFyZ2V0LnJlc3VsdClyZXR1cm4gbigpO3ZhciBvPXtkaWdlc3Q6ZSxib2R5OnR9O2YucHV0KG8pLm9uc3VjY2Vzcz1ufX0oci5kaWdlc3QsbyxsKX19KSl9KGUsdCxuLG8scyxhKTtiKz1pLEEoKSxFKGUsdCxuLG8scyxhKX1mdW5jdGlvbiBFKGUsdCxuLG8saSxzKXt2YXIgZj1lLmRhdGEsZD1lLm1ldGFkYXRhO2Z1bmN0aW9uIGgoaSl7dmFyIHM9ZS5zdGVtbWVkUmV2c3x8W107byYmci5hdXRvX2NvbXBhY3Rpb24mJihzPXMuY29uY2F0KGZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiB4ZShlLnJldl90cmVlLChmdW5jdGlvbihlLG4scixvLGkpeyJhdmFpbGFibGUiIT09aS5zdGF0dXN8fGV8fCh0LnB1c2gobisiLSIrciksaS5zdGF0dXM9Im1pc3NpbmciKX0pKSx0fShlLm1ldGFkYXRhKSkpLHMmJnMubGVuZ3RoJiZ6dChzLGUubWV0YWRhdGEuaWQsYSksZC5zZXE9aS50YXJnZXQucmVzdWx0O3ZhciBjPU10KGQsdCxuKTt1LnB1dChjKS5vbnN1Y2Nlc3M9cH1mdW5jdGlvbiBwKCl7d1tpXT17b2s6ITAsaWQ6ZC5pZCxyZXY6ZC5yZXZ9LGsuc2V0KGUubWV0YWRhdGEuaWQsZS5tZXRhZGF0YSksZnVuY3Rpb24oZSx0LG4pe3ZhciByPTAsbz1PYmplY3Qua2V5cyhlLmRhdGEuX2F0dGFjaG1lbnRzfHx7fSk7aWYoIW8ubGVuZ3RoKXJldHVybiBuKCk7ZnVuY3Rpb24gaSgpeysrcj09PW8ubGVuZ3RoJiZuKCl9ZnVuY3Rpb24gcyhuKXt2YXIgcj1lLmRhdGEuX2F0dGFjaG1lbnRzW25dLmRpZ2VzdCxvPWwucHV0KHtzZXE6dCxkaWdlc3RTZXE6cisiOjoiK3R9KTtvLm9uc3VjY2Vzcz1pLG8ub25lcnJvcj1mdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSxpKCl9fWZvcih2YXIgYT0wO2E8by5sZW5ndGg7YSsrKXMob1thXSl9KGUsZC5zZXEscyl9Zi5fZG9jX2lkX3Jldj1kLmlkKyI6OiIrZC5yZXYsZGVsZXRlIGYuX2lkLGRlbGV0ZSBmLl9yZXY7dmFyIHY9Yy5wdXQoZik7di5vbnN1Y2Nlc3M9aCx2Lm9uZXJyb3I9ZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksYy5pbmRleCgiX2RvY19pZF9yZXYiKS5nZXRLZXkoZi5fZG9jX2lkX3Jldikub25zdWNjZXNzPWZ1bmN0aW9uKGUpe2MucHV0KGYsZS50YXJnZXQucmVzdWx0KS5vbnN1Y2Nlc3M9aH19fSFmdW5jdGlvbihlLHQsbil7aWYoIWUubGVuZ3RoKXJldHVybiBuKCk7dmFyIHIsbz0wO2Z1bmN0aW9uIGkoKXtvKyssZS5sZW5ndGg9PT1vJiYocj9uKHIpOm4oKSl9ZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1lLmRhdGEmJmUuZGF0YS5fYXR0YWNobWVudHM/T2JqZWN0LmtleXMoZS5kYXRhLl9hdHRhY2htZW50cyk6W10sbz0wO2lmKCFuLmxlbmd0aClyZXR1cm4gaSgpO2Z1bmN0aW9uIHMoZSl7cj1lLCsrbz09PW4ubGVuZ3RoJiZpKCl9Zm9yKHZhciBhIGluIGUuZGF0YS5fYXR0YWNobWVudHMpZS5kYXRhLl9hdHRhY2htZW50cy5oYXNPd25Qcm9wZXJ0eShhKSYmTHQoZS5kYXRhLl9hdHRhY2htZW50c1thXSx0LHMpfSkpfSh2LHEsKGZ1bmN0aW9uKHQpe2lmKHQpcmV0dXJuIHModCk7IWZ1bmN0aW9uKCl7dmFyIHQ9VnQobyxbSXQsImJ5LXNlcXVlbmNlIiwiYXR0YWNoLXN0b3JlIiwibG9jYWwtc3RvcmUiLCJhdHRhY2gtc2VxLXN0b3JlIixCdF0sInJlYWR3cml0ZSIpO2lmKHQuZXJyb3IpcmV0dXJuIHModC5lcnJvcik7KGE9dC50eG4pLm9uYWJvcnQ9UnQocyksYS5vbnRpbWVvdXQ9UnQocyksYS5vbmNvbXBsZXRlPVMsdT1hLm9iamVjdFN0b3JlKEl0KSxjPWEub2JqZWN0U3RvcmUoImJ5LXNlcXVlbmNlIiksZj1hLm9iamVjdFN0b3JlKCJhdHRhY2gtc3RvcmUiKSxsPWEub2JqZWN0U3RvcmUoImF0dGFjaC1zZXEtc3RvcmUiKSwoZD1hLm9iamVjdFN0b3JlKEJ0KSkuZ2V0KEJ0KS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7cD1lLnRhcmdldC5yZXN1bHQsQSgpfSxmdW5jdGlvbihlKXt2YXIgdD1bXTtpZih2LmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuZGF0YSYmZS5kYXRhLl9hdHRhY2htZW50cyYmT2JqZWN0LmtleXMoZS5kYXRhLl9hdHRhY2htZW50cykuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIHI9ZS5kYXRhLl9hdHRhY2htZW50c1tuXTtyLnN0dWImJnQucHVzaChyLmRpZ2VzdCl9KSl9KSksIXQubGVuZ3RoKXJldHVybiBlKCk7dmFyIG4scj0wO3QuZm9yRWFjaCgoZnVuY3Rpb24obyl7IWZ1bmN0aW9uKGUsdCl7Zi5nZXQoZSkub25zdWNjZXNzPWZ1bmN0aW9uKG4pe2lmKG4udGFyZ2V0LnJlc3VsdCl0KCk7ZWxzZXt2YXIgcj1IKFksInVua25vd24gc3R1YiBhdHRhY2htZW50IHdpdGggZGlnZXN0ICIrZSk7ci5zdGF0dXM9NDEyLHQocil9fX0obywoZnVuY3Rpb24obyl7byYmIW4mJihuPW8pLCsrcj09PXQubGVuZ3RoJiZlKG4pfSkpfSkpfSgoZnVuY3Rpb24odCl7aWYodClyZXR1cm4gaj0hMCxzKHQpOyFmdW5jdGlvbigpe2lmKCF2Lmxlbmd0aClyZXR1cm47dmFyIHQ9MDtmdW5jdGlvbiBvKCl7Kyt0PT09di5sZW5ndGgmJiR0KGUucmV2c19saW1pdCx2LHIsayxhLHcseCxuLE8pfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9TnQoZS50YXJnZXQucmVzdWx0KTt0JiZrLnNldCh0LmlkLHQpLG8oKX1mb3IodmFyIHM9MCxjPXYubGVuZ3RoO3M8YztzKyspe3ZhciBmPXZbc107aWYoZi5faWQmJkZlKGYuX2lkKSlvKCk7ZWxzZSB1LmdldChmLm1ldGFkYXRhLmlkKS5vbnN1Y2Nlc3M9aX19KCl9KSl9KCl9KSl9ZnVuY3Rpb24gV3QoZSx0LG4scixvKXt2YXIgaSxzLGE7ZnVuY3Rpb24gdShlKXtzPWUudGFyZ2V0LnJlc3VsdCxpJiZvKGkscyxhKX1mdW5jdGlvbiBjKGUpe2k9ZS50YXJnZXQucmVzdWx0LHMmJm8oaSxzLGEpfWZ1bmN0aW9uIGYoZSl7dmFyIHQ9ZS50YXJnZXQucmVzdWx0O2lmKCF0KXJldHVybiBvKCk7byhbdC5rZXldLFt0LnZhbHVlXSx0KX0tMT09PXImJihyPTFlMyksImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0QWxsJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRBbGxLZXlzJiZyPjEmJiFuPyhhPXtjb250aW51ZTpmdW5jdGlvbigpe2lmKCFpLmxlbmd0aClyZXR1cm4gbygpO3ZhciBuLGE9aVtpLmxlbmd0aC0xXTtpZih0JiZ0LnVwcGVyKXRyeXtuPUlEQktleVJhbmdlLmJvdW5kKGEsdC51cHBlciwhMCx0LnVwcGVyT3Blbil9Y2F0Y2goZSl7aWYoIkRhdGFFcnJvciI9PT1lLm5hbWUmJjA9PT1lLmNvZGUpcmV0dXJuIG8oKX1lbHNlIG49SURCS2V5UmFuZ2UubG93ZXJCb3VuZChhLCEwKTt0PW4saT1udWxsLHM9bnVsbCxlLmdldEFsbCh0LHIpLm9uc3VjY2Vzcz11LGUuZ2V0QWxsS2V5cyh0LHIpLm9uc3VjY2Vzcz1jfX0sZS5nZXRBbGwodCxyKS5vbnN1Y2Nlc3M9dSxlLmdldEFsbEtleXModCxyKS5vbnN1Y2Nlc3M9Yyk6bj9lLm9wZW5DdXJzb3IodCwicHJldiIpLm9uc3VjY2Vzcz1mOmUub3BlbkN1cnNvcih0KS5vbnN1Y2Nlc3M9Zn1mdW5jdGlvbiBZdChlLHQsbil7dmFyIHIsbyxpPSJzdGFydGtleSJpbiBlJiZlLnN0YXJ0a2V5LHM9ImVuZGtleSJpbiBlJiZlLmVuZGtleSxhPSJrZXkiaW4gZSYmZS5rZXksdT0ia2V5cyJpbiBlJiZlLmtleXMsYz1lLnNraXB8fDAsZj0ibnVtYmVyIj09dHlwZW9mIGUubGltaXQ/ZS5saW1pdDotMSxsPSExIT09ZS5pbmNsdXNpdmVfZW5kO2lmKCF1JiYobz0ocj1mdW5jdGlvbihlLHQsbixyLG8pe3RyeXtpZihlJiZ0KXJldHVybiBvP0lEQktleVJhbmdlLmJvdW5kKHQsZSwhbiwhMSk6SURCS2V5UmFuZ2UuYm91bmQoZSx0LCExLCFuKTtpZihlKXJldHVybiBvP0lEQktleVJhbmdlLnVwcGVyQm91bmQoZSk6SURCS2V5UmFuZ2UubG93ZXJCb3VuZChlKTtpZih0KXJldHVybiBvP0lEQktleVJhbmdlLmxvd2VyQm91bmQodCwhbik6SURCS2V5UmFuZ2UudXBwZXJCb3VuZCh0LCFuKTtpZihyKXJldHVybiBJREJLZXlSYW5nZS5vbmx5KHIpfWNhdGNoKGUpe3JldHVybntlcnJvcjplfX1yZXR1cm4gbnVsbH0oaSxzLGwsYSxlLmRlc2NlbmRpbmcpKSYmci5lcnJvcikmJigiRGF0YUVycm9yIiE9PW8ubmFtZXx8MCE9PW8uY29kZSkpcmV0dXJuIG4oSChRLG8ubmFtZSxvLm1lc3NhZ2UpKTt2YXIgZD1bSXQsImJ5LXNlcXVlbmNlIixCdF07ZS5hdHRhY2htZW50cyYmZC5wdXNoKCJhdHRhY2gtc3RvcmUiKTt2YXIgaD1WdCh0LGQsInJlYWRvbmx5Iik7aWYoaC5lcnJvcilyZXR1cm4gbihoLmVycm9yKTt2YXIgcD1oLnR4bjtwLm9uY29tcGxldGU9ZnVuY3Rpb24oKXtlLmF0dGFjaG1lbnRzP0p0KGssZS5iaW5hcnkpLnRoZW4oQSk6QSgpfSxwLm9uYWJvcnQ9UnQobik7dmFyIHYseSxnLF89cC5vYmplY3RTdG9yZShJdCksbT1wLm9iamVjdFN0b3JlKCJieS1zZXF1ZW5jZSIpLGI9cC5vYmplY3RTdG9yZShCdCksdz1tLmluZGV4KCJfZG9jX2lkX3JldiIpLGs9W107ZnVuY3Rpb24gaih0LG4pe3ZhciByPXtpZDpuLmlkLGtleTpuLmlkLHZhbHVlOntyZXY6dH19O24uZGVsZXRlZD91JiYoay5wdXNoKHIpLHIudmFsdWUuZGVsZXRlZD0hMCxyLmRvYz1udWxsKTpjLS08PTAmJihrLnB1c2gociksZS5pbmNsdWRlX2RvY3MmJmZ1bmN0aW9uKHQsbixyKXt2YXIgbz10LmlkKyI6OiIrcjt3LmdldChvKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24ocil7aWYobi5kb2M9VXQoci50YXJnZXQucmVzdWx0KXx8e30sZS5jb25mbGljdHMpe3ZhciBvPVBlKHQpO28ubGVuZ3RoJiYobi5kb2MuX2NvbmZsaWN0cz1vKX1LdChuLmRvYyxlLHApfX0obixyLHQpKX1mdW5jdGlvbiBxKGUpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGg7dDxuJiZrLmxlbmd0aCE9PWY7dCsrKXt2YXIgcj1lW3RdO2lmKHIuZXJyb3ImJnUpay5wdXNoKHIpO2Vsc2V7dmFyIG89TnQocik7aihvLndpbm5pbmdSZXYsbyl9fX1mdW5jdGlvbiBPKGUsdCxuKXtuJiYocSh0KSxrLmxlbmd0aDxmJiZuLmNvbnRpbnVlKCkpfWZ1bmN0aW9uIEEoKXt2YXIgdD17dG90YWxfcm93czp2LG9mZnNldDplLnNraXAscm93czprfTtlLnVwZGF0ZV9zZXEmJnZvaWQgMCE9PXkmJih0LnVwZGF0ZV9zZXE9eSksbihudWxsLHQpfXJldHVybiBiLmdldChCdCkub25zdWNjZXNzPWZ1bmN0aW9uKGUpe3Y9ZS50YXJnZXQucmVzdWx0LmRvY0NvdW50fSxlLnVwZGF0ZV9zZXEmJihnPWZ1bmN0aW9uKGUpe2UudGFyZ2V0LnJlc3VsdCYmZS50YXJnZXQucmVzdWx0Lmxlbmd0aD4wJiYoeT1lLnRhcmdldC5yZXN1bHRbMF0pfSxtLm9wZW5DdXJzb3IobnVsbCwicHJldiIpLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldC5yZXN1bHQsbj12b2lkIDA7cmV0dXJuIHQmJnQua2V5JiYobj10LmtleSksZyh7dGFyZ2V0OntyZXN1bHQ6W25dfX0pfSksb3x8MD09PWY/dm9pZCAwOnU/ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW5ldyBBcnJheShlLmxlbmd0aCksbz0wO2UuZm9yRWFjaCgoZnVuY3Rpb24oaSxzKXt0LmdldChpKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24odCl7dC50YXJnZXQucmVzdWx0P3Jbc109dC50YXJnZXQucmVzdWx0OnJbc109e2tleTppLGVycm9yOiJub3RfZm91bmQifSwrK289PT1lLmxlbmd0aCYmbihlLHIse30pfX0pKX0oZS5rZXlzLF8sTyk6LTE9PT1mP2Z1bmN0aW9uKGUsdCxuKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZS5nZXRBbGwpe3ZhciByPVtdO2Uub3BlbkN1cnNvcih0KS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQucmVzdWx0O3Q/KHIucHVzaCh0LnZhbHVlKSx0LmNvbnRpbnVlKCkpOm4oe3RhcmdldDp7cmVzdWx0OnJ9fSl9fWVsc2UgZS5nZXRBbGwodCkub25zdWNjZXNzPW59KF8sciwoZnVuY3Rpb24odCl7dmFyIG49dC50YXJnZXQucmVzdWx0O2UuZGVzY2VuZGluZyYmKG49bi5yZXZlcnNlKCkpLHEobil9KSk6dm9pZCBXdChfLHIsZS5kZXNjZW5kaW5nLGYrYyxPKX12YXIgSHQ9ITEsWHQ9W107ZnVuY3Rpb24gWnQoKXshSHQmJlh0Lmxlbmd0aCYmKEh0PSEwLFh0LnNoaWZ0KCkoKSl9ZnVuY3Rpb24gZW4oZSx0LG4scil7aWYoKGU9YihlKSkuY29udGludW91cyl7dmFyIHM9bisiOiIrQWUoKTtyZXR1cm4gR3QuYWRkTGlzdGVuZXIobixzLHQsZSksR3Qubm90aWZ5KG4pLHtjYW5jZWw6ZnVuY3Rpb24oKXtHdC5yZW1vdmVMaXN0ZW5lcihuLHMpfX19dmFyIGE9ZS5kb2NfaWRzJiZuZXcgbyhlLmRvY19pZHMpO2Uuc2luY2U9ZS5zaW5jZXx8MDt2YXIgdT1lLnNpbmNlLGM9ImxpbWl0ImluIGU/ZS5saW1pdDotMTswPT09YyYmKGM9MSk7dmFyIGYsbCxkLGgscD1bXSx2PTAseT1aKGUpLGc9bmV3IGk7ZnVuY3Rpb24gXyhlLHQsbixyKXtpZihuLnNlcSE9PXQpcmV0dXJuIHIoKTtpZihuLndpbm5pbmdSZXY9PT1lLl9yZXYpcmV0dXJuIHIobixlKTt2YXIgbz1lLl9pZCsiOjoiK24ud2lubmluZ1JldjtoLmdldChvKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7cihuLFV0KGUudGFyZ2V0LnJlc3VsdCkpfX1mdW5jdGlvbiBtKCl7ZS5jb21wbGV0ZShudWxsLHtyZXN1bHRzOnAsbGFzdF9zZXE6dX0pfXZhciB3PVtJdCwiYnktc2VxdWVuY2UiXTtlLmF0dGFjaG1lbnRzJiZ3LnB1c2goImF0dGFjaC1zdG9yZSIpO3ZhciBrPVZ0KHIsdywicmVhZG9ubHkiKTtpZihrLmVycm9yKXJldHVybiBlLmNvbXBsZXRlKGsuZXJyb3IpOyhmPWsudHhuKS5vbmFib3J0PVJ0KGUuY29tcGxldGUpLGYub25jb21wbGV0ZT1mdW5jdGlvbigpeyFlLmNvbnRpbnVvdXMmJmUuYXR0YWNobWVudHM/SnQocCkudGhlbihtKTptKCl9LGw9Zi5vYmplY3RTdG9yZSgiYnktc2VxdWVuY2UiKSxkPWYub2JqZWN0U3RvcmUoSXQpLGg9bC5pbmRleCgiX2RvY19pZF9yZXYiKSxXdChsLGUuc2luY2UmJiFlLmRlc2NlbmRpbmc/SURCS2V5UmFuZ2UubG93ZXJCb3VuZChlLnNpbmNlLCEwKTpudWxsLGUuZGVzY2VuZGluZyxjLChmdW5jdGlvbih0LG4scil7aWYociYmdC5sZW5ndGgpe3ZhciBvPW5ldyBBcnJheSh0Lmxlbmd0aCksaT1uZXcgQXJyYXkodC5sZW5ndGgpLHM9MDtuLmZvckVhY2goKGZ1bmN0aW9uKG4sdSl7IWZ1bmN0aW9uKGUsdCxuKXtpZihhJiYhYS5oYXMoZS5faWQpKXJldHVybiBuKCk7dmFyIHI9Zy5nZXQoZS5faWQpO2lmKHIpcmV0dXJuIF8oZSx0LHIsbik7ZC5nZXQoZS5faWQpLm9uc3VjY2Vzcz1mdW5jdGlvbihvKXtyPU50KG8udGFyZ2V0LnJlc3VsdCksZy5zZXQoZS5faWQsciksXyhlLHQscixuKX19KFV0KG4pLHRbdV0sKGZ1bmN0aW9uKG4sYSl7aVt1XT1uLG9bdV09YSwrK3M9PT10Lmxlbmd0aCYmZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sbj0wLHM9by5sZW5ndGg7bjxzJiZ2IT09YztuKyspe3ZhciBhPW9bbl07aWYoYSl7dmFyIHU9aVtuXTt0LnB1c2gobCh1LGEpKX19UHJvbWlzZS5hbGwodCkudGhlbigoZnVuY3Rpb24odCl7Zm9yKHZhciBuPTAscj10Lmxlbmd0aDtuPHI7bisrKXRbbl0mJmUub25DaGFuZ2UodFtuXSl9KSkuY2F0Y2goZS5jb21wbGV0ZSksdiE9PWMmJnIuY29udGludWUoKX0oKX0pKX0pKX1mdW5jdGlvbiBsKHQsbil7dmFyIHI9ZS5wcm9jZXNzQ2hhbmdlKG4sdCxlKTt1PXIuc2VxPXQuc2VxO3ZhciBvPXkocik7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBvP1Byb21pc2UucmVqZWN0KG8pOm8/KHYrKyxlLnJldHVybl9kb2NzJiZwLnB1c2gociksZS5hdHRhY2htZW50cyYmZS5pbmNsdWRlX2RvY3M/bmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe0t0KG4sZSxmLChmdW5jdGlvbigpe0p0KFtyXSxlLmJpbmFyeSkudGhlbigoZnVuY3Rpb24oKXt0KHIpfSkpfSkpfSkpOlByb21pc2UucmVzb2x2ZShyKSk6UHJvbWlzZS5yZXNvbHZlKCl9fSkpfXZhciB0bixubj1uZXcgaSxybj1uZXcgaTtmdW5jdGlvbiBvbihlLHQpe3ZhciBuPXRoaXM7IWZ1bmN0aW9uKGUsdCxuKXtYdC5wdXNoKChmdW5jdGlvbigpe2UoKGZ1bmN0aW9uKGUscil7IWZ1bmN0aW9uKGUsdCxuLHIpe3RyeXtlKHQsbil9Y2F0Y2godCl7ci5lbWl0KCJlcnJvciIsdCl9fSh0LGUscixuKSxIdD0hMSxzKChmdW5jdGlvbigpe1p0KCl9KSl9KSl9KSksWnQoKX0oKGZ1bmN0aW9uKHQpeyFmdW5jdGlvbihlLHQsbil7dmFyIHI9dC5uYW1lLG89bnVsbDtmdW5jdGlvbiBpKGUsdCl7dmFyIG49ZS5vYmplY3RTdG9yZShJdCk7bi5jcmVhdGVJbmRleCgiZGVsZXRlZE9yTG9jYWwiLCJkZWxldGVkT3JMb2NhbCIse3VuaXF1ZTohMX0pLG4ub3BlbkN1cnNvcigpLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXt2YXIgcj1lLnRhcmdldC5yZXN1bHQ7aWYocil7dmFyIG89ci52YWx1ZSxpPVVlKG8pO28uZGVsZXRlZE9yTG9jYWw9aT8iMSI6IjAiLG4ucHV0KG8pLHIuY29udGludWUoKX1lbHNlIHQoKX19ZnVuY3Rpb24gYShlLHQpe3ZhciBuPWUub2JqZWN0U3RvcmUoImxvY2FsLXN0b3JlIikscj1lLm9iamVjdFN0b3JlKEl0KSxvPWUub2JqZWN0U3RvcmUoImJ5LXNlcXVlbmNlIik7ci5vcGVuQ3Vyc29yKCkub25zdWNjZXNzPWZ1bmN0aW9uKGUpe3ZhciBpPWUudGFyZ2V0LnJlc3VsdDtpZihpKXt2YXIgcz1pLnZhbHVlLGE9cy5pZCx1PUZlKGEpLGM9U2Uocyk7aWYodSl7dmFyIGY9YSsiOjoiK2MsbD1hKyI6OiIsZD1hKyI6On4iLGg9by5pbmRleCgiX2RvY19pZF9yZXYiKSxwPUlEQktleVJhbmdlLmJvdW5kKGwsZCwhMSwhMSksdj1oLm9wZW5DdXJzb3IocCk7di5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7aWYodj1lLnRhcmdldC5yZXN1bHQpe3ZhciB0PXYudmFsdWU7dC5fZG9jX2lkX3Jldj09PWYmJm4ucHV0KHQpLG8uZGVsZXRlKHYucHJpbWFyeUtleSksdi5jb250aW51ZSgpfWVsc2Ugci5kZWxldGUoaS5wcmltYXJ5S2V5KSxpLmNvbnRpbnVlKCl9fWVsc2UgaS5jb250aW51ZSgpfWVsc2UgdCYmdCgpfX1mdW5jdGlvbiB1KGUsdCl7dmFyIG49ZS5vYmplY3RTdG9yZSgiYnktc2VxdWVuY2UiKSxyPWUub2JqZWN0U3RvcmUoImF0dGFjaC1zdG9yZSIpLG89ZS5vYmplY3RTdG9yZSgiYXR0YWNoLXNlcS1zdG9yZSIpO3IuY291bnQoKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7aWYoIWUudGFyZ2V0LnJlc3VsdClyZXR1cm4gdCgpO24ub3BlbkN1cnNvcigpLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXt2YXIgbj1lLnRhcmdldC5yZXN1bHQ7aWYoIW4pcmV0dXJuIHQoKTtmb3IodmFyIHI9bi52YWx1ZSxpPW4ucHJpbWFyeUtleSxzPU9iamVjdC5rZXlzKHIuX2F0dGFjaG1lbnRzfHx7fSksYT17fSx1PTA7dTxzLmxlbmd0aDt1Kyspe2Fbci5fYXR0YWNobWVudHNbc1t1XV0uZGlnZXN0XT0hMH12YXIgYz1PYmplY3Qua2V5cyhhKTtmb3IodT0wO3U8Yy5sZW5ndGg7dSsrKXt2YXIgZj1jW3VdO28ucHV0KHtzZXE6aSxkaWdlc3RTZXE6ZisiOjoiK2l9KX1uLmNvbnRpbnVlKCl9fX1mdW5jdGlvbiBjKGUpe3ZhciB0PWUub2JqZWN0U3RvcmUoImJ5LXNlcXVlbmNlIiksbj1lLm9iamVjdFN0b3JlKEl0KTtuLm9wZW5DdXJzb3IoKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7dmFyIHI9ZS50YXJnZXQucmVzdWx0O2lmKHIpe3ZhciBvLGk9KG89ci52YWx1ZSkuZGF0YT9OdChvKTooby5kZWxldGVkPSIxIj09PW8uZGVsZXRlZE9yTG9jYWwsbyk7aWYoaS53aW5uaW5nUmV2PWkud2lubmluZ1Jldnx8U2UoaSksaS5zZXEpcmV0dXJuIHMoKTshZnVuY3Rpb24oKXt2YXIgZT1pLmlkKyI6OiIsbj1pLmlkKyI6Ou+/vyIscj10LmluZGV4KCJfZG9jX2lkX3JldiIpLm9wZW5DdXJzb3IoSURCS2V5UmFuZ2UuYm91bmQoZSxuKSksbz0wO3Iub25zdWNjZXNzPWZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0LnJlc3VsdDtpZighdClyZXR1cm4gaS5zZXE9byxzKCk7dmFyIG49dC5wcmltYXJ5S2V5O24+byYmKG89biksdC5jb250aW51ZSgpfX0oKX1mdW5jdGlvbiBzKCl7dmFyIGU9TXQoaSxpLndpbm5pbmdSZXYsaS5kZWxldGVkKTtuLnB1dChlKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtyLmNvbnRpbnVlKCl9fX19ZS5fbWV0YT1udWxsLGUuX3JlbW90ZT0hMSxlLnR5cGU9ZnVuY3Rpb24oKXtyZXR1cm4iaWRiIn0sZS5faWQ9aygoZnVuY3Rpb24odCl7dChudWxsLGUuX21ldGEuaW5zdGFuY2VJZCl9KSksZS5fYnVsa0RvY3M9ZnVuY3Rpb24obixyLGkpe1F0KHQsbixyLGUsbyxpKX0sZS5fZ2V0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLHMsYT10LmN0eDtpZighYSl7dmFyIHU9VnQobyxbSXQsImJ5LXNlcXVlbmNlIiwiYXR0YWNoLXN0b3JlIl0sInJlYWRvbmx5Iik7aWYodS5lcnJvcilyZXR1cm4gbih1LmVycm9yKTthPXUudHhufWZ1bmN0aW9uIGMoKXtuKHMse2RvYzpyLG1ldGFkYXRhOmksY3R4OmF9KX1hLm9iamVjdFN0b3JlKEl0KS5nZXQoZSkub25zdWNjZXNzPWZ1bmN0aW9uKGUpe2lmKCEoaT1OdChlLnRhcmdldC5yZXN1bHQpKSlyZXR1cm4gcz1IKFQsIm1pc3NpbmciKSxjKCk7dmFyIG47aWYodC5yZXYpbj10LmxhdGVzdD9mdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyPXQucmV2X3RyZWUuc2xpY2UoKTtuPXIucG9wKCk7KXt2YXIgbz1uLnBvcyxpPW4uaWRzLHM9aVswXSxhPWlbMV0sdT1pWzJdLGM9MD09PXUubGVuZ3RoLGY9bi5oaXN0b3J5P24uaGlzdG9yeS5zbGljZSgpOltdO2lmKGYucHVzaCh7aWQ6cyxwb3M6byxvcHRzOmF9KSxjKWZvcih2YXIgbD0wLGQ9Zi5sZW5ndGg7bDxkO2wrKyl7dmFyIGg9ZltsXTtpZihoLnBvcysiLSIraC5pZD09PWUpcmV0dXJuIG8rIi0iK3N9Zm9yKHZhciBwPTAsdj11Lmxlbmd0aDtwPHY7cCsrKXIucHVzaCh7cG9zOm8rMSxpZHM6dVtwXSxoaXN0b3J5OmZ9KX10aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byByZXNvbHZlIGxhdGVzdCByZXZpc2lvbiBmb3IgaWQgIit0LmlkKyIsIHJldiAiK2UpfSh0LnJldixpKTp0LnJldjtlbHNlIGlmKG49aS53aW5uaW5nUmV2LFVlKGkpKXJldHVybiBzPUgoVCwiZGVsZXRlZCIpLGMoKTt2YXIgbz1hLm9iamVjdFN0b3JlKCJieS1zZXF1ZW5jZSIpLHU9aS5pZCsiOjoiK247by5pbmRleCgiX2RvY19pZF9yZXYiKS5nZXQodSkub25zdWNjZXNzPWZ1bmN0aW9uKGUpe2lmKChyPWUudGFyZ2V0LnJlc3VsdCkmJihyPVV0KHIpKSwhcilyZXR1cm4gcz1IKFQsIm1pc3NpbmciKSxjKCk7YygpfX19LGUuX2dldEF0dGFjaG1lbnQ9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgcztpZihyLmN0eClzPXIuY3R4O2Vsc2V7dmFyIGE9VnQobyxbSXQsImJ5LXNlcXVlbmNlIiwiYXR0YWNoLXN0b3JlIl0sInJlYWRvbmx5Iik7aWYoYS5lcnJvcilyZXR1cm4gaShhLmVycm9yKTtzPWEudHhufXZhciB1PW4uZGlnZXN0LGM9bi5jb250ZW50X3R5cGU7cy5vYmplY3RTdG9yZSgiYXR0YWNoLXN0b3JlIikuZ2V0KHUpLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXtGdChlLnRhcmdldC5yZXN1bHQuYm9keSxjLHIuYmluYXJ5LChmdW5jdGlvbihlKXtpKG51bGwsZSl9KSl9fSxlLl9pbmZvPWZ1bmN0aW9uKHQpe3ZhciBuLHIsaT1WdChvLFtCdCwiYnktc2VxdWVuY2UiXSwicmVhZG9ubHkiKTtpZihpLmVycm9yKXJldHVybiB0KGkuZXJyb3IpO3ZhciBzPWkudHhuO3Mub2JqZWN0U3RvcmUoQnQpLmdldChCdCkub25zdWNjZXNzPWZ1bmN0aW9uKGUpe3I9ZS50YXJnZXQucmVzdWx0LmRvY0NvdW50fSxzLm9iamVjdFN0b3JlKCJieS1zZXF1ZW5jZSIpLm9wZW5DdXJzb3IobnVsbCwicHJldiIpLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldC5yZXN1bHQ7bj10P3Qua2V5OjB9LHMub25jb21wbGV0ZT1mdW5jdGlvbigpe3QobnVsbCx7ZG9jX2NvdW50OnIsdXBkYXRlX3NlcTpuLGlkYl9hdHRhY2htZW50X2Zvcm1hdDplLl9tZXRhLmJsb2JTdXBwb3J0PyJiaW5hcnkiOiJiYXNlNjQifSl9fSxlLl9hbGxEb2NzPWZ1bmN0aW9uKGUsdCl7WXQoZSxvLHQpfSxlLl9jaGFuZ2VzPWZ1bmN0aW9uKHQpe3JldHVybiBlbih0LGUscixvKX0sZS5fY2xvc2U9ZnVuY3Rpb24oZSl7by5jbG9zZSgpLG5uLmRlbGV0ZShyKSxlKCl9LGUuX2dldFJldmlzaW9uVHJlZT1mdW5jdGlvbihlLHQpe3ZhciBuPVZ0KG8sW0l0XSwicmVhZG9ubHkiKTtpZihuLmVycm9yKXJldHVybiB0KG4uZXJyb3IpO24udHhuLm9iamVjdFN0b3JlKEl0KS5nZXQoZSkub25zdWNjZXNzPWZ1bmN0aW9uKGUpe3ZhciBuPU50KGUudGFyZ2V0LnJlc3VsdCk7bj90KG51bGwsbi5yZXZfdHJlZSk6dChIKFQpKX19LGUuX2RvQ29tcGFjdGlvbj1mdW5jdGlvbihlLHQsbil7dmFyIHI9VnQobyxbSXQsImJ5LXNlcXVlbmNlIiwiYXR0YWNoLXN0b3JlIiwiYXR0YWNoLXNlcS1zdG9yZSJdLCJyZWFkd3JpdGUiKTtpZihyLmVycm9yKXJldHVybiBuKHIuZXJyb3IpO3ZhciBpPXIudHhuO2kub2JqZWN0U3RvcmUoSXQpLmdldChlKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24obil7dmFyIHI9TnQobi50YXJnZXQucmVzdWx0KTt4ZShyLnJldl90cmVlLChmdW5jdGlvbihlLG4scixvLGkpe3ZhciBzPW4rIi0iK3I7LTEhPT10LmluZGV4T2YocykmJihpLnN0YXR1cz0ibWlzc2luZyIpfSkpLHp0KHQsZSxpKTt2YXIgbz1yLndpbm5pbmdSZXYscz1yLmRlbGV0ZWQ7aS5vYmplY3RTdG9yZShJdCkucHV0KE10KHIsbyxzKSl9LGkub25hYm9ydD1SdChuKSxpLm9uY29tcGxldGU9ZnVuY3Rpb24oKXtuKCl9fSxlLl9nZXRMb2NhbD1mdW5jdGlvbihlLHQpe3ZhciBuPVZ0KG8sWyJsb2NhbC1zdG9yZSJdLCJyZWFkb25seSIpO2lmKG4uZXJyb3IpcmV0dXJuIHQobi5lcnJvcik7dmFyIHI9bi50eG4ub2JqZWN0U3RvcmUoImxvY2FsLXN0b3JlIikuZ2V0KGUpO3Iub25lcnJvcj1SdCh0KSxyLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXt2YXIgbj1lLnRhcmdldC5yZXN1bHQ7bj8oZGVsZXRlIG4uX2RvY19pZF9yZXYsdChudWxsLG4pKTp0KEgoVCkpfX0sZS5fcHV0TG9jYWw9ZnVuY3Rpb24oZSx0LG4peyJmdW5jdGlvbiI9PXR5cGVvZiB0JiYobj10LHQ9e30pLGRlbGV0ZSBlLl9yZXZpc2lvbnM7dmFyIHI9ZS5fcmV2LGk9ZS5faWQ7ZS5fcmV2PXI/IjAtIisocGFyc2VJbnQoci5zcGxpdCgiLSIpWzFdLDEwKSsxKToiMC0xIjt2YXIgcyxhPXQuY3R4O2lmKCFhKXt2YXIgdT1WdChvLFsibG9jYWwtc3RvcmUiXSwicmVhZHdyaXRlIik7aWYodS5lcnJvcilyZXR1cm4gbih1LmVycm9yKTsoYT11LnR4bikub25lcnJvcj1SdChuKSxhLm9uY29tcGxldGU9ZnVuY3Rpb24oKXtzJiZuKG51bGwscyl9fXZhciBjLGY9YS5vYmplY3RTdG9yZSgibG9jYWwtc3RvcmUiKTtyPyhjPWYuZ2V0KGkpKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24obyl7dmFyIGk9by50YXJnZXQucmVzdWx0O2kmJmkuX3Jldj09PXI/Zi5wdXQoZSkub25zdWNjZXNzPWZ1bmN0aW9uKCl7cz17b2s6ITAsaWQ6ZS5faWQscmV2OmUuX3Jldn0sdC5jdHgmJm4obnVsbCxzKX06bihIKFIpKX06KChjPWYuYWRkKGUpKS5vbmVycm9yPWZ1bmN0aW9uKGUpe24oSChSKSksZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCl9LGMub25zdWNjZXNzPWZ1bmN0aW9uKCl7cz17b2s6ITAsaWQ6ZS5faWQscmV2OmUuX3Jldn0sdC5jdHgmJm4obnVsbCxzKX0pfSxlLl9yZW1vdmVMb2NhbD1mdW5jdGlvbihlLHQsbil7ImZ1bmN0aW9uIj09dHlwZW9mIHQmJihuPXQsdD17fSk7dmFyIHIsaT10LmN0eDtpZighaSl7dmFyIHM9VnQobyxbImxvY2FsLXN0b3JlIl0sInJlYWR3cml0ZSIpO2lmKHMuZXJyb3IpcmV0dXJuIG4ocy5lcnJvcik7KGk9cy50eG4pLm9uY29tcGxldGU9ZnVuY3Rpb24oKXtyJiZuKG51bGwscil9fXZhciBhPWUuX2lkLHU9aS5vYmplY3RTdG9yZSgibG9jYWwtc3RvcmUiKSxjPXUuZ2V0KGEpO2Mub25lcnJvcj1SdChuKSxjLm9uc3VjY2Vzcz1mdW5jdGlvbihvKXt2YXIgaT1vLnRhcmdldC5yZXN1bHQ7aSYmaS5fcmV2PT09ZS5fcmV2Pyh1LmRlbGV0ZShhKSxyPXtvazohMCxpZDphLHJldjoiMC0wIn0sdC5jdHgmJm4obnVsbCxyKSk6bihIKFQpKX19LGUuX2Rlc3Ryb3k9ZnVuY3Rpb24oZSx0KXtHdC5yZW1vdmVBbGxMaXN0ZW5lcnMocik7dmFyIG49cm4uZ2V0KHIpO24mJm4ucmVzdWx0JiYobi5yZXN1bHQuY2xvc2UoKSxubi5kZWxldGUocikpO3ZhciBvPWluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShyKTtvLm9uc3VjY2Vzcz1mdW5jdGlvbigpe3JuLmRlbGV0ZShyKSxFKCkmJnIgaW4gbG9jYWxTdG9yYWdlJiZkZWxldGUgbG9jYWxTdG9yYWdlW3JdLHQobnVsbCx7b2s6ITB9KX0sby5vbmVycm9yPVJ0KHQpfTt2YXIgZj1ubi5nZXQocik7aWYoZilyZXR1cm4gbz1mLmlkYixlLl9tZXRhPWYuZ2xvYmFsLHMoKGZ1bmN0aW9uKCl7bihudWxsLGUpfSkpO3ZhciBsPWluZGV4ZWREQi5vcGVuKHIsNSk7cm4uc2V0KHIsbCksbC5vbnVwZ3JhZGVuZWVkZWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQucmVzdWx0O2lmKGUub2xkVmVyc2lvbjwxKXJldHVybiBmdW5jdGlvbihlKXt2YXIgdD1lLmNyZWF0ZU9iamVjdFN0b3JlKEl0LHtrZXlQYXRoOiJpZCJ9KTtlLmNyZWF0ZU9iamVjdFN0b3JlKCJieS1zZXF1ZW5jZSIse2F1dG9JbmNyZW1lbnQ6ITB9KS5jcmVhdGVJbmRleCgiX2RvY19pZF9yZXYiLCJfZG9jX2lkX3JldiIse3VuaXF1ZTohMH0pLGUuY3JlYXRlT2JqZWN0U3RvcmUoImF0dGFjaC1zdG9yZSIse2tleVBhdGg6ImRpZ2VzdCJ9KSxlLmNyZWF0ZU9iamVjdFN0b3JlKEJ0LHtrZXlQYXRoOiJpZCIsYXV0b0luY3JlbWVudDohMX0pLGUuY3JlYXRlT2JqZWN0U3RvcmUoImRldGVjdC1ibG9iLXN1cHBvcnQiKSx0LmNyZWF0ZUluZGV4KCJkZWxldGVkT3JMb2NhbCIsImRlbGV0ZWRPckxvY2FsIix7dW5pcXVlOiExfSksZS5jcmVhdGVPYmplY3RTdG9yZSgibG9jYWwtc3RvcmUiLHtrZXlQYXRoOiJfaWQifSk7dmFyIG49ZS5jcmVhdGVPYmplY3RTdG9yZSgiYXR0YWNoLXNlcS1zdG9yZSIse2F1dG9JbmNyZW1lbnQ6ITB9KTtuLmNyZWF0ZUluZGV4KCJzZXEiLCJzZXEiKSxuLmNyZWF0ZUluZGV4KCJkaWdlc3RTZXEiLCJkaWdlc3RTZXEiLHt1bmlxdWU6ITB9KX0odCk7dmFyIG49ZS5jdXJyZW50VGFyZ2V0LnRyYW5zYWN0aW9uO2Uub2xkVmVyc2lvbjwzJiZmdW5jdGlvbihlKXtlLmNyZWF0ZU9iamVjdFN0b3JlKCJsb2NhbC1zdG9yZSIse2tleVBhdGg6Il9pZCJ9KS5jcmVhdGVJbmRleCgiX2RvY19pZF9yZXYiLCJfZG9jX2lkX3JldiIse3VuaXF1ZTohMH0pfSh0KSxlLm9sZFZlcnNpb248NCYmZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jcmVhdGVPYmplY3RTdG9yZSgiYXR0YWNoLXNlcS1zdG9yZSIse2F1dG9JbmNyZW1lbnQ6ITB9KTt0LmNyZWF0ZUluZGV4KCJzZXEiLCJzZXEiKSx0LmNyZWF0ZUluZGV4KCJkaWdlc3RTZXEiLCJkaWdlc3RTZXEiLHt1bmlxdWU6ITB9KX0odCk7dmFyIHI9W2ksYSx1LGNdLG89ZS5vbGRWZXJzaW9uOyFmdW5jdGlvbiBlKCl7dmFyIHQ9cltvLTFdO28rKyx0JiZ0KG4sZSl9KCl9LGwub25zdWNjZXNzPWZ1bmN0aW9uKHQpeyhvPXQudGFyZ2V0LnJlc3VsdCkub252ZXJzaW9uY2hhbmdlPWZ1bmN0aW9uKCl7by5jbG9zZSgpLG5uLmRlbGV0ZShyKX0sby5vbmFib3J0PWZ1bmN0aW9uKGUpe1AoImVycm9yIiwiRGF0YWJhc2UgaGFzIGEgZ2xvYmFsIGZhaWx1cmUiLGUudGFyZ2V0LmVycm9yKSxvLmNsb3NlKCksbm4uZGVsZXRlKHIpfTt2YXIgaSxzLGEsdSxjPW8udHJhbnNhY3Rpb24oW0J0LCJkZXRlY3QtYmxvYi1zdXBwb3J0IixJdF0sInJlYWR3cml0ZSIpLGY9ITE7ZnVuY3Rpb24gbCgpe3ZvaWQgMCE9PWEmJmYmJihlLl9tZXRhPXtuYW1lOnIsaW5zdGFuY2VJZDp1LGJsb2JTdXBwb3J0OmF9LG5uLnNldChyLHtpZGI6byxnbG9iYWw6ZS5fbWV0YX0pLG4obnVsbCxlKSl9ZnVuY3Rpb24gZCgpe2lmKHZvaWQgMCE9PXMmJnZvaWQgMCE9PWkpe3ZhciBlPXIrIl9pZCI7ZSBpbiBpP3U9aVtlXTppW2VdPXU9QWUoKSxpLmRvY0NvdW50PXMsYy5vYmplY3RTdG9yZShCdCkucHV0KGkpfX1jLm9iamVjdFN0b3JlKEJ0KS5nZXQoQnQpLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXtpPWUudGFyZ2V0LnJlc3VsdHx8e2lkOkJ0fSxkKCl9LGZ1bmN0aW9uKGUsdCl7ZS5vYmplY3RTdG9yZShJdCkuaW5kZXgoImRlbGV0ZWRPckxvY2FsIikuY291bnQoSURCS2V5UmFuZ2Uub25seSgiMCIpKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7dChlLnRhcmdldC5yZXN1bHQpfX0oYywoZnVuY3Rpb24oZSl7cz1lLGQoKX0pKSx0bnx8KHRuPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7dmFyIG49aGUoWyIiXSkscj1lLm9iamVjdFN0b3JlKCJkZXRlY3QtYmxvYi1zdXBwb3J0IikucHV0KG4sImtleSIpO3Iub25zdWNjZXNzPWZ1bmN0aW9uKCl7dmFyIGU9bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQ2hyb21lXC8oXGQrKS8pLG49bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvRWRnZVwvLyk7dChufHwhZXx8cGFyc2VJbnQoZVsxXSwxMCk+PTQzKX0sci5vbmVycm9yPWUub25hYm9ydD1mdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSx0KCExKX19KSkuY2F0Y2goKGZ1bmN0aW9uKCl7cmV0dXJuITF9KSl9KGMpKSx0bi50aGVuKChmdW5jdGlvbihlKXthPWUsbCgpfSkpLGMub25jb21wbGV0ZT1mdW5jdGlvbigpe2Y9ITAsbCgpfSxjLm9uYWJvcnQ9UnQobil9LGwub25lcnJvcj1mdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldC5lcnJvciYmZS50YXJnZXQuZXJyb3IubWVzc2FnZTt0Py0xIT09dC5pbmRleE9mKCJzdG9yZWQgZGF0YWJhc2UgaXMgYSBoaWdoZXIgdmVyc2lvbiIpJiYodD1uZXcgRXJyb3IoJ1RoaXMgREIgd2FzIGNyZWF0ZWQgd2l0aCB0aGUgbmV3ZXIgImluZGV4ZWRkYiIgYWRhcHRlciwgYnV0IHlvdSBhcmUgdHJ5aW5nIHRvIG9wZW4gaXQgd2l0aCB0aGUgb2xkZXIgImlkYiIgYWRhcHRlcicpKTp0PSJGYWlsZWQgdG8gb3BlbiBpbmRleGVkREIsIGFyZSB5b3UgaW4gcHJpdmF0ZSBicm93c2luZyBtb2RlPyIsUCgiZXJyb3IiLHQpLG4oSChRLHQpKX19KG4sZSx0KX0pLHQsbi5jb25zdHJ1Y3Rvcil9b24udmFsaWQ9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBpbmRleGVkREImJiJ1bmRlZmluZWQiIT10eXBlb2YgSURCS2V5UmFuZ2V9Y2F0Y2goZSl7cmV0dXJuITF9fTt2YXIgc249e307ZnVuY3Rpb24gYW4oZSl7dmFyIHQ9ZS5kb2N8fGUub2ssbj10JiZ0Ll9hdHRhY2htZW50cztuJiZPYmplY3Qua2V5cyhuKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1uW2VdO3QuZGF0YT15ZSh0LmRhdGEsdC5jb250ZW50X3R5cGUpfSkpfWZ1bmN0aW9uIHVuKGUpe3JldHVybi9eX2Rlc2lnbi8udGVzdChlKT8iX2Rlc2lnbi8iK2VuY29kZVVSSUNvbXBvbmVudChlLnNsaWNlKDgpKTovXl9sb2NhbC8udGVzdChlKT8iX2xvY2FsLyIrZW5jb2RlVVJJQ29tcG9uZW50KGUuc2xpY2UoNykpOmVuY29kZVVSSUNvbXBvbmVudChlKX1mdW5jdGlvbiBjbihlKXtyZXR1cm4gZS5fYXR0YWNobWVudHMmJk9iamVjdC5rZXlzKGUuX2F0dGFjaG1lbnRzKT9Qcm9taXNlLmFsbChPYmplY3Qua2V5cyhlLl9hdHRhY2htZW50cykubWFwKChmdW5jdGlvbih0KXt2YXIgbj1lLl9hdHRhY2htZW50c1t0XTtpZihuLmRhdGEmJiJzdHJpbmciIT10eXBlb2Ygbi5kYXRhKXJldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7bWUobi5kYXRhLGUpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe24uZGF0YT1lfSkpfSkpKTpQcm9taXNlLnJlc29sdmUoKX1mdW5jdGlvbiBmbihlLHQpe2lmKGZ1bmN0aW9uKGUpe2lmKCFlLnByZWZpeClyZXR1cm4hMTt2YXIgdD11ZShlLnByZWZpeCkucHJvdG9jb2w7cmV0dXJuImh0dHAiPT09dHx8Imh0dHBzIj09PXR9KHQpKXt2YXIgbj10Lm5hbWUuc3Vic3RyKHQucHJlZml4Lmxlbmd0aCk7ZT10LnByZWZpeC5yZXBsYWNlKC9cLz8kLywiLyIpK2VuY29kZVVSSUNvbXBvbmVudChuKX12YXIgcj11ZShlKTsoci51c2VyfHxyLnBhc3N3b3JkKSYmKHIuYXV0aD17dXNlcm5hbWU6ci51c2VyLHBhc3N3b3JkOnIucGFzc3dvcmR9KTt2YXIgbz1yLnBhdGgucmVwbGFjZSgvKF5cL3xcLyQpL2csIiIpLnNwbGl0KCIvIik7cmV0dXJuIHIuZGI9by5wb3AoKSwtMT09PXIuZGIuaW5kZXhPZigiJSIpJiYoci5kYj1lbmNvZGVVUklDb21wb25lbnQoci5kYikpLHIucGF0aD1vLmpvaW4oIi8iKSxyfWZ1bmN0aW9uIGxuKGUsdCl7cmV0dXJuIGRuKGUsZS5kYisiLyIrdCl9ZnVuY3Rpb24gZG4oZSx0KXt2YXIgbj1lLnBhdGg/Ii8iOiIiO3JldHVybiBlLnByb3RvY29sKyI6Ly8iK2UuaG9zdCsoZS5wb3J0PyI6IitlLnBvcnQ6IiIpKyIvIitlLnBhdGgrbit0fWZ1bmN0aW9uIGhuKGUpe3JldHVybiI/IitPYmplY3Qua2V5cyhlKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0KyI9IitlbmNvZGVVUklDb21wb25lbnQoZVt0XSl9KSkuam9pbigiJiIpfWZ1bmN0aW9uIHBuKGUsdCl7dmFyIHI9dGhpcyxvPWZuKGUubmFtZSxlKSxpPWxuKG8sIiIpO2U9YihlKTt2YXIgYSx1PWZ1bmN0aW9uKHQsbil7aWYoKG49bnx8e30pLmhlYWRlcnM9bi5oZWFkZXJzfHxuZXcgWmUsbi5jcmVkZW50aWFscz0iaW5jbHVkZSIsZS5hdXRofHxvLmF1dGgpe3ZhciByPWUuYXV0aHx8by5hdXRoLGk9ci51c2VybmFtZSsiOiIrci5wYXNzd29yZCxzPWRlKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChpKSkpO24uaGVhZGVycy5zZXQoIkF1dGhvcml6YXRpb24iLCJCYXNpYyAiK3MpfXZhciBhPWUuaGVhZGVyc3x8e307cmV0dXJuIE9iamVjdC5rZXlzKGEpLmZvckVhY2goKGZ1bmN0aW9uKGUpe24uaGVhZGVycy5hcHBlbmQoZSxhW2VdKX0pKSxmdW5jdGlvbihlKXt2YXIgdD0idW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudD9uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk6IiIsbj0tMSE9PXQuaW5kZXhPZigibXNpZSIpLHI9LTEhPT10LmluZGV4T2YoInRyaWRlbnQiKSxvPS0xIT09dC5pbmRleE9mKCJlZGdlIiksaT0hKCJtZXRob2QiaW4gZSl8fCJHRVQiPT09ZS5tZXRob2Q7cmV0dXJuKG58fHJ8fG8pJiZpfShuKSYmKHQrPSgtMT09PXQuaW5kZXhPZigiPyIpPyI/IjoiJiIpKyJfbm9uY2U9IitEYXRlLm5vdygpKSwoZS5mZXRjaHx8WGUpKHQsbil9O2Z1bmN0aW9uIGMoZSx0KXtyZXR1cm4gaihlLGYoKGZ1bmN0aW9uKGUpe2QoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KHRoaXMsZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKHQpe2UucG9wKCkodCl9KSl9KSkpLmJpbmQocil9ZnVuY3Rpb24gbChlLHQsbil7dmFyIHI9e307cmV0dXJuKHQ9dHx8e30pLmhlYWRlcnM9dC5oZWFkZXJzfHxuZXcgWmUsdC5oZWFkZXJzLmdldCgiQ29udGVudC1UeXBlIil8fHQuaGVhZGVycy5zZXQoIkNvbnRlbnQtVHlwZSIsImFwcGxpY2F0aW9uL2pzb24iKSx0LmhlYWRlcnMuZ2V0KCJBY2NlcHQiKXx8dC5oZWFkZXJzLnNldCgiQWNjZXB0IiwiYXBwbGljYXRpb24vanNvbiIpLHUoZSx0KS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gci5vaz1lLm9rLHIuc3RhdHVzPWUuc3RhdHVzLGUuanNvbigpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe2lmKHIuZGF0YT1lLCFyLm9rKXtyLmRhdGEuc3RhdHVzPXIuc3RhdHVzO3ZhciB0PVgoci5kYXRhKTtpZihuKXJldHVybiBuKHQpO3Rocm93IHR9aWYoQXJyYXkuaXNBcnJheShyLmRhdGEpJiYoci5kYXRhPXIuZGF0YS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmVycm9yfHxlLm1pc3Npbmc/WChlKTplfSkpKSwhbilyZXR1cm4gcjtuKG51bGwsci5kYXRhKX0pKX1mdW5jdGlvbiBkKCl7cmV0dXJuIGUuc2tpcF9zZXR1cD9Qcm9taXNlLnJlc29sdmUoKTphfHwoKGE9bChpKS5jYXRjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuc3RhdHVzJiY0MDQ9PT1lLnN0YXR1cz8oRCg0MDQsIlBvdWNoREIgaXMganVzdCBkZXRlY3RpbmcgaWYgdGhlIHJlbW90ZSBleGlzdHMuIiksbChpLHttZXRob2Q6IlBVVCJ9KSk6UHJvbWlzZS5yZWplY3QoZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fCFlLnN0YXR1c3x8NDEyIT09ZS5zdGF0dXMpfHxQcm9taXNlLnJlamVjdChlKX0pKSkuY2F0Y2goKGZ1bmN0aW9uKCl7YT1udWxsfSkpLGEpfWZ1bmN0aW9uIGgoZSl7cmV0dXJuIGUuc3BsaXQoIi8iKS5tYXAoZW5jb2RlVVJJQ29tcG9uZW50KS5qb2luKCIvIil9cygoZnVuY3Rpb24oKXt0KG51bGwscil9KSksci5fcmVtb3RlPSEwLHIudHlwZT1mdW5jdGlvbigpe3JldHVybiJodHRwIn0sci5pZD1jKCJpZCIsKGZ1bmN0aW9uKGUpe3UoZG4obywiIikpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlLmpzb24oKX0pKS5jYXRjaCgoZnVuY3Rpb24oKXtyZXR1cm57fX0pKS50aGVuKChmdW5jdGlvbih0KXt2YXIgbj10JiZ0LnV1aWQ/dC51dWlkK28uZGI6bG4obywiIik7ZShudWxsLG4pfSkpfSkpLHIuY29tcGFjdD1jKCJjb21wYWN0IiwoZnVuY3Rpb24oZSx0KXsiZnVuY3Rpb24iPT10eXBlb2YgZSYmKHQ9ZSxlPXt9KSxlPWIoZSksbChsbihvLCJfY29tcGFjdCIpLHttZXRob2Q6IlBPU1QifSkudGhlbigoZnVuY3Rpb24oKXshZnVuY3Rpb24gbigpe3IuaW5mbygoZnVuY3Rpb24ocixvKXtvJiYhby5jb21wYWN0X3J1bm5pbmc/dChudWxsLHtvazohMH0pOnNldFRpbWVvdXQobixlLmludGVydmFsfHwyMDApfSkpfSgpfSkpfSkpLHIuYnVsa0dldD1qKCJidWxrR2V0IiwoZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO2Z1bmN0aW9uIHIodCl7dmFyIG49e307ZS5yZXZzJiYobi5yZXZzPSEwKSxlLmF0dGFjaG1lbnRzJiYobi5hdHRhY2htZW50cz0hMCksZS5sYXRlc3QmJihuLmxhdGVzdD0hMCksbChsbihvLCJfYnVsa19nZXQiK2huKG4pKSx7bWV0aG9kOiJQT1NUIixib2R5OkpTT04uc3RyaW5naWZ5KHtkb2NzOmUuZG9jc30pfSkudGhlbigoZnVuY3Rpb24obil7ZS5hdHRhY2htZW50cyYmZS5iaW5hcnkmJm4uZGF0YS5yZXN1bHRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuZG9jcy5mb3JFYWNoKGFuKX0pKSx0KG51bGwsbi5kYXRhKX0pKS5jYXRjaCh0KX1mdW5jdGlvbiBpKCl7dmFyIHI9TWF0aC5jZWlsKGUuZG9jcy5sZW5ndGgvNTApLG89MCxpPW5ldyBBcnJheShyKTtmdW5jdGlvbiBzKGUpe3JldHVybiBmdW5jdGlvbihuLHMpe2lbZV09cy5yZXN1bHRzLCsrbz09PXImJnQobnVsbCx7cmVzdWx0czplZShpKX0pfX1mb3IodmFyIGE9MDthPHI7YSsrKXt2YXIgdT1xKGUsWyJyZXZzIiwiYXR0YWNobWVudHMiLCJiaW5hcnkiLCJsYXRlc3QiXSk7dS5kb2NzPWUuZG9jcy5zbGljZSg1MCphLE1hdGgubWluKGUuZG9jcy5sZW5ndGgsNTAqKGErMSkpKSx4KG4sdSxzKGEpKX19dmFyIHM9ZG4obywiIiksYT1zbltzXTsiYm9vbGVhbiIhPXR5cGVvZiBhP3IoKGZ1bmN0aW9uKGUsbil7ZT8oc25bc109ITEsRChlLnN0YXR1cywiUG91Y2hEQiBpcyBqdXN0IGRldGVjdGluZyBpZiB0aGUgcmVtb3RlIHN1cHBvcnRzIHRoZSBfYnVsa19nZXQgQVBJLiIpLGkoKSk6KHNuW3NdPSEwLHQobnVsbCxuKSl9KSk6YT9yKHQpOmkoKX0pKSxyLl9pbmZvPWZ1bmN0aW9uKGUpe2QoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiB1KGxuKG8sIiIpKX0pKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gZS5qc29uKCl9KSkudGhlbigoZnVuY3Rpb24odCl7dC5ob3N0PWxuKG8sIiIpLGUobnVsbCx0KX0pKS5jYXRjaChlKX0sci5mZXRjaD1mdW5jdGlvbihlLHQpe3JldHVybiBkKCkudGhlbigoZnVuY3Rpb24oKXt2YXIgbj0iLyI9PT1lLnN1YnN0cmluZygwLDEpP2RuKG8sZS5zdWJzdHJpbmcoMSkpOmxuKG8sZSk7cmV0dXJuIHUobix0KX0pKX0sci5nZXQ9YygiZ2V0IiwoZnVuY3Rpb24oZSx0LG4peyJmdW5jdGlvbiI9PXR5cGVvZiB0JiYobj10LHQ9e30pO3ZhciByPXt9O2Z1bmN0aW9uIGkoZSl7dmFyIG49ZS5fYXR0YWNobWVudHMscj1uJiZPYmplY3Qua2V5cyhuKTtpZihuJiZyLmxlbmd0aClyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4scil7dmFyIG8saT0wLHM9MCxhPTAsdT1lLmxlbmd0aDtmdW5jdGlvbiBjKCl7KythPT09dT9vP3Iobyk6bigpOmQoKX1mdW5jdGlvbiBmKCl7aS0tLGMoKX1mdW5jdGlvbiBsKGUpe2ktLSxvPW98fGUsYygpfWZ1bmN0aW9uIGQoKXtmb3IoO2k8dCYmczx1OylpKyssZVtzKytdKCkudGhlbihmLGwpfWQoKX0pKX0oci5tYXAoKGZ1bmN0aW9uKHIpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihyKXt2YXIgaT1uW3JdLHM9dW4oZS5faWQpKyIvIitoKHIpKyI/cmV2PSIrZS5fcmV2O3JldHVybiB1KGxuKG8scykpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiJidWZmZXIiaW4gZT9lLmJ1ZmZlcigpOmUuYmxvYigpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe2lmKHQuYmluYXJ5KXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUuX19wcm90b19fLCJ0eXBlIik7cmV0dXJuIG4mJiFuLnNldHx8KGUudHlwZT1pLmNvbnRlbnRfdHlwZSksZX1yZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQpe21lKGUsdCl9KSl9KSkudGhlbigoZnVuY3Rpb24oZSl7ZGVsZXRlIGkuc3R1YixkZWxldGUgaS5sZW5ndGgsaS5kYXRhPWV9KSl9KHIpfX0pKSw1KX0odD1iKHQpKS5yZXZzJiYoci5yZXZzPSEwKSx0LnJldnNfaW5mbyYmKHIucmV2c19pbmZvPSEwKSx0LmxhdGVzdCYmKHIubGF0ZXN0PSEwKSx0Lm9wZW5fcmV2cyYmKCJhbGwiIT09dC5vcGVuX3JldnMmJih0Lm9wZW5fcmV2cz1KU09OLnN0cmluZ2lmeSh0Lm9wZW5fcmV2cykpLHIub3Blbl9yZXZzPXQub3Blbl9yZXZzKSx0LnJldiYmKHIucmV2PXQucmV2KSx0LmNvbmZsaWN0cyYmKHIuY29uZmxpY3RzPXQuY29uZmxpY3RzKSx0LnVwZGF0ZV9zZXEmJihyLnVwZGF0ZV9zZXE9dC51cGRhdGVfc2VxKSxlPXVuKGUpLGwobG4obyxlK2huKHIpKSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7aWYodC5hdHRhY2htZW50cylyZXR1cm4gbj1lLmRhdGEsQXJyYXkuaXNBcnJheShuKT9Qcm9taXNlLmFsbChuLm1hcCgoZnVuY3Rpb24oZSl7aWYoZS5vaylyZXR1cm4gaShlLm9rKX0pKSk6aShuKTt2YXIgbn0pKS50aGVuKChmdW5jdGlvbigpe24obnVsbCxlLmRhdGEpfSkpfSkpLmNhdGNoKChmdW5jdGlvbih0KXt0LmRvY0lkPWUsbih0KX0pKX0pKSxyLnJlbW92ZT1jKCJyZW1vdmUiLChmdW5jdGlvbihlLHQsbixyKXt2YXIgaTsic3RyaW5nIj09dHlwZW9mIHQ/KGk9e19pZDplLF9yZXY6dH0sImZ1bmN0aW9uIj09dHlwZW9mIG4mJihyPW4sbj17fSkpOihpPWUsImZ1bmN0aW9uIj09dHlwZW9mIHQ/KHI9dCxuPXt9KToocj1uLG49dCkpO3ZhciBzPWkuX3Jldnx8bi5yZXY7bChsbihvLHVuKGkuX2lkKSkrIj9yZXY9IitzLHttZXRob2Q6IkRFTEVURSJ9LHIpLmNhdGNoKHIpfSkpLHIuZ2V0QXR0YWNobWVudD1jKCJnZXRBdHRhY2htZW50IiwoZnVuY3Rpb24oZSx0LHIsaSl7ImZ1bmN0aW9uIj09dHlwZW9mIHImJihpPXIscj17fSk7dmFyIHMsYT1yLnJldj8iP3Jldj0iK3IucmV2OiIiLGM9bG4obyx1bihlKSkrIi8iK2godCkrYTt1KGMse21ldGhvZDoiR0VUIn0pLnRoZW4oKGZ1bmN0aW9uKGUpe2lmKHM9ZS5oZWFkZXJzLmdldCgiY29udGVudC10eXBlIiksZS5vaylyZXR1cm4gdm9pZCAwPT09bnx8bi5icm93c2VyfHwiZnVuY3Rpb24iIT10eXBlb2YgZS5idWZmZXI/ZS5ibG9iKCk6ZS5idWZmZXIoKTt0aHJvdyBlfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZvaWQgMD09PW58fG4uYnJvd3Nlcnx8KGUudHlwZT1zKSxpKG51bGwsZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2koZSl9KSl9KSksci5yZW1vdmVBdHRhY2htZW50PWMoInJlbW92ZUF0dGFjaG1lbnQiLChmdW5jdGlvbihlLHQsbixyKXtsKGxuKG8sdW4oZSkrIi8iK2godCkpKyI/cmV2PSIrbix7bWV0aG9kOiJERUxFVEUifSxyKS5jYXRjaChyKX0pKSxyLnB1dEF0dGFjaG1lbnQ9YygicHV0QXR0YWNobWVudCIsKGZ1bmN0aW9uKGUsdCxuLHIsaSxzKXsiZnVuY3Rpb24iPT10eXBlb2YgaSYmKHM9aSxpPXIscj1uLG49bnVsbCk7dmFyIGE9dW4oZSkrIi8iK2godCksdT1sbihvLGEpO2lmKG4mJih1Kz0iP3Jldj0iK24pLCJzdHJpbmciPT10eXBlb2Ygcil7dmFyIGM7dHJ5e2M9bGUocil9Y2F0Y2goZSl7cmV0dXJuIHMoSChLLCJBdHRhY2htZW50IGlzIG5vdCBhIHZhbGlkIGJhc2U2NCBzdHJpbmciKSl9cj1jP3ZlKGMsaSk6IiJ9bCh1LHtoZWFkZXJzOm5ldyBaZSh7IkNvbnRlbnQtVHlwZSI6aX0pLG1ldGhvZDoiUFVUIixib2R5OnJ9LHMpLmNhdGNoKHMpfSkpLHIuX2J1bGtEb2NzPWZ1bmN0aW9uKGUsdCxuKXtlLm5ld19lZGl0cz10Lm5ld19lZGl0cyxkKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5hbGwoZS5kb2NzLm1hcChjbikpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGwobG4obywiX2J1bGtfZG9jcyIpLHttZXRob2Q6IlBPU1QiLGJvZHk6SlNPTi5zdHJpbmdpZnkoZSl9LG4pfSkpLmNhdGNoKG4pfSxyLl9wdXQ9ZnVuY3Rpb24oZSx0LG4pe2QoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBjbihlKX0pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBsKGxuKG8sdW4oZS5faWQpKSx7bWV0aG9kOiJQVVQiLGJvZHk6SlNPTi5zdHJpbmdpZnkoZSl9KX0pKS50aGVuKChmdW5jdGlvbihlKXtuKG51bGwsZS5kYXRhKX0pKS5jYXRjaCgoZnVuY3Rpb24odCl7dC5kb2NJZD1lJiZlLl9pZCxuKHQpfSkpfSxyLmFsbERvY3M9YygiYWxsRG9jcyIsKGZ1bmN0aW9uKGUsdCl7ImZ1bmN0aW9uIj09dHlwZW9mIGUmJih0PWUsZT17fSk7dmFyIG4scj17fSxpPSJHRVQiOyhlPWIoZSkpLmNvbmZsaWN0cyYmKHIuY29uZmxpY3RzPSEwKSxlLnVwZGF0ZV9zZXEmJihyLnVwZGF0ZV9zZXE9ITApLGUuZGVzY2VuZGluZyYmKHIuZGVzY2VuZGluZz0hMCksZS5pbmNsdWRlX2RvY3MmJihyLmluY2x1ZGVfZG9jcz0hMCksZS5hdHRhY2htZW50cyYmKHIuYXR0YWNobWVudHM9ITApLGUua2V5JiYoci5rZXk9SlNPTi5zdHJpbmdpZnkoZS5rZXkpKSxlLnN0YXJ0X2tleSYmKGUuc3RhcnRrZXk9ZS5zdGFydF9rZXkpLGUuc3RhcnRrZXkmJihyLnN0YXJ0a2V5PUpTT04uc3RyaW5naWZ5KGUuc3RhcnRrZXkpKSxlLmVuZF9rZXkmJihlLmVuZGtleT1lLmVuZF9rZXkpLGUuZW5ka2V5JiYoci5lbmRrZXk9SlNPTi5zdHJpbmdpZnkoZS5lbmRrZXkpKSx2b2lkIDAhPT1lLmluY2x1c2l2ZV9lbmQmJihyLmluY2x1c2l2ZV9lbmQ9ISFlLmluY2x1c2l2ZV9lbmQpLHZvaWQgMCE9PWUubGltaXQmJihyLmxpbWl0PWUubGltaXQpLHZvaWQgMCE9PWUuc2tpcCYmKHIuc2tpcD1lLnNraXApO3ZhciBzPWhuKHIpO3ZvaWQgMCE9PWUua2V5cyYmKGk9IlBPU1QiLG49e2tleXM6ZS5rZXlzfSksbChsbihvLCJfYWxsX2RvY3MiK3MpLHttZXRob2Q6aSxib2R5OkpTT04uc3RyaW5naWZ5KG4pfSkudGhlbigoZnVuY3Rpb24obil7ZS5pbmNsdWRlX2RvY3MmJmUuYXR0YWNobWVudHMmJmUuYmluYXJ5JiZuLmRhdGEucm93cy5mb3JFYWNoKGFuKSx0KG51bGwsbi5kYXRhKX0pKS5jYXRjaCh0KX0pKSxyLl9jaGFuZ2VzPWZ1bmN0aW9uKGUpe3ZhciB0PSJiYXRjaF9zaXplImluIGU/ZS5iYXRjaF9zaXplOjI1OyhlPWIoZSkpLmNvbnRpbnVvdXMmJiEoImhlYXJ0YmVhdCJpbiBlKSYmKGUuaGVhcnRiZWF0PTFlNCk7dmFyIG49InRpbWVvdXQiaW4gZT9lLnRpbWVvdXQ6M2U0OyJ0aW1lb3V0ImluIGUmJmUudGltZW91dCYmbi1lLnRpbWVvdXQ8NWUzJiYobj1lLnRpbWVvdXQrNWUzKSwiaGVhcnRiZWF0ImluIGUmJmUuaGVhcnRiZWF0JiZuLWUuaGVhcnRiZWF0PDVlMyYmKG49ZS5oZWFydGJlYXQrNWUzKTt2YXIgcj17fTsidGltZW91dCJpbiBlJiZlLnRpbWVvdXQmJihyLnRpbWVvdXQ9ZS50aW1lb3V0KTt2YXIgaT12b2lkIDAhPT1lLmxpbWl0JiZlLmxpbWl0LGE9aTtpZihlLnN0eWxlJiYoci5zdHlsZT1lLnN0eWxlKSwoZS5pbmNsdWRlX2RvY3N8fGUuZmlsdGVyJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5maWx0ZXIpJiYoci5pbmNsdWRlX2RvY3M9ITApLGUuYXR0YWNobWVudHMmJihyLmF0dGFjaG1lbnRzPSEwKSxlLmNvbnRpbnVvdXMmJihyLmZlZWQ9Imxvbmdwb2xsIiksZS5zZXFfaW50ZXJ2YWwmJihyLnNlcV9pbnRlcnZhbD1lLnNlcV9pbnRlcnZhbCksZS5jb25mbGljdHMmJihyLmNvbmZsaWN0cz0hMCksZS5kZXNjZW5kaW5nJiYoci5kZXNjZW5kaW5nPSEwKSxlLnVwZGF0ZV9zZXEmJihyLnVwZGF0ZV9zZXE9ITApLCJoZWFydGJlYXQiaW4gZSYmZS5oZWFydGJlYXQmJihyLmhlYXJ0YmVhdD1lLmhlYXJ0YmVhdCksZS5maWx0ZXImJiJzdHJpbmciPT10eXBlb2YgZS5maWx0ZXImJihyLmZpbHRlcj1lLmZpbHRlciksZS52aWV3JiYic3RyaW5nIj09dHlwZW9mIGUudmlldyYmKHIuZmlsdGVyPSJfdmlldyIsci52aWV3PWUudmlldyksZS5xdWVyeV9wYXJhbXMmJiJvYmplY3QiPT10eXBlb2YgZS5xdWVyeV9wYXJhbXMpZm9yKHZhciB1IGluIGUucXVlcnlfcGFyYW1zKWUucXVlcnlfcGFyYW1zLmhhc093blByb3BlcnR5KHUpJiYoclt1XT1lLnF1ZXJ5X3BhcmFtc1t1XSk7dmFyIGMsZj0iR0VUIjtlLmRvY19pZHM/KHIuZmlsdGVyPSJfZG9jX2lkcyIsZj0iUE9TVCIsYz17ZG9jX2lkczplLmRvY19pZHN9KTplLnNlbGVjdG9yJiYoci5maWx0ZXI9Il9zZWxlY3RvciIsZj0iUE9TVCIsYz17c2VsZWN0b3I6ZS5zZWxlY3Rvcn0pO3ZhciBoLHA9bmV3IEhlLHY9ZnVuY3Rpb24obixzKXtpZighZS5hYm9ydGVkKXtyLnNpbmNlPW4sIm9iamVjdCI9PXR5cGVvZiByLnNpbmNlJiYoci5zaW5jZT1KU09OLnN0cmluZ2lmeShyLnNpbmNlKSksZS5kZXNjZW5kaW5nP2kmJihyLmxpbWl0PWEpOnIubGltaXQ9IWl8fGE+dD90OmE7dmFyIHU9bG4obywiX2NoYW5nZXMiK2huKHIpKSx2PXtzaWduYWw6cC5zaWduYWwsbWV0aG9kOmYsYm9keTpKU09OLnN0cmluZ2lmeShjKX07aD1uLGUuYWJvcnRlZHx8ZCgpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGwodSx2LHMpfSkpLmNhdGNoKHMpfX0seT17cmVzdWx0czpbXX0sZz1mdW5jdGlvbihuLHIpe2lmKCFlLmFib3J0ZWQpe3ZhciBvPTA7aWYociYmci5yZXN1bHRzKXtvPXIucmVzdWx0cy5sZW5ndGgseS5sYXN0X3NlcT1yLmxhc3Rfc2VxO3ZhciB1PW51bGwsYz1udWxsOyJudW1iZXIiPT10eXBlb2Ygci5wZW5kaW5nJiYodT1yLnBlbmRpbmcpLCJzdHJpbmciIT10eXBlb2YgeS5sYXN0X3NlcSYmIm51bWJlciIhPXR5cGVvZiB5Lmxhc3Rfc2VxfHwoYz15Lmxhc3Rfc2VxKTtlLnF1ZXJ5X3BhcmFtcyxyLnJlc3VsdHM9ci5yZXN1bHRzLmZpbHRlcigoZnVuY3Rpb24odCl7YS0tO3ZhciBuPVooZSkodCk7cmV0dXJuIG4mJihlLmluY2x1ZGVfZG9jcyYmZS5hdHRhY2htZW50cyYmZS5iaW5hcnkmJmFuKHQpLGUucmV0dXJuX2RvY3MmJnkucmVzdWx0cy5wdXNoKHQpLGUub25DaGFuZ2UodCx1LGMpKSxufSkpfWVsc2UgaWYobilyZXR1cm4gZS5hYm9ydGVkPSEwLHZvaWQgZS5jb21wbGV0ZShuKTtyJiZyLmxhc3Rfc2VxJiYoaD1yLmxhc3Rfc2VxKTt2YXIgZj1pJiZhPD0wfHxyJiZvPHR8fGUuZGVzY2VuZGluZzsoIWUuY29udGludW91c3x8aSYmYTw9MCkmJmY/ZS5jb21wbGV0ZShudWxsLHkpOnMoKGZ1bmN0aW9uKCl7dihoLGcpfSkpfX07cmV0dXJuIHYoZS5zaW5jZXx8MCxnKSx7Y2FuY2VsOmZ1bmN0aW9uKCl7ZS5hYm9ydGVkPSEwLHAuYWJvcnQoKX19fSxyLnJldnNEaWZmPWMoInJldnNEaWZmIiwoZnVuY3Rpb24oZSx0LG4peyJmdW5jdGlvbiI9PXR5cGVvZiB0JiYobj10LHQ9e30pLGwobG4obywiX3JldnNfZGlmZiIpLHttZXRob2Q6IlBPU1QiLGJvZHk6SlNPTi5zdHJpbmdpZnkoZSl9LG4pLmNhdGNoKG4pfSkpLHIuX2Nsb3NlPWZ1bmN0aW9uKGUpe2UoKX0sci5fZGVzdHJveT1mdW5jdGlvbihlLHQpe2wobG4obywiIikse21ldGhvZDoiREVMRVRFIn0pLnRoZW4oKGZ1bmN0aW9uKGUpe3QobnVsbCxlKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7NDA0PT09ZS5zdGF0dXM/dChudWxsLHtvazohMH0pOnQoZSl9KSl9fWZ1bmN0aW9uIHZuKGUpe3RoaXMuc3RhdHVzPTQwMCx0aGlzLm5hbWU9InF1ZXJ5X3BhcnNlX2Vycm9yIix0aGlzLm1lc3NhZ2U9ZSx0aGlzLmVycm9yPSEwO3RyeXtFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLHZuKX1jYXRjaChlKXt9fWZ1bmN0aW9uIHluKGUpe3RoaXMuc3RhdHVzPTQwNCx0aGlzLm5hbWU9Im5vdF9mb3VuZCIsdGhpcy5tZXNzYWdlPWUsdGhpcy5lcnJvcj0hMDt0cnl7RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyx5bil9Y2F0Y2goZSl7fX1mdW5jdGlvbiBnbihlKXt0aGlzLnN0YXR1cz01MDAsdGhpcy5uYW1lPSJpbnZhbGlkX3ZhbHVlIix0aGlzLm1lc3NhZ2U9ZSx0aGlzLmVycm9yPSEwO3RyeXtFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLGduKX1jYXRjaChlKXt9fWZ1bmN0aW9uIF9uKGUsdCl7cmV0dXJuIHQmJmUudGhlbigoZnVuY3Rpb24oZSl7cygoZnVuY3Rpb24oKXt0KG51bGwsZSl9KSl9KSwoZnVuY3Rpb24oZSl7cygoZnVuY3Rpb24oKXt0KGUpfSkpfSkpLGV9ZnVuY3Rpb24gbW4oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj1hcmd1bWVudHMscj10aGlzO3JldHVybiBlLmFkZCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShyLG4pfSkpfX1mdW5jdGlvbiBibihlKXt2YXIgdD1uZXcgbyhlKSxuPW5ldyBBcnJheSh0LnNpemUpLHI9LTE7cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7blsrK3JdPWV9KSksbn1mdW5jdGlvbiB3bihlKXt2YXIgdD1uZXcgQXJyYXkoZS5zaXplKSxuPS0xO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUscil7dFsrK25dPXJ9KSksdH1mdW5jdGlvbiBrbihlKXtyZXR1cm4gbmV3IGduKCJidWlsdGluICIrZSsiIGZ1bmN0aW9uIHJlcXVpcmVzIG1hcCB2YWx1ZXMgdG8gYmUgbnVtYmVycyBvciBudW1iZXIgYXJyYXlzIil9ZnVuY3Rpb24gam4oZSl7Zm9yKHZhciB0PTAsbj0wLHI9ZS5sZW5ndGg7bjxyO24rKyl7dmFyIG89ZVtuXTtpZigibnVtYmVyIiE9dHlwZW9mIG8pe2lmKCFBcnJheS5pc0FycmF5KG8pKXRocm93IGtuKCJfc3VtIik7dD0ibnVtYmVyIj09dHlwZW9mIHQ/W3RdOnQ7Zm9yKHZhciBpPTAscz1vLmxlbmd0aDtpPHM7aSsrKXt2YXIgYT1vW2ldO2lmKCJudW1iZXIiIT10eXBlb2YgYSl0aHJvdyBrbigiX3N1bSIpO3ZvaWQgMD09PXRbaV0/dC5wdXNoKGEpOnRbaV0rPWF9fWVsc2UibnVtYmVyIj09dHlwZW9mIHQ/dCs9bzp0WzBdKz1vfXJldHVybiB0fXBuLnZhbGlkPWZ1bmN0aW9uKCl7cmV0dXJuITB9LGwodm4sRXJyb3IpLGwoeW4sRXJyb3IpLGwoZ24sRXJyb3IpO3ZhciBxbj1QLmJpbmQobnVsbCwibG9nIiksT249QXJyYXkuaXNBcnJheSxBbj1KU09OLnBhcnNlO2Z1bmN0aW9uIFNuKGUsdCl7cmV0dXJuIGNlKCJyZXR1cm4gKCIrZS5yZXBsYWNlKC87XHMqJC8sIiIpKyIpOyIse2VtaXQ6dCxzdW06am4sbG9nOnFuLGlzQXJyYXk6T24sdG9KU09OOkFufSl9ZnVuY3Rpb24geG4oKXt0aGlzLnByb21pc2U9bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe2UoKX0pKX1mdW5jdGlvbiBFbihlKXtpZighZSlyZXR1cm4idW5kZWZpbmVkIjtzd2l0Y2godHlwZW9mIGUpe2Nhc2UiZnVuY3Rpb24iOmNhc2Uic3RyaW5nIjpyZXR1cm4gZS50b1N0cmluZygpO2RlZmF1bHQ6cmV0dXJuIEpTT04uc3RyaW5naWZ5KGUpfX1mdW5jdGlvbiBDbihlLHQsbixyLG8saSl7dmFyIHMsYT1mdW5jdGlvbihlLHQpe3JldHVybiBFbihlKStFbih0KSsidW5kZWZpbmVkIn0obixyKTtpZighbyYmKHM9ZS5fY2FjaGVkVmlld3M9ZS5fY2FjaGVkVmlld3N8fHt9KVthXSlyZXR1cm4gc1thXTt2YXIgdT1lLmluZm8oKS50aGVuKChmdW5jdGlvbih1KXt2YXIgYz11LmRiX25hbWUrIi1tcnZpZXctIisobz8idGVtcCI6cWUoYSkpO3JldHVybiBmZShlLCJfbG9jYWwvIitpLChmdW5jdGlvbihlKXtlLnZpZXdzPWUudmlld3N8fHt9O3ZhciBuPXQ7LTE9PT1uLmluZGV4T2YoIi8iKSYmKG49dCsiLyIrdCk7dmFyIHI9ZS52aWV3c1tuXT1lLnZpZXdzW25dfHx7fTtpZighcltjXSlyZXR1cm4gcltjXT0hMCxlfSkpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGUucmVnaXN0ZXJEZXBlbmRlbnREYXRhYmFzZShjKS50aGVuKChmdW5jdGlvbih0KXt2YXIgbz10LmRiO28uYXV0b19jb21wYWN0aW9uPSEwO3ZhciBpPXtuYW1lOmMsZGI6byxzb3VyY2VEQjplLGFkYXB0ZXI6ZS5hZGFwdGVyLG1hcEZ1bjpuLHJlZHVjZUZ1bjpyfTtyZXR1cm4gaS5kYi5nZXQoIl9sb2NhbC9sYXN0U2VxIikuY2F0Y2goKGZ1bmN0aW9uKGUpe2lmKDQwNCE9PWUuc3RhdHVzKXRocm93IGV9KSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGkuc2VxPWU/ZS5zZXE6MCxzJiZpLmRiLm9uY2UoImRlc3Ryb3llZCIsKGZ1bmN0aW9uKCl7ZGVsZXRlIHNbYV19KSksaX0pKX0pKX0pKX0pKTtyZXR1cm4gcyYmKHNbYV09dSksdX14bi5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnByb21pc2U9dGhpcy5wcm9taXNlLmNhdGNoKChmdW5jdGlvbigpe30pKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlKCl9KSksdGhpcy5wcm9taXNlfSx4bi5wcm90b3R5cGUuZmluaXNoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvbWlzZX07dmFyIFBuPXt9LExuPW5ldyB4bjtmdW5jdGlvbiBEbihlKXtyZXR1cm4tMT09PWUuaW5kZXhPZigiLyIpP1tlLGVdOmUuc3BsaXQoIi8iKX1mdW5jdGlvbiAkbihlLHQpe3RyeXtlLmVtaXQoImVycm9yIix0KX1jYXRjaChlKXtQKCJlcnJvciIsIlRoZSB1c2VyJ3MgbWFwL3JlZHVjZSBmdW5jdGlvbiB0aHJldyBhbiB1bmNhdWdodCBlcnJvci5cbllvdSBjYW4gZGVidWcgdGhpcyBlcnJvciBieSBkb2luZzpcbm15RGF0YWJhc2Uub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycikgeyBkZWJ1Z2dlcjsgfSk7XG5QbGVhc2UgZG91YmxlLWNoZWNrIHlvdXIgbWFwL3JlZHVjZSBmdW5jdGlvbi4iKSxQKCJlcnJvciIsdCl9fXZhciBJbj1mdW5jdGlvbihlLHQpe3JldHVybiBqbih0KX0sQm49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5sZW5ndGh9LFRuPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3N1bTpqbih0KSxtaW46TWF0aC5taW4uYXBwbHkobnVsbCx0KSxtYXg6TWF0aC5tYXguYXBwbHkobnVsbCx0KSxjb3VudDp0Lmxlbmd0aCxzdW1zcXI6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj0wLHI9ZS5sZW5ndGg7bjxyO24rKyl7dmFyIG89ZVtuXTt0Kz1vKm99cmV0dXJuIHR9KHQpfX07dmFyIFJuPWZ1bmN0aW9uKGUsdCxuLHIpe2Z1bmN0aW9uIGEoZSx0LG4pe3RyeXt0KG4pfWNhdGNoKHQpeyRuKGUsdCl9fWZ1bmN0aW9uIHUoZSx0LG4scixvKXt0cnl7cmV0dXJue291dHB1dDp0KG4scixvKX19Y2F0Y2godCl7cmV0dXJuICRuKGUsdCkse2Vycm9yOnR9fX1mdW5jdGlvbiBjKGUsdCl7dmFyIG49dXQoZS5rZXksdC5rZXkpO3JldHVybiAwIT09bj9uOnV0KGUudmFsdWUsdC52YWx1ZSl9ZnVuY3Rpb24gbChlLHQsbil7cmV0dXJuIG49bnx8MCwibnVtYmVyIj09dHlwZW9mIHQ/ZS5zbGljZShuLHQrbik6bj4wP2Uuc2xpY2Uobik6ZX1mdW5jdGlvbiBkKGUpe3ZhciB0PWUudmFsdWU7cmV0dXJuIHQmJiJvYmplY3QiPT10eXBlb2YgdCYmdC5faWR8fGUuaWR9ZnVuY3Rpb24gaChlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUuaW5jbHVkZV9kb2NzJiZlLmF0dGFjaG1lbnRzJiZlLmJpbmFyeSYmZnVuY3Rpb24oZSl7ZS5yb3dzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZG9jJiZlLmRvYy5fYXR0YWNobWVudHM7dCYmT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49dFtlXTt0W2VdLmRhdGE9eWUobi5kYXRhLG4uY29udGVudF90eXBlKX0pKX0pKX0odCksdH19ZnVuY3Rpb24gcChlLHQsbixyKXt2YXIgbz10W2VdO3ZvaWQgMCE9PW8mJihyJiYobz1lbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkobykpKSxuLnB1c2goZSsiPSIrbykpfWZ1bmN0aW9uIHYoZSl7aWYodm9pZCAwIT09ZSl7dmFyIHQ9TnVtYmVyKGUpO3JldHVybiBpc05hTih0KXx8dCE9PXBhcnNlSW50KGUsMTApP2U6dH19ZnVuY3Rpb24geShlLHQpe3ZhciBuPWUuZGVzY2VuZGluZz8iZW5ka2V5Ijoic3RhcnRrZXkiLHI9ZS5kZXNjZW5kaW5nPyJzdGFydGtleSI6ImVuZGtleSI7aWYodm9pZCAwIT09ZVtuXSYmdm9pZCAwIT09ZVtyXSYmdXQoZVtuXSxlW3JdKT4wKXRocm93IG5ldyB2bigiTm8gcm93cyBjYW4gbWF0Y2ggeW91ciBrZXkgcmFuZ2UsIHJldmVyc2UgeW91ciBzdGFydF9rZXkgYW5kIGVuZF9rZXkgb3Igc2V0IHtkZXNjZW5kaW5nIDogdHJ1ZX0iKTtpZih0LnJlZHVjZSYmITEhPT1lLnJlZHVjZSl7aWYoZS5pbmNsdWRlX2RvY3MpdGhyb3cgbmV3IHZuKCJ7aW5jbHVkZV9kb2NzOnRydWV9IGlzIGludmFsaWQgZm9yIHJlZHVjZSIpO2lmKGUua2V5cyYmZS5rZXlzLmxlbmd0aD4xJiYhZS5ncm91cCYmIWUuZ3JvdXBfbGV2ZWwpdGhyb3cgbmV3IHZuKCJNdWx0aS1rZXkgZmV0Y2hlcyBmb3IgcmVkdWNlIHZpZXdzIG11c3QgdXNlIHtncm91cDogdHJ1ZX0iKX1bImdyb3VwX2xldmVsIiwibGltaXQiLCJza2lwIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIG49ZnVuY3Rpb24oZSl7aWYoZSl7aWYoIm51bWJlciIhPXR5cGVvZiBlKXJldHVybiBuZXcgdm4oJ0ludmFsaWQgdmFsdWUgZm9yIGludGVnZXI6ICInK2UrJyInKTtpZihlPDApcmV0dXJuIG5ldyB2bignSW52YWxpZCB2YWx1ZSBmb3IgcG9zaXRpdmUgaW50ZWdlcjogIicrZSsnIicpfX0oZVt0XSk7aWYobil0aHJvdyBufSkpfWZ1bmN0aW9uIGcoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKDQwND09PXQuc3RhdHVzKXJldHVybiBlO3Rocm93IHR9fWZ1bmN0aW9uIF8oZSx0LG4pe3ZhciByPSJfbG9jYWwvZG9jXyIrZSxpPXtfaWQ6cixrZXlzOltdfSxzPW4uZ2V0KGUpLGE9c1swXTtyZXR1cm4oZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLmxlbmd0aCYmL14xLS8udGVzdChlWzBdLnJldil9KHNbMV0pP1Byb21pc2UucmVzb2x2ZShpKTp0LmRiLmdldChyKS5jYXRjaChnKGkpKSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlLmtleXMubGVuZ3RoP3QuZGIuYWxsRG9jcyh7a2V5czplLmtleXMsaW5jbHVkZV9kb2NzOiEwfSk6UHJvbWlzZS5yZXNvbHZlKHtyb3dzOltdfSl9KGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXSxyPW5ldyBvLGk9MCxzPXQucm93cy5sZW5ndGg7aTxzO2krKyl7dmFyIHU9dC5yb3dzW2ldLmRvYztpZih1JiYobi5wdXNoKHUpLHIuYWRkKHUuX2lkKSx1Ll9kZWxldGVkPSFhLmhhcyh1Ll9pZCksIXUuX2RlbGV0ZWQpKXt2YXIgYz1hLmdldCh1Ll9pZCk7InZhbHVlImluIGMmJih1LnZhbHVlPWMudmFsdWUpfX12YXIgZj13bihhKTtyZXR1cm4gZi5mb3JFYWNoKChmdW5jdGlvbihlKXtpZighci5oYXMoZSkpe3ZhciB0PXtfaWQ6ZX0sbz1hLmdldChlKTsidmFsdWUiaW4gbyYmKHQudmFsdWU9by52YWx1ZSksbi5wdXNoKHQpfX0pKSxlLmtleXM9Ym4oZi5jb25jYXQoZS5rZXlzKSksbi5wdXNoKGUpLG59KGUsdCl9KSl9KSl9ZnVuY3Rpb24gbShlKXt2YXIgdD0ic3RyaW5nIj09dHlwZW9mIGU/ZTplLm5hbWUsbj1Qblt0XTtyZXR1cm4gbnx8KG49UG5bdF09bmV3IHhuKSxufWZ1bmN0aW9uIGIoZSl7cmV0dXJuIG1uKG0oZSksKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuLHI7dmFyIG89dChlLm1hcEZ1biwoZnVuY3Rpb24oZSx0KXt2YXIgbz17aWQ6ci5faWQsa2V5OmN0KGUpfTtudWxsIT10JiYoby52YWx1ZT1jdCh0KSksbi5wdXNoKG8pfSkpLHM9ZS5zZXF8fDA7ZnVuY3Rpb24gdSh0LG4pe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQsbil7cmV0dXJuIGUuZGIuZ2V0KCJfbG9jYWwvbGFzdFNlcSIpLmNhdGNoKGcoe19pZDoiX2xvY2FsL2xhc3RTZXEiLHNlcTowfSkpLnRoZW4oKGZ1bmN0aW9uKHIpe3ZhciBvPXduKHQpO3JldHVybiBQcm9taXNlLmFsbChvLm1hcCgoZnVuY3Rpb24obil7cmV0dXJuIF8obixlLHQpfSkpKS50aGVuKChmdW5jdGlvbih0KXt2YXIgbz1lZSh0KTtyZXR1cm4gci5zZXE9bixvLnB1c2gociksZS5kYi5idWxrRG9jcyh7ZG9jczpvfSl9KSl9KSl9KGUsdCxuKX19dmFyIGY9bmV3IHhuO2Z1bmN0aW9uIGwoKXtyZXR1cm4gZS5zb3VyY2VEQi5jaGFuZ2VzKHtyZXR1cm5fZG9jczohMCxjb25mbGljdHM6ITAsaW5jbHVkZV9kb2NzOiEwLHN0eWxlOiJhbGxfZG9jcyIsc2luY2U6cyxsaW1pdDo1MH0pLnRoZW4oZCl9ZnVuY3Rpb24gZCh0KXt2YXIgZD10LnJlc3VsdHM7aWYoZC5sZW5ndGgpe3ZhciBwPWZ1bmN0aW9uKHQpe2Zvcih2YXIgdT1uZXcgaSxmPTAsbD10Lmxlbmd0aDtmPGw7ZisrKXt2YXIgZD10W2ZdO2lmKCJfIiE9PWQuZG9jLl9pZFswXSl7bj1bXSwocj1kLmRvYykuX2RlbGV0ZWR8fGEoZS5zb3VyY2VEQixvLHIpLG4uc29ydChjKTt2YXIgcD1oKG4pO3Uuc2V0KGQuZG9jLl9pZCxbcCxkLmNoYW5nZXNdKX1zPWQuc2VxfXJldHVybiB1fShkKTtpZihmLmFkZCh1KHAscykpLCEoZC5sZW5ndGg8NTApKXJldHVybiBsKCl9fWZ1bmN0aW9uIGgoZSl7Zm9yKHZhciB0LG49bmV3IGkscj0wLG89ZS5sZW5ndGg7cjxvO3IrKyl7dmFyIHM9ZVtyXSxhPVtzLmtleSxzLmlkXTtyPjAmJjA9PT11dChzLmtleSx0KSYmYS5wdXNoKHIpLG4uc2V0KGx0KGEpLHMpLHQ9cy5rZXl9cmV0dXJuIG59cmV0dXJuIGwoKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBmLmZpbmlzaCgpfSkpLnRoZW4oKGZ1bmN0aW9uKCl7ZS5zZXE9c30pKX0oZSl9KSkoKX1mdW5jdGlvbiB3KGUsdCl7cmV0dXJuIG1uKG0oZSksKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIHIsbz1lLnJlZHVjZUZ1biYmITEhPT10LnJlZHVjZSxzPXQuc2tpcHx8MDt2b2lkIDA9PT10LmtleXN8fHQua2V5cy5sZW5ndGh8fCh0LmxpbWl0PTAsZGVsZXRlIHQua2V5cyk7ZnVuY3Rpb24gYSh0KXtyZXR1cm4gdC5pbmNsdWRlX2RvY3M9ITAsZS5kYi5hbGxEb2NzKHQpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiByPWUudG90YWxfcm93cyxlLnJvd3MubWFwKChmdW5jdGlvbihlKXtpZigidmFsdWUiaW4gZS5kb2MmJiJvYmplY3QiPT10eXBlb2YgZS5kb2MudmFsdWUmJm51bGwhPT1lLmRvYy52YWx1ZSl7dmFyIHQ9T2JqZWN0LmtleXMoZS5kb2MudmFsdWUpLnNvcnQoKSxuPVsiaWQiLCJrZXkiLCJ2YWx1ZSJdO2lmKCEodDxufHx0Pm4pKXJldHVybiBlLmRvYy52YWx1ZX12YXIgcj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj1bXSxyPTA7Oyl7dmFyIG89ZVtyKytdO2lmKCJcMCIhPT1vKXN3aXRjaChvKXtjYXNlIjEiOnQucHVzaChudWxsKTticmVhaztjYXNlIjIiOnQucHVzaCgiMSI9PT1lW3JdKSxyKys7YnJlYWs7Y2FzZSIzIjp2YXIgaT1kdChlLHIpO3QucHVzaChpLm51bSkscis9aS5sZW5ndGg7YnJlYWs7Y2FzZSI0Ijpmb3IodmFyIHM9IiI7Oyl7dmFyIGE9ZVtyXTtpZigiXDAiPT09YSlicmVhaztzKz1hLHIrK31zPXMucmVwbGFjZSgvXHUwMDAxXHUwMDAxL2csIlwwIikucmVwbGFjZSgvXHUwMDAxXHUwMDAyL2csIgEiKS5yZXBsYWNlKC9cdTAwMDJcdTAwMDIvZywiAiIpLHQucHVzaChzKTticmVhaztjYXNlIjUiOnZhciB1PXtlbGVtZW50OltdLGluZGV4OnQubGVuZ3RofTt0LnB1c2godS5lbGVtZW50KSxuLnB1c2godSk7YnJlYWs7Y2FzZSI2Ijp2YXIgYz17ZWxlbWVudDp7fSxpbmRleDp0Lmxlbmd0aH07dC5wdXNoKGMuZWxlbWVudCksbi5wdXNoKGMpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJiYWQgY29sbGF0aW9uSW5kZXggb3IgdW5leHBlY3RlZGx5IHJlYWNoZWQgZW5kIG9mIGlucHV0OiAiK28pfWVsc2V7aWYoMT09PXQubGVuZ3RoKXJldHVybiB0LnBvcCgpO2h0KHQsbil9fX0oZS5kb2MuX2lkKTtyZXR1cm57a2V5OnJbMF0saWQ6clsxXSx2YWx1ZToidmFsdWUiaW4gZS5kb2M/ZS5kb2MudmFsdWU6bnVsbH19KSl9KSl9ZnVuY3Rpb24gYyhhKXt2YXIgYztpZihjPW8/ZnVuY3Rpb24oZSx0LHIpezA9PT1yLmdyb3VwX2xldmVsJiZkZWxldGUgci5ncm91cF9sZXZlbDt2YXIgbz1yLmdyb3VwfHxyLmdyb3VwX2xldmVsLGk9bihlLnJlZHVjZUZ1bikscz1bXSxhPWlzTmFOKHIuZ3JvdXBfbGV2ZWwpP051bWJlci5QT1NJVElWRV9JTkZJTklUWTpyLmdyb3VwX2xldmVsO3QuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9c1tzLmxlbmd0aC0xXSxuPW8/ZS5rZXk6bnVsbDtpZihvJiZBcnJheS5pc0FycmF5KG4pJiYobj1uLnNsaWNlKDAsYSkpLHQmJjA9PT11dCh0Lmdyb3VwS2V5LG4pKXJldHVybiB0LmtleXMucHVzaChbZS5rZXksZS5pZF0pLHZvaWQgdC52YWx1ZXMucHVzaChlLnZhbHVlKTtzLnB1c2goe2tleXM6W1tlLmtleSxlLmlkXV0sdmFsdWVzOltlLnZhbHVlXSxncm91cEtleTpufSl9KSksdD1bXTtmb3IodmFyIGM9MCxmPXMubGVuZ3RoO2M8ZjtjKyspe3ZhciBkPXNbY10saD11KGUuc291cmNlREIsaSxkLmtleXMsZC52YWx1ZXMsITEpO2lmKGguZXJyb3ImJmguZXJyb3IgaW5zdGFuY2VvZiBnbil0aHJvdyBoLmVycm9yO3QucHVzaCh7dmFsdWU6aC5lcnJvcj9udWxsOmgub3V0cHV0LGtleTpkLmdyb3VwS2V5fSl9cmV0dXJue3Jvd3M6bCh0LHIubGltaXQsci5za2lwKX19KGUsYSx0KTp7dG90YWxfcm93czpyLG9mZnNldDpzLHJvd3M6YX0sdC51cGRhdGVfc2VxJiYoYy51cGRhdGVfc2VxPWUuc2VxKSx0LmluY2x1ZGVfZG9jcyl7dmFyIGY9Ym4oYS5tYXAoZCkpO3JldHVybiBlLnNvdXJjZURCLmFsbERvY3Moe2tleXM6ZixpbmNsdWRlX2RvY3M6ITAsY29uZmxpY3RzOnQuY29uZmxpY3RzLGF0dGFjaG1lbnRzOnQuYXR0YWNobWVudHMsYmluYXJ5OnQuYmluYXJ5fSkudGhlbigoZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGk7cmV0dXJuIGUucm93cy5mb3JFYWNoKChmdW5jdGlvbihlKXt0LnNldChlLmlkLGUuZG9jKX0pKSxhLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWQoZSkscj10LmdldChuKTtyJiYoZS5kb2M9cil9KSksY30pKX1yZXR1cm4gY31pZih2b2lkIDAhPT10LmtleXMpe3ZhciBmPXQua2V5cy5tYXAoKGZ1bmN0aW9uKGUpe3ZhciBuPXtzdGFydGtleTpsdChbZV0pLGVuZGtleTpsdChbZSx7fV0pfTtyZXR1cm4gdC51cGRhdGVfc2VxJiYobi51cGRhdGVfc2VxPSEwKSxhKG4pfSkpO3JldHVybiBQcm9taXNlLmFsbChmKS50aGVuKGVlKS50aGVuKGMpfXZhciBoLHAsdj17ZGVzY2VuZGluZzp0LmRlc2NlbmRpbmd9O2lmKHQudXBkYXRlX3NlcSYmKHYudXBkYXRlX3NlcT0hMCksInN0YXJ0X2tleSJpbiB0JiYoaD10LnN0YXJ0X2tleSksInN0YXJ0a2V5ImluIHQmJihoPXQuc3RhcnRrZXkpLCJlbmRfa2V5ImluIHQmJihwPXQuZW5kX2tleSksImVuZGtleSJpbiB0JiYocD10LmVuZGtleSksdm9pZCAwIT09aCYmKHYuc3RhcnRrZXk9dC5kZXNjZW5kaW5nP2x0KFtoLHt9XSk6bHQoW2hdKSksdm9pZCAwIT09cCl7dmFyIHk9ITEhPT10LmluY2x1c2l2ZV9lbmQ7dC5kZXNjZW5kaW5nJiYoeT0heSksdi5lbmRrZXk9bHQoeT9bcCx7fV06W3BdKX1pZih2b2lkIDAhPT10LmtleSl7dmFyIGc9bHQoW3Qua2V5XSksXz1sdChbdC5rZXkse31dKTt2LmRlc2NlbmRpbmc/KHYuZW5ka2V5PWcsdi5zdGFydGtleT1fKToodi5zdGFydGtleT1nLHYuZW5ka2V5PV8pfXJldHVybiBvfHwoIm51bWJlciI9PXR5cGVvZiB0LmxpbWl0JiYodi5saW1pdD10LmxpbWl0KSx2LnNraXA9cyksYSh2KS50aGVuKGMpfShlLHQpfSkpKCl9ZnVuY3Rpb24gayh0LG4sbyl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQuX3F1ZXJ5KXJldHVybiBmdW5jdGlvbihlLHQsbil7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLG8pe2UuX3F1ZXJ5KHQsbiwoZnVuY3Rpb24oZSx0KXtpZihlKXJldHVybiBvKGUpO3IodCl9KSl9KSl9KHQsbixvKTtpZihuZSh0KSlyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxzPVtdLGE9IkdFVCI7aWYocCgicmVkdWNlIixuLHMpLHAoImluY2x1ZGVfZG9jcyIsbixzKSxwKCJhdHRhY2htZW50cyIsbixzKSxwKCJsaW1pdCIsbixzKSxwKCJkZXNjZW5kaW5nIixuLHMpLHAoImdyb3VwIixuLHMpLHAoImdyb3VwX2xldmVsIixuLHMpLHAoInNraXAiLG4scykscCgic3RhbGUiLG4scykscCgiY29uZmxpY3RzIixuLHMpLHAoInN0YXJ0a2V5IixuLHMsITApLHAoInN0YXJ0X2tleSIsbixzLCEwKSxwKCJlbmRrZXkiLG4scywhMCkscCgiZW5kX2tleSIsbixzLCEwKSxwKCJpbmNsdXNpdmVfZW5kIixuLHMpLHAoImtleSIsbixzLCEwKSxwKCJ1cGRhdGVfc2VxIixuLHMpLHM9IiI9PT0ocz1zLmpvaW4oIiYiKSk/IiI6Ij8iK3Msdm9pZCAwIT09bi5rZXlzKXt2YXIgdT0ia2V5cz0iK2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShuLmtleXMpKTt1Lmxlbmd0aCtzLmxlbmd0aCsxPD0yZTM/cys9KCI/Ij09PXNbMF0/IiYiOiI/IikrdTooYT0iUE9TVCIsInN0cmluZyI9PXR5cGVvZiB0P3I9e2tleXM6bi5rZXlzfTp0LmtleXM9bi5rZXlzKX1pZigic3RyaW5nIj09dHlwZW9mIHQpe3ZhciBjPURuKHQpO3JldHVybiBlLmZldGNoKCJfZGVzaWduLyIrY1swXSsiL192aWV3LyIrY1sxXStzLHtoZWFkZXJzOm5ldyBaZSh7IkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL2pzb24ifSksbWV0aG9kOmEsYm9keTpKU09OLnN0cmluZ2lmeShyKX0pLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBvPWUub2ssaT1lLnN0YXR1cyxlLmpzb24oKX0pKS50aGVuKChmdW5jdGlvbihlKXtpZighbyl0aHJvdyBlLnN0YXR1cz1pLFgoZSk7cmV0dXJuIGUucm93cy5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlLnZhbHVlJiZlLnZhbHVlLmVycm9yJiYiYnVpbHRpbl9yZWR1Y2VfZXJyb3IiPT09ZS52YWx1ZS5lcnJvcil0aHJvdyBuZXcgRXJyb3IoZS5yZWFzb24pfSkpLGV9KSkudGhlbihoKG4pKX1yZXR1cm4gcj1yfHx7fSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXtBcnJheS5pc0FycmF5KHRbZV0pP3JbZV09dFtlXTpyW2VdPXRbZV0udG9TdHJpbmcoKX0pKSxlLmZldGNoKCJfdGVtcF92aWV3IitzLHtoZWFkZXJzOm5ldyBaZSh7IkNvbnRlbnQtVHlwZSI6ImFwcGxpY2F0aW9uL2pzb24ifSksbWV0aG9kOiJQT1NUIixib2R5OkpTT04uc3RyaW5naWZ5KHIpfSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIG89ZS5vayxpPWUuc3RhdHVzLGUuanNvbigpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe2lmKCFvKXRocm93IGUuc3RhdHVzPWksWChlKTtyZXR1cm4gZX0pKS50aGVuKGgobikpfSh0LG4sbyk7aWYoInN0cmluZyIhPXR5cGVvZiBuKXJldHVybiB5KG8sbiksTG4uYWRkKChmdW5jdGlvbigpe3JldHVybiBDbih0LCJ0ZW1wX3ZpZXcvdGVtcF92aWV3IixuLm1hcCxuLnJlZHVjZSwhMCxlKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gdD1iKGUpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHcoZSxvKX0pKSxuPWZ1bmN0aW9uKCl7cmV0dXJuIGUuZGIuZGVzdHJveSgpfSx0LnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBuKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gZX0pKX0pLChmdW5jdGlvbihlKXtyZXR1cm4gbigpLnRoZW4oKGZ1bmN0aW9uKCl7dGhyb3cgZX0pKX0pKTt2YXIgdCxufSkpfSkpLExuLmZpbmlzaCgpO3ZhciBpPW4sYT1EbihpKSx1PWFbMF0sYz1hWzFdO3JldHVybiB0LmdldCgiX2Rlc2lnbi8iK3UpLnRoZW4oKGZ1bmN0aW9uKG4pe3ZhciBhPW4udmlld3MmJm4udmlld3NbY107aWYoIWEpdGhyb3cgbmV3IHluKCJkZG9jICIrbi5faWQrIiBoYXMgbm8gdmlldyBuYW1lZCAiK2MpO3JldHVybiByKG4sYykseShvLGEpLENuKHQsaSxhLm1hcCxhLnJlZHVjZSwhMSxlKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4ib2siPT09by5zdGFsZXx8InVwZGF0ZV9hZnRlciI9PT1vLnN0YWxlPygidXBkYXRlX2FmdGVyIj09PW8uc3RhbGUmJnMoKGZ1bmN0aW9uKCl7YihlKX0pKSx3KGUsbykpOmIoZSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gdyhlLG8pfSkpfSkpfSkpfXZhciBqO3JldHVybntxdWVyeTpmdW5jdGlvbihlLHQsbil7dmFyIHI9dGhpczsiZnVuY3Rpb24iPT10eXBlb2YgdCYmKG49dCx0PXt9KSx0PXQ/ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ3JvdXBfbGV2ZWw9dihlLmdyb3VwX2xldmVsKSxlLmxpbWl0PXYoZS5saW1pdCksZS5za2lwPXYoZS5za2lwKSxlfSh0KTp7fSwiZnVuY3Rpb24iPT10eXBlb2YgZSYmKGU9e21hcDplfSk7dmFyIG89UHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gayhyLGUsdCl9KSk7cmV0dXJuIF9uKG8sbiksb30sdmlld0NsZWFudXA6KGo9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0Ll92aWV3Q2xlYW51cD9mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsbil7ZS5fdmlld0NsZWFudXAoKGZ1bmN0aW9uKGUscil7aWYoZSlyZXR1cm4gbihlKTt0KHIpfSkpfSkpfSh0KTpuZSh0KT9mdW5jdGlvbihlKXtyZXR1cm4gZS5mZXRjaCgiX3ZpZXdfY2xlYW51cCIse2hlYWRlcnM6bmV3IFplKHsiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24vanNvbiJ9KSxtZXRob2Q6IlBPU1QifSkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuanNvbigpfSkpfSh0KTpmdW5jdGlvbih0KXtyZXR1cm4gdC5nZXQoIl9sb2NhbC8iK2UpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciBuPW5ldyBpO09iamVjdC5rZXlzKGUudmlld3MpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PURuKGUpLHI9Il9kZXNpZ24vIit0WzBdLGk9dFsxXSxzPW4uZ2V0KHIpO3N8fChzPW5ldyBvLG4uc2V0KHIscykpLHMuYWRkKGkpfSkpO3ZhciByPXtrZXlzOnduKG4pLGluY2x1ZGVfZG9jczohMH07cmV0dXJuIHQuYWxsRG9jcyhyKS50aGVuKChmdW5jdGlvbihyKXt2YXIgbz17fTtyLnJvd3MuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIHI9dC5rZXkuc3Vic3RyaW5nKDgpO24uZ2V0KHQua2V5KS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgaT1yKyIvIituO2Uudmlld3NbaV18fChpPW4pO3ZhciBzPU9iamVjdC5rZXlzKGUudmlld3NbaV0pLGE9dC5kb2MmJnQuZG9jLnZpZXdzJiZ0LmRvYy52aWV3c1tuXTtzLmZvckVhY2goKGZ1bmN0aW9uKGUpe29bZV09b1tlXXx8YX0pKX0pKX0pKTt2YXIgaT1PYmplY3Qua2V5cyhvKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFvW2VdfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG1uKG0oZSksKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0LmNvbnN0cnVjdG9yKGUsdC5fX29wdHMpLmRlc3Ryb3koKX0pKSgpfSkpO3JldHVybiBQcm9taXNlLmFsbChpKS50aGVuKChmdW5jdGlvbigpe3JldHVybntvazohMH19KSl9KSl9KSxnKHtvazohMH0pKX0odCl9LGYoKGZ1bmN0aW9uKGUpe3ZhciB0PWUucG9wKCksbj1qLmFwcGx5KHRoaXMsZSk7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHQmJl9uKG4sdCksbn0pKSl9fSgibXJ2aWV3cyIsKGZ1bmN0aW9uKGUsdCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUmJjI9PT1lLmxlbmd0aCl7dmFyIG49ZTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSx0KX19cmV0dXJuIFNuKGUudG9TdHJpbmcoKSx0KX0pLChmdW5jdGlvbihlKXt2YXIgdD1lLnRvU3RyaW5nKCksbj1mdW5jdGlvbihlKXtpZigvXl9zdW0vLnRlc3QoZSkpcmV0dXJuIEluO2lmKC9eX2NvdW50Ly50ZXN0KGUpKXJldHVybiBCbjtpZigvXl9zdGF0cy8udGVzdChlKSlyZXR1cm4gVG47aWYoL15fLy50ZXN0KGUpKXRocm93IG5ldyBFcnJvcihlKyIgaXMgbm90IGEgc3VwcG9ydGVkIHJlZHVjZSBmdW5jdGlvbi4iKX0odCk7cmV0dXJuIG58fFNuKHQpfSksKGZ1bmN0aW9uKGUsdCl7dmFyIG49ZS52aWV3cyYmZS52aWV3c1t0XTtpZigic3RyaW5nIiE9dHlwZW9mIG4ubWFwKXRocm93IG5ldyB5bigiZGRvYyAiK2UuX2lkKyIgaGFzIG5vIHN0cmluZyB2aWV3IG5hbWVkICIrdCsiLCBpbnN0ZWFkIGZvdW5kIG9iamVjdCBvZiB0eXBlOiAiK3R5cGVvZiBuLm1hcCl9KSk7dmFyIE1uPXtxdWVyeTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFJuLnF1ZXJ5LmNhbGwodGhpcyxlLHQsbil9LHZpZXdDbGVhbnVwOmZ1bmN0aW9uKGUpe3JldHVybiBSbi52aWV3Q2xlYW51cC5jYWxsKHRoaXMsZSl9fTtmdW5jdGlvbiBObihlKXtyZXR1cm4vXjEtLy50ZXN0KGUpfWZ1bmN0aW9uIFVuKGUsdCl7dmFyIG49T2JqZWN0LmtleXModC5fYXR0YWNobWVudHMpO3JldHVybiBQcm9taXNlLmFsbChuLm1hcCgoZnVuY3Rpb24obil7cmV0dXJuIGUuZ2V0QXR0YWNobWVudCh0Ll9pZCxuLHtyZXY6dC5fcmV2fSl9KSkpfWZ1bmN0aW9uIEZuKGUsdCxuLHIpe249YihuKTt2YXIgbz1bXSxpPSEwO2Z1bmN0aW9uIHModCl7cmV0dXJuIGUuYWxsRG9jcyh7a2V5czp0LGluY2x1ZGVfZG9jczohMCxjb25mbGljdHM6ITB9KS50aGVuKChmdW5jdGlvbihlKXtpZihyLmNhbmNlbGxlZCl0aHJvdyBuZXcgRXJyb3IoImNhbmNlbGxlZCIpO2Uucm93cy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdDtlLmRlbGV0ZWR8fCFlLmRvY3x8IU5uKGUudmFsdWUucmV2KXx8KHQ9ZS5kb2MsdC5fYXR0YWNobWVudHMmJk9iamVjdC5rZXlzKHQuX2F0dGFjaG1lbnRzKS5sZW5ndGg+MCl8fGZ1bmN0aW9uKGUpe3JldHVybiBlLl9jb25mbGljdHMmJmUuX2NvbmZsaWN0cy5sZW5ndGg+MH0oZS5kb2MpfHwoZS5kb2MuX2NvbmZsaWN0cyYmZGVsZXRlIGUuZG9jLl9jb25mbGljdHMsby5wdXNoKGUuZG9jKSxkZWxldGUgbltlLmlkXSl9KSl9KSl9cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9T2JqZWN0LmtleXMobikuZmlsdGVyKChmdW5jdGlvbihlKXt2YXIgdD1uW2VdLm1pc3Npbmc7cmV0dXJuIDE9PT10Lmxlbmd0aCYmTm4odFswXSl9KSk7aWYoZS5sZW5ndGg+MClyZXR1cm4gcyhlKX0pKS50aGVuKChmdW5jdGlvbigpe3ZhciBzPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihuKXtlW25dLm1pc3NpbmcuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5wdXNoKHtpZDpuLHJldjplfSl9KSl9KSkse2RvY3M6dCxyZXZzOiEwLGxhdGVzdDohMH19KG4pO2lmKHMuZG9jcy5sZW5ndGgpcmV0dXJuIGUuYnVsa0dldChzKS50aGVuKChmdW5jdGlvbihuKXtpZihyLmNhbmNlbGxlZCl0aHJvdyBuZXcgRXJyb3IoImNhbmNlbGxlZCIpO3JldHVybiBQcm9taXNlLmFsbChuLnJlc3VsdHMubWFwKChmdW5jdGlvbihuKXtyZXR1cm4gUHJvbWlzZS5hbGwobi5kb2NzLm1hcCgoZnVuY3Rpb24obil7dmFyIHI9bi5vaztyZXR1cm4gbi5lcnJvciYmKGk9ITEpLHImJnIuX2F0dGFjaG1lbnRzP2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1uZSh0KSYmIW5lKGUpLG89T2JqZWN0LmtleXMobi5fYXR0YWNobWVudHMpO3JldHVybiByP2UuZ2V0KG4uX2lkKS50aGVuKChmdW5jdGlvbihyKXtyZXR1cm4gUHJvbWlzZS5hbGwoby5tYXAoKGZ1bmN0aW9uKG8pe3JldHVybiBmdW5jdGlvbihlLHQsbil7cmV0dXJuIWUuX2F0dGFjaG1lbnRzfHwhZS5fYXR0YWNobWVudHNbbl18fGUuX2F0dGFjaG1lbnRzW25dLmRpZ2VzdCE9PXQuX2F0dGFjaG1lbnRzW25dLmRpZ2VzdH0ocixuLG8pP3QuZ2V0QXR0YWNobWVudChuLl9pZCxvKTplLmdldEF0dGFjaG1lbnQoci5faWQsbyl9KSkpfSkpLmNhdGNoKChmdW5jdGlvbihlKXtpZig0MDQhPT1lLnN0YXR1cyl0aHJvdyBlO3JldHVybiBVbih0LG4pfSkpOlVuKHQsbil9KHQsZSxyKS50aGVuKChmdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qua2V5cyhyLl9hdHRhY2htZW50cyk7cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSxuKXt2YXIgbz1yLl9hdHRhY2htZW50c1t0W25dXTtkZWxldGUgby5zdHViLGRlbGV0ZSBvLmxlbmd0aCxvLmRhdGE9ZX0pKSxyfSkpOnJ9KSkpfSkpKS50aGVuKChmdW5jdGlvbihlKXtvPW8uY29uY2F0KGVlKGUpLmZpbHRlcihCb29sZWFuKSl9KSl9KSl9KSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm57b2s6aSxkb2NzOm99fSkpfWZ1bmN0aW9uIEtuKGUsdCxuLHIsbyl7cmV0dXJuIGUuZ2V0KHQpLmNhdGNoKChmdW5jdGlvbihuKXtpZig0MDQ9PT1uLnN0YXR1cylyZXR1cm4iaHR0cCIhPT1lLmFkYXB0ZXImJiJodHRwcyIhPT1lLmFkYXB0ZXJ8fEQoNDA0LCJQb3VjaERCIGlzIGp1c3QgY2hlY2tpbmcgaWYgYSByZW1vdGUgY2hlY2twb2ludCBleGlzdHMuIikse3Nlc3Npb25faWQ6cixfaWQ6dCxoaXN0b3J5OltdLHJlcGxpY2F0b3I6InBvdWNoZGIiLHZlcnNpb246MX07dGhyb3cgbn0pKS50aGVuKChmdW5jdGlvbihpKXtpZighby5jYW5jZWxsZWQmJmkubGFzdF9zZXEhPT1uKXJldHVybiBpLmhpc3Rvcnk9KGkuaGlzdG9yeXx8W10pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2Vzc2lvbl9pZCE9PXJ9KSksaS5oaXN0b3J5LnVuc2hpZnQoe2xhc3Rfc2VxOm4sc2Vzc2lvbl9pZDpyfSksaS5oaXN0b3J5PWkuaGlzdG9yeS5zbGljZSgwLDUpLGkudmVyc2lvbj0xLGkucmVwbGljYXRvcj0icG91Y2hkYiIsaS5zZXNzaW9uX2lkPXIsaS5sYXN0X3NlcT1uLGUucHV0KGkpLmNhdGNoKChmdW5jdGlvbihpKXtpZig0MDk9PT1pLnN0YXR1cylyZXR1cm4gS24oZSx0LG4scixvKTt0aHJvdyBpfSkpfSkpfWZ1bmN0aW9uIEpuKGUsdCxuLHIsbyl7dGhpcy5zcmM9ZSx0aGlzLnRhcmdldD10LHRoaXMuaWQ9bix0aGlzLnJldHVyblZhbHVlPXIsdGhpcy5vcHRzPW98fHt9fUpuLnByb3RvdHlwZS53cml0ZUNoZWNrcG9pbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3JldHVybiB0aGlzLnVwZGF0ZVRhcmdldChlLHQpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIG4udXBkYXRlU291cmNlKGUsdCl9KSl9LEpuLnByb3RvdHlwZS51cGRhdGVUYXJnZXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5vcHRzLndyaXRlVGFyZ2V0Q2hlY2twb2ludD9Lbih0aGlzLnRhcmdldCx0aGlzLmlkLGUsdCx0aGlzLnJldHVyblZhbHVlKTpQcm9taXNlLnJlc29sdmUoITApfSxKbi5wcm90b3R5cGUudXBkYXRlU291cmNlPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5vcHRzLndyaXRlU291cmNlQ2hlY2twb2ludCl7dmFyIG49dGhpcztyZXR1cm4gS24odGhpcy5zcmMsdGhpcy5pZCxlLHQsdGhpcy5yZXR1cm5WYWx1ZSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2lmKEduKGUpKXJldHVybiBuLm9wdHMud3JpdGVTb3VyY2VDaGVja3BvaW50PSExLCEwO3Rocm93IGV9KSl9cmV0dXJuIFByb21pc2UucmVzb2x2ZSghMCl9O3ZhciB6bj17dW5kZWZpbmVkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA9PT11dChlLmxhc3Rfc2VxLHQubGFzdF9zZXEpP3QubGFzdF9zZXE6MH0sMTpmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihlLHQpe2lmKGUuc2Vzc2lvbl9pZD09PXQuc2Vzc2lvbl9pZClyZXR1cm57bGFzdF9zZXE6ZS5sYXN0X3NlcSxoaXN0b3J5OmUuaGlzdG9yeX07cmV0dXJuIGZ1bmN0aW9uIGUodCxuKXt2YXIgcj10WzBdLG89dC5zbGljZSgxKSxpPW5bMF0scz1uLnNsaWNlKDEpO2lmKCFyfHwwPT09bi5sZW5ndGgpcmV0dXJue2xhc3Rfc2VxOjAsaGlzdG9yeTpbXX07aWYoVm4oci5zZXNzaW9uX2lkLG4pKXJldHVybntsYXN0X3NlcTpyLmxhc3Rfc2VxLGhpc3Rvcnk6dH07aWYoVm4oaS5zZXNzaW9uX2lkLG8pKXJldHVybntsYXN0X3NlcTppLmxhc3Rfc2VxLGhpc3Rvcnk6c307cmV0dXJuIGUobyxzKX0oZS5oaXN0b3J5LHQuaGlzdG9yeSl9KHQsZSkubGFzdF9zZXF9fTtmdW5jdGlvbiBWbihlLHQpe3ZhciBuPXRbMF0scj10LnNsaWNlKDEpO3JldHVybiEoIWV8fDA9PT10Lmxlbmd0aCkmJihlPT09bi5zZXNzaW9uX2lkfHxWbihlLHIpKX1mdW5jdGlvbiBHbihlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGUuc3RhdHVzJiY0PT09TWF0aC5mbG9vcihlLnN0YXR1cy8xMDApfUpuLnByb3RvdHlwZS5nZXRDaGVja3BvaW50PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gZS5vcHRzJiZlLm9wdHMud3JpdGVTb3VyY2VDaGVja3BvaW50JiYhZS5vcHRzLndyaXRlVGFyZ2V0Q2hlY2twb2ludD9lLnNyYy5nZXQoZS5pZCkudGhlbigoZnVuY3Rpb24oZSl7cmV0dXJuIGUubGFzdF9zZXF8fDB9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2lmKDQwNCE9PWUuc3RhdHVzKXRocm93IGU7cmV0dXJuIDB9KSk6ZS50YXJnZXQuZ2V0KGUuaWQpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBlLm9wdHMmJmUub3B0cy53cml0ZVRhcmdldENoZWNrcG9pbnQmJiFlLm9wdHMud3JpdGVTb3VyY2VDaGVja3BvaW50P3QubGFzdF9zZXF8fDA6ZS5zcmMuZ2V0KGUuaWQpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiB0LnZlcnNpb24hPT1lLnZlcnNpb24/MDoobj10LnZlcnNpb24/dC52ZXJzaW9uLnRvU3RyaW5nKCk6InVuZGVmaW5lZCIpaW4gem4/em5bbl0odCxlKTowO3ZhciBufSksKGZ1bmN0aW9uKG4pe2lmKDQwND09PW4uc3RhdHVzJiZ0Lmxhc3Rfc2VxKXJldHVybiBlLnNyYy5wdXQoe19pZDplLmlkLGxhc3Rfc2VxOjB9KS50aGVuKChmdW5jdGlvbigpe3JldHVybiAwfSksKGZ1bmN0aW9uKG4pe3JldHVybiBHbihuKT8oZS5vcHRzLndyaXRlU291cmNlQ2hlY2twb2ludD0hMSx0Lmxhc3Rfc2VxKTowfSkpO3Rocm93IG59KSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe2lmKDQwNCE9PWUuc3RhdHVzKXRocm93IGU7cmV0dXJuIDB9KSl9O2Z1bmN0aW9uIFFuKGUsdCxuKXt2YXIgcj1uLmRvY19pZHM/bi5kb2NfaWRzLnNvcnQodXQpOiIiLG89bi5maWx0ZXI/bi5maWx0ZXIudG9TdHJpbmcoKToiIixpPSIiLHM9IiIsYT0iIjtyZXR1cm4gbi5zZWxlY3RvciYmKGE9SlNPTi5zdHJpbmdpZnkobi5zZWxlY3RvcikpLG4uZmlsdGVyJiZuLnF1ZXJ5X3BhcmFtcyYmKGk9SlNPTi5zdHJpbmdpZnkoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLnNvcnQodXQpLnJlZHVjZSgoZnVuY3Rpb24odCxuKXtyZXR1cm4gdFtuXT1lW25dLHR9KSx7fSl9KG4ucXVlcnlfcGFyYW1zKSkpLG4uZmlsdGVyJiYiX3ZpZXciPT09bi5maWx0ZXImJihzPW4udmlldy50b1N0cmluZygpKSxQcm9taXNlLmFsbChbZS5pZCgpLHQuaWQoKV0pLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0rZVsxXStvK3MraStyK2E7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtqZSh0LGUpfSkpfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiJfbG9jYWwvIisoZT1lLnJlcGxhY2UoL1wvL2csIi4iKS5yZXBsYWNlKC9cKy9nLCJfIikpfSkpfWZ1bmN0aW9uIFduKGUsdCxuLHIsbyl7dmFyIGksYSx1LGM9W10sZj17c2VxOjAsY2hhbmdlczpbXSxkb2NzOltdfSxsPSExLGQ9ITEsaD0hMSxwPTAsdj1uLmNvbnRpbnVvdXN8fG4ubGl2ZXx8ITEseT1uLmJhdGNoX3NpemV8fDEwMCxnPW4uYmF0Y2hlc19saW1pdHx8MTAsXz0hMSxtPW4uZG9jX2lkcyx3PW4uc2VsZWN0b3Isaz1bXSxqPUFlKCk7bz1vfHx7b2s6ITAsc3RhcnRfdGltZToobmV3IERhdGUpLnRvSVNPU3RyaW5nKCksZG9jc19yZWFkOjAsZG9jc193cml0dGVuOjAsZG9jX3dyaXRlX2ZhaWx1cmVzOjAsZXJyb3JzOltdfTt2YXIgcT17fTtmdW5jdGlvbiBPKCl7cmV0dXJuIHU/UHJvbWlzZS5yZXNvbHZlKCk6UW4oZSx0LG4pLnRoZW4oKGZ1bmN0aW9uKG8pe2E9bzt2YXIgaT17fTtpPSExPT09bi5jaGVja3BvaW50P3t3cml0ZVNvdXJjZUNoZWNrcG9pbnQ6ITEsd3JpdGVUYXJnZXRDaGVja3BvaW50OiExfToic291cmNlIj09PW4uY2hlY2twb2ludD97d3JpdGVTb3VyY2VDaGVja3BvaW50OiEwLHdyaXRlVGFyZ2V0Q2hlY2twb2ludDohMX06InRhcmdldCI9PT1uLmNoZWNrcG9pbnQ/e3dyaXRlU291cmNlQ2hlY2twb2ludDohMSx3cml0ZVRhcmdldENoZWNrcG9pbnQ6ITB9Ont3cml0ZVNvdXJjZUNoZWNrcG9pbnQ6ITAsd3JpdGVUYXJnZXRDaGVja3BvaW50OiEwfSx1PW5ldyBKbihlLHQsYSxyLGkpfSkpfWZ1bmN0aW9uIEEoKXtpZihrPVtdLDAhPT1pLmRvY3MubGVuZ3RoKXt2YXIgZT1pLmRvY3Mscz17dGltZW91dDpuLnRpbWVvdXR9O3JldHVybiB0LmJ1bGtEb2NzKHtkb2NzOmUsbmV3X2VkaXRzOiExfSxzKS50aGVuKChmdW5jdGlvbih0KXtpZihyLmNhbmNlbGxlZCl0aHJvdyBEKCksbmV3IEVycm9yKCJjYW5jZWxsZWQiKTt2YXIgbj1PYmplY3QuY3JlYXRlKG51bGwpO3QuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5lcnJvciYmKG5bZS5pZF09ZSl9KSk7dmFyIGk9T2JqZWN0LmtleXMobikubGVuZ3RoO28uZG9jX3dyaXRlX2ZhaWx1cmVzKz1pLG8uZG9jc193cml0dGVuKz1lLmxlbmd0aC1pLGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9bltlLl9pZF07aWYodCl7by5lcnJvcnMucHVzaCh0KTt2YXIgaT0odC5uYW1lfHwiIikudG9Mb3dlckNhc2UoKTtpZigidW5hdXRob3JpemVkIiE9PWkmJiJmb3JiaWRkZW4iIT09aSl0aHJvdyB0O3IuZW1pdCgiZGVuaWVkIixiKHQpKX1lbHNlIGsucHVzaChlKX0pKX0pLChmdW5jdGlvbih0KXt0aHJvdyBvLmRvY193cml0ZV9mYWlsdXJlcys9ZS5sZW5ndGgsdH0pKX19ZnVuY3Rpb24gUygpe2lmKGkuZXJyb3IpdGhyb3cgbmV3IEVycm9yKCJUaGVyZSB3YXMgYSBwcm9ibGVtIGdldHRpbmcgZG9jcy4iKTtvLmxhc3Rfc2VxPXA9aS5zZXE7dmFyIGU9YihvKTtyZXR1cm4gay5sZW5ndGgmJihlLmRvY3M9aywibnVtYmVyIj09dHlwZW9mIGkucGVuZGluZyYmKGUucGVuZGluZz1pLnBlbmRpbmcsZGVsZXRlIGkucGVuZGluZyksci5lbWl0KCJjaGFuZ2UiLGUpKSxsPSEwLHUud3JpdGVDaGVja3BvaW50KGkuc2VxLGopLnRoZW4oKGZ1bmN0aW9uKCl7aWYobD0hMSxyLmNhbmNlbGxlZCl0aHJvdyBEKCksbmV3IEVycm9yKCJjYW5jZWxsZWQiKTtpPXZvaWQgMCxUKCl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3Rocm93IE0oZSksZX0pKX1mdW5jdGlvbiB4KCl7cmV0dXJuIEZuKGUsdCxpLmRpZmZzLHIpLnRoZW4oKGZ1bmN0aW9uKGUpe2kuZXJyb3I9IWUub2ssZS5kb2NzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2RlbGV0ZSBpLmRpZmZzW2UuX2lkXSxvLmRvY3NfcmVhZCsrLGkuZG9jcy5wdXNoKGUpfSkpfSkpfWZ1bmN0aW9uIEUoKXt2YXIgZTtyLmNhbmNlbGxlZHx8aXx8KDAhPT1jLmxlbmd0aD8oaT1jLnNoaWZ0KCksKGU9e30saS5jaGFuZ2VzLmZvckVhY2goKGZ1bmN0aW9uKHQpeyJfdXNlci8iIT09dC5pZCYmKGVbdC5pZF09dC5jaGFuZ2VzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmV2fSkpKX0pKSx0LnJldnNEaWZmKGUpLnRoZW4oKGZ1bmN0aW9uKGUpe2lmKHIuY2FuY2VsbGVkKXRocm93IEQoKSxuZXcgRXJyb3IoImNhbmNlbGxlZCIpO2kuZGlmZnM9ZX0pKSkudGhlbih4KS50aGVuKEEpLnRoZW4oUykudGhlbihFKS5jYXRjaCgoZnVuY3Rpb24oZSl7UCgiYmF0Y2ggcHJvY2Vzc2luZyB0ZXJtaW5hdGVkIHdpdGggZXJyb3IiLGUpfSkpKTpDKCEwKSl9ZnVuY3Rpb24gQyhlKXswIT09Zi5jaGFuZ2VzLmxlbmd0aD8oZXx8ZHx8Zi5jaGFuZ2VzLmxlbmd0aD49eSkmJihjLnB1c2goZiksZj17c2VxOjAsY2hhbmdlczpbXSxkb2NzOltdfSwicGVuZGluZyIhPT1yLnN0YXRlJiYic3RvcHBlZCIhPT1yLnN0YXRlfHwoci5zdGF0ZT0iYWN0aXZlIixyLmVtaXQoImFjdGl2ZSIpKSxFKCkpOjAhPT1jLmxlbmd0aHx8aXx8KCh2JiZxLmxpdmV8fGQpJiYoci5zdGF0ZT0icGVuZGluZyIsci5lbWl0KCJwYXVzZWQiKSksZCYmRCgpKX1mdW5jdGlvbiBQKGUsdCl7aHx8KHQubWVzc2FnZXx8KHQubWVzc2FnZT1lKSxvLm9rPSExLG8uc3RhdHVzPSJhYm9ydGluZyIsYz1bXSxmPXtzZXE6MCxjaGFuZ2VzOltdLGRvY3M6W119LEQodCkpfWZ1bmN0aW9uIEQoaSl7aWYoIShofHxyLmNhbmNlbGxlZCYmKG8uc3RhdHVzPSJjYW5jZWxsZWQiLGwpKSlpZihvLnN0YXR1cz1vLnN0YXR1c3x8ImNvbXBsZXRlIixvLmVuZF90aW1lPShuZXcgRGF0ZSkudG9JU09TdHJpbmcoKSxvLmxhc3Rfc2VxPXAsaD0hMCxpKXsoaT1IKGkpKS5yZXN1bHQ9bzt2YXIgcz0oaS5uYW1lfHwiIikudG9Mb3dlckNhc2UoKTsidW5hdXRob3JpemVkIj09PXN8fCJmb3JiaWRkZW4iPT09cz8oci5lbWl0KCJlcnJvciIsaSksci5yZW1vdmVBbGxMaXN0ZW5lcnMoKSk6ZnVuY3Rpb24oZSx0LG4scil7aWYoITE9PT1lLnJldHJ5KXJldHVybiB0LmVtaXQoImVycm9yIixuKSx2b2lkIHQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUuYmFja19vZmZfZnVuY3Rpb24mJihlLmJhY2tfb2ZmX2Z1bmN0aW9uPUwpLHQuZW1pdCgicmVxdWVzdEVycm9yIixuKSwiYWN0aXZlIj09PXQuc3RhdGV8fCJwZW5kaW5nIj09PXQuc3RhdGUpe3QuZW1pdCgicGF1c2VkIixuKSx0LnN0YXRlPSJzdG9wcGVkIjt2YXIgbz1mdW5jdGlvbigpe2UuY3VycmVudF9iYWNrX29mZj0wfTt0Lm9uY2UoInBhdXNlZCIsKGZ1bmN0aW9uKCl7dC5yZW1vdmVMaXN0ZW5lcigiYWN0aXZlIixvKX0pKSx0Lm9uY2UoImFjdGl2ZSIsbyl9ZS5jdXJyZW50X2JhY2tfb2ZmPWUuY3VycmVudF9iYWNrX29mZnx8MCxlLmN1cnJlbnRfYmFja19vZmY9ZS5iYWNrX29mZl9mdW5jdGlvbihlLmN1cnJlbnRfYmFja19vZmYpLHNldFRpbWVvdXQocixlLmN1cnJlbnRfYmFja19vZmYpfShuLHIsaSwoZnVuY3Rpb24oKXtXbihlLHQsbixyKX0pKX1lbHNlIHIuZW1pdCgiY29tcGxldGUiLG8pLHIucmVtb3ZlQWxsTGlzdGVuZXJzKCl9ZnVuY3Rpb24gJChlLHQsbyl7aWYoci5jYW5jZWxsZWQpcmV0dXJuIEQoKTsibnVtYmVyIj09dHlwZW9mIHQmJihmLnBlbmRpbmc9dCksWihuKShlKSYmKGYuc2VxPWUuc2VxfHxvLGYuY2hhbmdlcy5wdXNoKGUpLHMoKGZ1bmN0aW9uKCl7QygwPT09Yy5sZW5ndGgmJnEubGl2ZSl9KSkpfWZ1bmN0aW9uIEkoZSl7aWYoXz0hMSxyLmNhbmNlbGxlZClyZXR1cm4gRCgpO2lmKGUucmVzdWx0cy5sZW5ndGg+MClxLnNpbmNlPWUucmVzdWx0c1tlLnJlc3VsdHMubGVuZ3RoLTFdLnNlcSxUKCksQyghMCk7ZWxzZXt2YXIgdD1mdW5jdGlvbigpe3Y/KHEubGl2ZT0hMCxUKCkpOmQ9ITAsQyghMCl9O2l8fDAhPT1lLnJlc3VsdHMubGVuZ3RoP3QoKToobD0hMCx1LndyaXRlQ2hlY2twb2ludChlLmxhc3Rfc2VxLGopLnRoZW4oKGZ1bmN0aW9uKCl7bD0hMSxvLmxhc3Rfc2VxPXA9ZS5sYXN0X3NlcSx0KCl9KSkuY2F0Y2goTSkpfX1mdW5jdGlvbiBCKGUpe2lmKF89ITEsci5jYW5jZWxsZWQpcmV0dXJuIEQoKTtQKCJjaGFuZ2VzIHJlamVjdGVkIixlKX1mdW5jdGlvbiBUKCl7aWYoIV8mJiFkJiZjLmxlbmd0aDxnKXtfPSEwLHIuX2NoYW5nZXMmJihyLnJlbW92ZUxpc3RlbmVyKCJjYW5jZWwiLHIuX2Fib3J0Q2hhbmdlcyksci5fY2hhbmdlcy5jYW5jZWwoKSksci5vbmNlKCJjYW5jZWwiLG8pO3ZhciB0PWUuY2hhbmdlcyhxKS5vbigiY2hhbmdlIiwkKTt0LnRoZW4oaSxpKSx0LnRoZW4oSSkuY2F0Y2goQiksbi5yZXRyeSYmKHIuX2NoYW5nZXM9dCxyLl9hYm9ydENoYW5nZXM9byl9ZnVuY3Rpb24gbygpe3QuY2FuY2VsKCl9ZnVuY3Rpb24gaSgpe3IucmVtb3ZlTGlzdGVuZXIoImNhbmNlbCIsbyl9fWZ1bmN0aW9uIFIoKXtPKCkudGhlbigoZnVuY3Rpb24oKXtpZighci5jYW5jZWxsZWQpcmV0dXJuIHUuZ2V0Q2hlY2twb2ludCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3E9e3NpbmNlOnA9ZSxsaW1pdDp5LGJhdGNoX3NpemU6eSxzdHlsZToiYWxsX2RvY3MiLGRvY19pZHM6bSxzZWxlY3Rvcjp3LHJldHVybl9kb2NzOiEwfSxuLmZpbHRlciYmKCJzdHJpbmciIT10eXBlb2Ygbi5maWx0ZXI/cS5pbmNsdWRlX2RvY3M9ITA6cS5maWx0ZXI9bi5maWx0ZXIpLCJoZWFydGJlYXQiaW4gbiYmKHEuaGVhcnRiZWF0PW4uaGVhcnRiZWF0KSwidGltZW91dCJpbiBuJiYocS50aW1lb3V0PW4udGltZW91dCksbi5xdWVyeV9wYXJhbXMmJihxLnF1ZXJ5X3BhcmFtcz1uLnF1ZXJ5X3BhcmFtcyksbi52aWV3JiYocS52aWV3PW4udmlldyksVCgpfSkpO0QoKX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7UCgiZ2V0Q2hlY2twb2ludCByZWplY3RlZCB3aXRoICIsZSl9KSl9ZnVuY3Rpb24gTShlKXtsPSExLFAoIndyaXRlQ2hlY2twb2ludCBjb21wbGV0ZWQgd2l0aCBlcnJvciIsZSl9ci5yZWFkeShlLHQpLHIuY2FuY2VsbGVkP0QoKTooci5fYWRkZWRMaXN0ZW5lcnN8fChyLm9uY2UoImNhbmNlbCIsRCksImZ1bmN0aW9uIj09dHlwZW9mIG4uY29tcGxldGUmJihyLm9uY2UoImVycm9yIixuLmNvbXBsZXRlKSxyLm9uY2UoImNvbXBsZXRlIiwoZnVuY3Rpb24oZSl7bi5jb21wbGV0ZShudWxsLGUpfSkpKSxyLl9hZGRlZExpc3RlbmVycz0hMCksdm9pZCAwPT09bi5zaW5jZT9SKCk6TygpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIGw9ITAsdS53cml0ZUNoZWNrcG9pbnQobi5zaW5jZSxqKX0pKS50aGVuKChmdW5jdGlvbigpe2w9ITEsci5jYW5jZWxsZWQ/RCgpOihwPW4uc2luY2UsUigpKX0pKS5jYXRjaChNKSl9ZnVuY3Rpb24gWW4oKXtkLmNhbGwodGhpcyksdGhpcy5jYW5jZWxsZWQ9ITEsdGhpcy5zdGF0ZT0icGVuZGluZyI7dmFyIGU9dGhpcyx0PW5ldyBQcm9taXNlKChmdW5jdGlvbih0LG4pe2Uub25jZSgiY29tcGxldGUiLHQpLGUub25jZSgiZXJyb3IiLG4pfSkpO2UudGhlbj1mdW5jdGlvbihlLG4pe3JldHVybiB0LnRoZW4oZSxuKX0sZS5jYXRjaD1mdW5jdGlvbihlKXtyZXR1cm4gdC5jYXRjaChlKX0sZS5jYXRjaCgoZnVuY3Rpb24oKXt9KSl9ZnVuY3Rpb24gSG4oZSx0KXt2YXIgbj10LlBvdWNoQ29uc3RydWN0b3I7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlP25ldyBuKGUsdCk6ZX1mdW5jdGlvbiBYbihlLHQsbixyKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgbiYmKHI9bixuPXt9KSx2b2lkIDA9PT1uJiYobj17fSksbi5kb2NfaWRzJiYhQXJyYXkuaXNBcnJheShuLmRvY19pZHMpKXRocm93IEgoViwiYGRvY19pZHNgIGZpbHRlciBwYXJhbWV0ZXIgaXMgbm90IGEgbGlzdC4iKTtuLmNvbXBsZXRlPXIsKG49YihuKSkuY29udGludW91cz1uLmNvbnRpbnVvdXN8fG4ubGl2ZSxuLnJldHJ5PSJyZXRyeSJpbiBuJiZuLnJldHJ5LG4uUG91Y2hDb25zdHJ1Y3Rvcj1uLlBvdWNoQ29uc3RydWN0b3J8fHRoaXM7dmFyIG89bmV3IFluKG4pO3JldHVybiBXbihIbihlLG4pLEhuKHQsbiksbixvKSxvfWZ1bmN0aW9uIFpuKGUsdCxuLHIpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBuJiYocj1uLG49e30pLHZvaWQgMD09PW4mJihuPXt9KSwobj1iKG4pKS5Qb3VjaENvbnN0cnVjdG9yPW4uUG91Y2hDb25zdHJ1Y3Rvcnx8dGhpcyxuZXcgZXIoZT1IbihlLG4pLHQ9SG4odCxuKSxuLHIpfWZ1bmN0aW9uIGVyKGUsdCxuLHIpe3ZhciBvPXRoaXM7dGhpcy5jYW5jZWxlZD0hMTt2YXIgaT1uLnB1c2g/JCh7fSxuLG4ucHVzaCk6bixzPW4ucHVsbD8kKHt9LG4sbi5wdWxsKTpuO2Z1bmN0aW9uIGEoZSl7by5lbWl0KCJjaGFuZ2UiLHtkaXJlY3Rpb246InB1bGwiLGNoYW5nZTplfSl9ZnVuY3Rpb24gdShlKXtvLmVtaXQoImNoYW5nZSIse2RpcmVjdGlvbjoicHVzaCIsY2hhbmdlOmV9KX1mdW5jdGlvbiBjKGUpe28uZW1pdCgiZGVuaWVkIix7ZGlyZWN0aW9uOiJwdXNoIixkb2M6ZX0pfWZ1bmN0aW9uIGYoZSl7by5lbWl0KCJkZW5pZWQiLHtkaXJlY3Rpb246InB1bGwiLGRvYzplfSl9ZnVuY3Rpb24gbCgpe28ucHVzaFBhdXNlZD0hMCxvLnB1bGxQYXVzZWQmJm8uZW1pdCgicGF1c2VkIil9ZnVuY3Rpb24gZCgpe28ucHVsbFBhdXNlZD0hMCxvLnB1c2hQYXVzZWQmJm8uZW1pdCgicGF1c2VkIil9ZnVuY3Rpb24gaCgpe28ucHVzaFBhdXNlZD0hMSxvLnB1bGxQYXVzZWQmJm8uZW1pdCgiYWN0aXZlIix7ZGlyZWN0aW9uOiJwdXNoIn0pfWZ1bmN0aW9uIHAoKXtvLnB1bGxQYXVzZWQ9ITEsby5wdXNoUGF1c2VkJiZvLmVtaXQoImFjdGl2ZSIse2RpcmVjdGlvbjoicHVsbCJ9KX10aGlzLnB1c2g9WG4oZSx0LGkpLHRoaXMucHVsbD1Ybih0LGUscyksdGhpcy5wdXNoUGF1c2VkPSEwLHRoaXMucHVsbFBhdXNlZD0hMDt2YXIgdj17fTtmdW5jdGlvbiB5KGUpe3JldHVybiBmdW5jdGlvbih0LG4peygiY2hhbmdlIj09PXQmJihuPT09YXx8bj09PXUpfHwiZGVuaWVkIj09PXQmJihuPT09Znx8bj09PWMpfHwicGF1c2VkIj09PXQmJihuPT09ZHx8bj09PWwpfHwiYWN0aXZlIj09PXQmJihuPT09cHx8bj09PWgpKSYmKHQgaW4gdnx8KHZbdF09e30pLHZbdF1bZV09ITAsMj09PU9iamVjdC5rZXlzKHZbdF0pLmxlbmd0aCYmby5yZW1vdmVBbGxMaXN0ZW5lcnModCkpfX1mdW5jdGlvbiBnKGUsdCxuKXstMT09ZS5saXN0ZW5lcnModCkuaW5kZXhPZihuKSYmZS5vbih0LG4pfW4ubGl2ZSYmKHRoaXMucHVzaC5vbigiY29tcGxldGUiLG8ucHVsbC5jYW5jZWwuYmluZChvLnB1bGwpKSx0aGlzLnB1bGwub24oImNvbXBsZXRlIixvLnB1c2guY2FuY2VsLmJpbmQoby5wdXNoKSkpLHRoaXMub24oIm5ld0xpc3RlbmVyIiwoZnVuY3Rpb24oZSl7ImNoYW5nZSI9PT1lPyhnKG8ucHVsbCwiY2hhbmdlIixhKSxnKG8ucHVzaCwiY2hhbmdlIix1KSk6ImRlbmllZCI9PT1lPyhnKG8ucHVsbCwiZGVuaWVkIixmKSxnKG8ucHVzaCwiZGVuaWVkIixjKSk6ImFjdGl2ZSI9PT1lPyhnKG8ucHVsbCwiYWN0aXZlIixwKSxnKG8ucHVzaCwiYWN0aXZlIixoKSk6InBhdXNlZCI9PT1lJiYoZyhvLnB1bGwsInBhdXNlZCIsZCksZyhvLnB1c2gsInBhdXNlZCIsbCkpfSkpLHRoaXMub24oInJlbW92ZUxpc3RlbmVyIiwoZnVuY3Rpb24oZSl7ImNoYW5nZSI9PT1lPyhvLnB1bGwucmVtb3ZlTGlzdGVuZXIoImNoYW5nZSIsYSksby5wdXNoLnJlbW92ZUxpc3RlbmVyKCJjaGFuZ2UiLHUpKToiZGVuaWVkIj09PWU/KG8ucHVsbC5yZW1vdmVMaXN0ZW5lcigiZGVuaWVkIixmKSxvLnB1c2gucmVtb3ZlTGlzdGVuZXIoImRlbmllZCIsYykpOiJhY3RpdmUiPT09ZT8oby5wdWxsLnJlbW92ZUxpc3RlbmVyKCJhY3RpdmUiLHApLG8ucHVzaC5yZW1vdmVMaXN0ZW5lcigiYWN0aXZlIixoKSk6InBhdXNlZCI9PT1lJiYoby5wdWxsLnJlbW92ZUxpc3RlbmVyKCJwYXVzZWQiLGQpLG8ucHVzaC5yZW1vdmVMaXN0ZW5lcigicGF1c2VkIixsKSl9KSksdGhpcy5wdWxsLm9uKCJyZW1vdmVMaXN0ZW5lciIseSgicHVsbCIpKSx0aGlzLnB1c2gub24oInJlbW92ZUxpc3RlbmVyIix5KCJwdXNoIikpO3ZhciBfPVByb21pc2UuYWxsKFt0aGlzLnB1c2gsdGhpcy5wdWxsXSkudGhlbigoZnVuY3Rpb24oZSl7dmFyIHQ9e3B1c2g6ZVswXSxwdWxsOmVbMV19O3JldHVybiBvLmVtaXQoImNvbXBsZXRlIix0KSxyJiZyKG51bGwsdCksby5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0fSksKGZ1bmN0aW9uKGUpe2lmKG8uY2FuY2VsKCkscj9yKGUpOm8uZW1pdCgiZXJyb3IiLGUpLG8ucmVtb3ZlQWxsTGlzdGVuZXJzKCkscil0aHJvdyBlfSkpO3RoaXMudGhlbj1mdW5jdGlvbihlLHQpe3JldHVybiBfLnRoZW4oZSx0KX0sdGhpcy5jYXRjaD1mdW5jdGlvbihlKXtyZXR1cm4gXy5jYXRjaChlKX19bChZbixkKSxZbi5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKCl7dGhpcy5jYW5jZWxsZWQ9ITAsdGhpcy5zdGF0ZT0iY2FuY2VsbGVkIix0aGlzLmVtaXQoImNhbmNlbCIpfSxZbi5wcm90b3R5cGUucmVhZHk9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO2Z1bmN0aW9uIHIoKXtuLmNhbmNlbCgpfW4uX3JlYWR5Q2FsbGVkfHwobi5fcmVhZHlDYWxsZWQ9ITAsZS5vbmNlKCJkZXN0cm95ZWQiLHIpLHQub25jZSgiZGVzdHJveWVkIixyKSxuLm9uY2UoImNvbXBsZXRlIiwoZnVuY3Rpb24oKXtlLnJlbW92ZUxpc3RlbmVyKCJkZXN0cm95ZWQiLHIpLHQucmVtb3ZlTGlzdGVuZXIoImRlc3Ryb3llZCIscil9KSkpfSxsKGVyLGQpLGVyLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbGVkfHwodGhpcy5jYW5jZWxlZD0hMCx0aGlzLnB1c2guY2FuY2VsKCksdGhpcy5wdWxsLmNhbmNlbCgpKX0sWWUucGx1Z2luKChmdW5jdGlvbihlKXtlLmFkYXB0ZXIoImlkYiIsb24sITApfSkpLnBsdWdpbigoZnVuY3Rpb24oZSl7ZS5hZGFwdGVyKCJodHRwIixwbiwhMSksZS5hZGFwdGVyKCJodHRwcyIscG4sITEpfSkpLnBsdWdpbihNbikucGx1Z2luKChmdW5jdGlvbihlKXtlLnJlcGxpY2F0ZT1YbixlLnN5bmM9Wm4sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJyZXBsaWNhdGUiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB2b2lkIDA9PT10aGlzLnJlcGxpY2F0ZU1ldGhvZHMmJih0aGlzLnJlcGxpY2F0ZU1ldGhvZHM9e2Zyb206ZnVuY3Rpb24odCxuLHIpe3JldHVybiBlLmNvbnN0cnVjdG9yLnJlcGxpY2F0ZSh0LGUsbixyKX0sdG86ZnVuY3Rpb24odCxuLHIpe3JldHVybiBlLmNvbnN0cnVjdG9yLnJlcGxpY2F0ZShlLHQsbixyKX19KSx0aGlzLnJlcGxpY2F0ZU1ldGhvZHN9fSksZS5wcm90b3R5cGUuc3luYz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuY29uc3RydWN0b3Iuc3luYyh0aGlzLGUsdCxuKX19KSksdC5leHBvcnRzPVllfSkuY2FsbCh0aGlzLGUoMTEpKX0sezE6MSwxMDoxMCwxMToxMSwxMjoxMiwxNDoxNCwyMzoyMywzOjMsNDo0fV19LHt9LFsyNF0pKDI0KX0pKTsKCgo=";